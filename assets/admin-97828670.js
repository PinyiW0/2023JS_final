(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var s=Function.bind.apply(e,o);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Eh={},tx={get exports(){return Eh},set exports(t){Eh=t}},fe="top",Ee="bottom",Le="right",he="left",Cs="auto",ar=[fe,Ee,Le,he],ai="start",Bi="end",cg="clippingParents",ml="viewport",$i="popper",ug="reference",lu=ar.reduce(function(t,e){return t.concat([e+"-"+ai,e+"-"+Bi])},[]),yl=[].concat(ar,[Cs]).reduce(function(t,e){return t.concat([e,e+"-"+ai,e+"-"+Bi])},[]),lg="beforeRead",fg="read",hg="afterRead",dg="beforeMain",pg="main",gg="afterMain",mg="beforeWrite",yg="write",_g="afterWrite",vg=[lg,fg,hg,dg,pg,gg,mg,yg,_g];function sn(t){return t?(t.nodeName||"").toLowerCase():null}function Me(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oi(t){var e=Me(t).Element;return t instanceof e||t instanceof Element}function Ie(t){var e=Me(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _l(t){if(typeof ShadowRoot>"u")return!1;var e=Me(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ex(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},s=e.elements[n];!Ie(s)||!sn(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(u){var f=o[u];f===!1?s.removeAttribute(u):s.setAttribute(u,f===!0?"":f)}))})}function nx(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],s=e.attributes[r]||{},u=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),f=u.reduce(function(h,p){return h[p]="",h},{});!Ie(o)||!sn(o)||(Object.assign(o.style,f),Object.keys(s).forEach(function(h){o.removeAttribute(h)}))})}}const vl={name:"applyStyles",enabled:!0,phase:"write",fn:ex,effect:nx,requires:["computeStyles"]};function an(t){return t.split("-")[0]}var ni=Math.max,Eo=Math.min,Hi=Math.round;function fu(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xg(){return!/^((?!chrome|android).)*safari/i.test(fu())}function Xi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,s=1;e&&Ie(t)&&(o=t.offsetWidth>0&&Hi(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Hi(r.height)/t.offsetHeight||1);var u=oi(t)?Me(t):window,f=u.visualViewport,h=!xg()&&n,p=(r.left+(h&&f?f.offsetLeft:0))/o,g=(r.top+(h&&f?f.offsetTop:0))/s,y=r.width/o,m=r.height/s;return{width:y,height:m,top:g,right:p+y,bottom:g+m,left:p,x:p,y:g}}function xl(t){var e=Xi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function bg(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_l(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _n(t){return Me(t).getComputedStyle(t)}function ix(t){return["table","td","th"].indexOf(sn(t))>=0}function Vn(t){return((oi(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ps(t){return sn(t)==="html"?t:t.assignedSlot||t.parentNode||(_l(t)?t.host:null)||Vn(t)}function Lh(t){return!Ie(t)||_n(t).position==="fixed"?null:t.offsetParent}function rx(t){var e=/firefox/i.test(fu()),n=/Trident/i.test(fu());if(n&&Ie(t)){var r=_n(t);if(r.position==="fixed")return null}var o=Ps(t);for(_l(o)&&(o=o.host);Ie(o)&&["html","body"].indexOf(sn(o))<0;){var s=_n(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function wa(t){for(var e=Me(t),n=Lh(t);n&&ix(n)&&_n(n).position==="static";)n=Lh(n);return n&&(sn(n)==="html"||sn(n)==="body"&&_n(n).position==="static")?e:n||rx(t)||e}function bl(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qr(t,e,n){return ni(t,Eo(e,n))}function ax(t,e,n){var r=qr(t,e,n);return r>n?n:r}function wg(){return{top:0,right:0,bottom:0,left:0}}function Sg(t){return Object.assign({},wg(),t)}function Ag(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ox=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Sg(typeof e!="number"?e:Ag(e,ar))};function sx(t){var e,n=t.state,r=t.name,o=t.options,s=n.elements.arrow,u=n.modifiersData.popperOffsets,f=an(n.placement),h=bl(f),p=[he,Le].indexOf(f)>=0,g=p?"height":"width";if(!(!s||!u)){var y=ox(o.padding,n),m=xl(s),x=h==="y"?fe:he,w=h==="y"?Ee:Le,b=n.rects.reference[g]+n.rects.reference[h]-u[h]-n.rects.popper[g],A=u[h]-n.rects.reference[h],C=wa(s),$=C?h==="y"?C.clientHeight||0:C.clientWidth||0:0,L=b/2-A/2,O=y[x],V=$-m[g]-y[w],B=$/2-m[g]/2+L,z=qr(O,B,V),Q=h;n.modifiersData[r]=(e={},e[Q]=z,e.centerOffset=z-B,e)}}function cx(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||bg(e.elements.popper,o)&&(e.elements.arrow=o))}const Tg={name:"arrow",enabled:!0,phase:"main",fn:sx,effect:cx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(t){return t.split("-")[1]}var ux={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lx(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:Hi(n*o)/o||0,y:Hi(r*o)/o||0}}function Mh(t){var e,n=t.popper,r=t.popperRect,o=t.placement,s=t.variation,u=t.offsets,f=t.position,h=t.gpuAcceleration,p=t.adaptive,g=t.roundOffsets,y=t.isFixed,m=u.x,x=m===void 0?0:m,w=u.y,b=w===void 0?0:w,A=typeof g=="function"?g({x,y:b}):{x,y:b};x=A.x,b=A.y;var C=u.hasOwnProperty("x"),$=u.hasOwnProperty("y"),L=he,O=fe,V=window;if(p){var B=wa(n),z="clientHeight",Q="clientWidth";if(B===Me(n)&&(B=Vn(n),_n(B).position!=="static"&&f==="absolute"&&(z="scrollHeight",Q="scrollWidth")),B=B,o===fe||(o===he||o===Le)&&s===Bi){O=Ee;var X=y&&B===V&&V.visualViewport?V.visualViewport.height:B[z];b-=X-r.height,b*=h?1:-1}if(o===he||(o===fe||o===Ee)&&s===Bi){L=Le;var T=y&&B===V&&V.visualViewport?V.visualViewport.width:B[Q];x-=T-r.width,x*=h?1:-1}}var q=Object.assign({position:f},p&&ux),k=g===!0?lx({x,y:b},Me(n)):{x,y:b};if(x=k.x,b=k.y,h){var Y;return Object.assign({},q,(Y={},Y[O]=$?"0":"",Y[L]=C?"0":"",Y.transform=(V.devicePixelRatio||1)<=1?"translate("+x+"px, "+b+"px)":"translate3d("+x+"px, "+b+"px, 0)",Y))}return Object.assign({},q,(e={},e[O]=$?b+"px":"",e[L]=C?x+"px":"",e.transform="",e))}function fx(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,u=s===void 0?!0:s,f=n.roundOffsets,h=f===void 0?!0:f,p={placement:an(e.placement),variation:Yi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mh(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mh(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const wl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fx,data:{}};var Ha={passive:!0};function hx(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,s=o===void 0?!0:o,u=r.resize,f=u===void 0?!0:u,h=Me(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(g){g.addEventListener("scroll",n.update,Ha)}),f&&h.addEventListener("resize",n.update,Ha),function(){s&&p.forEach(function(g){g.removeEventListener("scroll",n.update,Ha)}),f&&h.removeEventListener("resize",n.update,Ha)}}const Sl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hx,data:{}};var dx={left:"right",right:"left",bottom:"top",top:"bottom"};function lo(t){return t.replace(/left|right|bottom|top/g,function(e){return dx[e]})}var px={start:"end",end:"start"};function $h(t){return t.replace(/start|end/g,function(e){return px[e]})}function Al(t){var e=Me(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Tl(t){return Xi(Vn(t)).left+Al(t).scrollLeft}function gx(t,e){var n=Me(t),r=Vn(t),o=n.visualViewport,s=r.clientWidth,u=r.clientHeight,f=0,h=0;if(o){s=o.width,u=o.height;var p=xg();(p||!p&&e==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}return{width:s,height:u,x:f+Tl(t),y:h}}function mx(t){var e,n=Vn(t),r=Al(t),o=(e=t.ownerDocument)==null?void 0:e.body,s=ni(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=ni(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),f=-r.scrollLeft+Tl(t),h=-r.scrollTop;return _n(o||n).direction==="rtl"&&(f+=ni(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:u,x:f,y:h}}function Cl(t){var e=_n(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Cg(t){return["html","body","#document"].indexOf(sn(t))>=0?t.ownerDocument.body:Ie(t)&&Cl(t)?t:Cg(Ps(t))}function Wr(t,e){var n;e===void 0&&(e=[]);var r=Cg(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),s=Me(r),u=o?[s].concat(s.visualViewport||[],Cl(r)?r:[]):r,f=e.concat(u);return o?f:f.concat(Wr(Ps(u)))}function hu(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yx(t,e){var n=Xi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Oh(t,e,n){return e===ml?hu(gx(t,n)):oi(e)?yx(e,n):hu(mx(Vn(t)))}function _x(t){var e=Wr(Ps(t)),n=["absolute","fixed"].indexOf(_n(t).position)>=0,r=n&&Ie(t)?wa(t):t;return oi(r)?e.filter(function(o){return oi(o)&&bg(o,r)&&sn(o)!=="body"}):[]}function vx(t,e,n,r){var o=e==="clippingParents"?_x(t):[].concat(e),s=[].concat(o,[n]),u=s[0],f=s.reduce(function(h,p){var g=Oh(t,p,r);return h.top=ni(g.top,h.top),h.right=Eo(g.right,h.right),h.bottom=Eo(g.bottom,h.bottom),h.left=ni(g.left,h.left),h},Oh(t,u,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function Pg(t){var e=t.reference,n=t.element,r=t.placement,o=r?an(r):null,s=r?Yi(r):null,u=e.x+e.width/2-n.width/2,f=e.y+e.height/2-n.height/2,h;switch(o){case fe:h={x:u,y:e.y-n.height};break;case Ee:h={x:u,y:e.y+e.height};break;case Le:h={x:e.x+e.width,y:f};break;case he:h={x:e.x-n.width,y:f};break;default:h={x:e.x,y:e.y}}var p=o?bl(o):null;if(p!=null){var g=p==="y"?"height":"width";switch(s){case ai:h[p]=h[p]-(e[g]/2-n[g]/2);break;case Bi:h[p]=h[p]+(e[g]/2-n[g]/2);break}}return h}function Ui(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,s=n.strategy,u=s===void 0?t.strategy:s,f=n.boundary,h=f===void 0?cg:f,p=n.rootBoundary,g=p===void 0?ml:p,y=n.elementContext,m=y===void 0?$i:y,x=n.altBoundary,w=x===void 0?!1:x,b=n.padding,A=b===void 0?0:b,C=Sg(typeof A!="number"?A:Ag(A,ar)),$=m===$i?ug:$i,L=t.rects.popper,O=t.elements[w?$:m],V=vx(oi(O)?O:O.contextElement||Vn(t.elements.popper),h,g,u),B=Xi(t.elements.reference),z=Pg({reference:B,element:L,strategy:"absolute",placement:o}),Q=hu(Object.assign({},L,z)),X=m===$i?Q:B,T={top:V.top-X.top+C.top,bottom:X.bottom-V.bottom+C.bottom,left:V.left-X.left+C.left,right:X.right-V.right+C.right},q=t.modifiersData.offset;if(m===$i&&q){var k=q[o];Object.keys(T).forEach(function(Y){var J=[Le,Ee].indexOf(Y)>=0?1:-1,U=[fe,Ee].indexOf(Y)>=0?"y":"x";T[Y]+=k[U]*J})}return T}function xx(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,s=n.rootBoundary,u=n.padding,f=n.flipVariations,h=n.allowedAutoPlacements,p=h===void 0?yl:h,g=Yi(r),y=g?f?lu:lu.filter(function(w){return Yi(w)===g}):ar,m=y.filter(function(w){return p.indexOf(w)>=0});m.length===0&&(m=y);var x=m.reduce(function(w,b){return w[b]=Ui(t,{placement:b,boundary:o,rootBoundary:s,padding:u})[an(b)],w},{});return Object.keys(x).sort(function(w,b){return x[w]-x[b]})}function bx(t){if(an(t)===Cs)return[];var e=lo(t);return[$h(t),e,$h(e)]}function wx(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,u=n.altAxis,f=u===void 0?!0:u,h=n.fallbackPlacements,p=n.padding,g=n.boundary,y=n.rootBoundary,m=n.altBoundary,x=n.flipVariations,w=x===void 0?!0:x,b=n.allowedAutoPlacements,A=e.options.placement,C=an(A),$=C===A,L=h||($||!w?[lo(A)]:bx(A)),O=[A].concat(L).reduce(function(v,S){return v.concat(an(S)===Cs?xx(e,{placement:S,boundary:g,rootBoundary:y,padding:p,flipVariations:w,allowedAutoPlacements:b}):S)},[]),V=e.rects.reference,B=e.rects.popper,z=new Map,Q=!0,X=O[0],T=0;T<O.length;T++){var q=O[T],k=an(q),Y=Yi(q)===ai,J=[fe,Ee].indexOf(k)>=0,U=J?"width":"height",K=Ui(e,{placement:q,boundary:g,rootBoundary:y,altBoundary:m,padding:p}),rt=J?Y?Le:he:Y?Ee:fe;V[U]>B[U]&&(rt=lo(rt));var ot=lo(rt),i=[];if(s&&i.push(K[k]<=0),f&&i.push(K[rt]<=0,K[ot]<=0),i.every(function(v){return v})){X=q,Q=!1;break}z.set(q,i)}if(Q)for(var a=w?3:1,c=function(S){var P=O.find(function(R){var M=z.get(R);if(M)return M.slice(0,S).every(function(N){return N})});if(P)return X=P,"break"},l=a;l>0;l--){var d=c(l);if(d==="break")break}e.placement!==X&&(e.modifiersData[r]._skip=!0,e.placement=X,e.reset=!0)}}const Eg={name:"flip",enabled:!0,phase:"main",fn:wx,requiresIfExists:["offset"],data:{_skip:!1}};function kh(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Rh(t){return[fe,Le,Ee,he].some(function(e){return t[e]>=0})}function Sx(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,u=Ui(e,{elementContext:"reference"}),f=Ui(e,{altBoundary:!0}),h=kh(u,r),p=kh(f,o,s),g=Rh(h),y=Rh(p);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}const Lg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sx};function Ax(t,e,n){var r=an(t),o=[he,fe].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=s[0],f=s[1];return u=u||0,f=(f||0)*o,[he,Le].indexOf(r)>=0?{x:f,y:u}:{x:u,y:f}}function Tx(t){var e=t.state,n=t.options,r=t.name,o=n.offset,s=o===void 0?[0,0]:o,u=yl.reduce(function(g,y){return g[y]=Ax(y,e.rects,s),g},{}),f=u[e.placement],h=f.x,p=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=u}const Mg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tx};function Cx(t){var e=t.state,n=t.name;e.modifiersData[n]=Pg({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Pl={name:"popperOffsets",enabled:!0,phase:"read",fn:Cx,data:{}};function Px(t){return t==="x"?"y":"x"}function Ex(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,s=o===void 0?!0:o,u=n.altAxis,f=u===void 0?!1:u,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,y=n.padding,m=n.tether,x=m===void 0?!0:m,w=n.tetherOffset,b=w===void 0?0:w,A=Ui(e,{boundary:h,rootBoundary:p,padding:y,altBoundary:g}),C=an(e.placement),$=Yi(e.placement),L=!$,O=bl(C),V=Px(O),B=e.modifiersData.popperOffsets,z=e.rects.reference,Q=e.rects.popper,X=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,T=typeof X=="number"?{mainAxis:X,altAxis:X}:Object.assign({mainAxis:0,altAxis:0},X),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(B){if(s){var Y,J=O==="y"?fe:he,U=O==="y"?Ee:Le,K=O==="y"?"height":"width",rt=B[O],ot=rt+A[J],i=rt-A[U],a=x?-Q[K]/2:0,c=$===ai?z[K]:Q[K],l=$===ai?-Q[K]:-z[K],d=e.elements.arrow,v=x&&d?xl(d):{width:0,height:0},S=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wg(),P=S[J],R=S[U],M=qr(0,z[K],v[K]),N=L?z[K]/2-a-M-P-T.mainAxis:c-M-P-T.mainAxis,D=L?-z[K]/2+a+M+R+T.mainAxis:l+M+R+T.mainAxis,H=e.elements.arrow&&wa(e.elements.arrow),I=H?O==="y"?H.clientTop||0:H.clientLeft||0:0,W=(Y=q==null?void 0:q[O])!=null?Y:0,j=rt+N-W-I,tt=rt+D-W,Z=qr(x?Eo(ot,j):ot,rt,x?ni(i,tt):i);B[O]=Z,k[O]=Z-rt}if(f){var pt,gt=O==="x"?fe:he,wt=O==="x"?Ee:Le,bt=B[V],St=V==="y"?"height":"width",ft=bt+A[gt],At=bt-A[wt],_t=[fe,he].indexOf(C)!==-1,vt=(pt=q==null?void 0:q[V])!=null?pt:0,st=_t?ft:bt-z[St]-Q[St]-vt+T.altAxis,ht=_t?bt+z[St]+Q[St]-vt-T.altAxis:At,It=x&&_t?ax(st,bt,ht):qr(x?st:ft,bt,x?ht:At);B[V]=It,k[V]=It-bt}e.modifiersData[r]=k}}const $g={name:"preventOverflow",enabled:!0,phase:"main",fn:Ex,requiresIfExists:["offset"]};function Lx(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Mx(t){return t===Me(t)||!Ie(t)?Al(t):Lx(t)}function $x(t){var e=t.getBoundingClientRect(),n=Hi(e.width)/t.offsetWidth||1,r=Hi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ox(t,e,n){n===void 0&&(n=!1);var r=Ie(e),o=Ie(e)&&$x(e),s=Vn(e),u=Xi(t,o,n),f={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!n)&&((sn(e)!=="body"||Cl(s))&&(f=Mx(e)),Ie(e)?(h=Xi(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):s&&(h.x=Tl(s))),{x:u.left+f.scrollLeft-h.x,y:u.top+f.scrollTop-h.y,width:u.width,height:u.height}}function kx(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function o(s){n.add(s.name);var u=[].concat(s.requires||[],s.requiresIfExists||[]);u.forEach(function(f){if(!n.has(f)){var h=e.get(f);h&&o(h)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||o(s)}),r}function Rx(t){var e=kx(t);return vg.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function Nx(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Dx(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Nh={placement:"bottom",modifiers:[],strategy:"absolute"};function Dh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Es(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,s=o===void 0?Nh:o;return function(f,h,p){p===void 0&&(p=s);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nh,s),modifiersData:{},elements:{reference:f,popper:h},attributes:{},styles:{}},y=[],m=!1,x={state:g,setOptions:function(C){var $=typeof C=="function"?C(g.options):C;b(),g.options=Object.assign({},s,g.options,$),g.scrollParents={reference:oi(f)?Wr(f):f.contextElement?Wr(f.contextElement):[],popper:Wr(h)};var L=Rx(Dx([].concat(r,g.options.modifiers)));return g.orderedModifiers=L.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!m){var C=g.elements,$=C.reference,L=C.popper;if(Dh($,L)){g.rects={reference:Ox($,wa(L),g.options.strategy==="fixed"),popper:xl(L)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(T){return g.modifiersData[T.name]=Object.assign({},T.data)});for(var O=0;O<g.orderedModifiers.length;O++){if(g.reset===!0){g.reset=!1,O=-1;continue}var V=g.orderedModifiers[O],B=V.fn,z=V.options,Q=z===void 0?{}:z,X=V.name;typeof B=="function"&&(g=B({state:g,options:Q,name:X,instance:x})||g)}}}},update:Nx(function(){return new Promise(function(A){x.forceUpdate(),A(g)})}),destroy:function(){b(),m=!0}};if(!Dh(f,h))return x;x.setOptions(p).then(function(A){!m&&p.onFirstUpdate&&p.onFirstUpdate(A)});function w(){g.orderedModifiers.forEach(function(A){var C=A.name,$=A.options,L=$===void 0?{}:$,O=A.effect;if(typeof O=="function"){var V=O({state:g,name:C,instance:x,options:L}),B=function(){};y.push(V||B)}})}function b(){y.forEach(function(A){return A()}),y=[]}return x}}var Ix=Es(),Vx=[Sl,Pl,wl,vl],Gx=Es({defaultModifiers:Vx}),Fx=[Sl,Pl,wl,vl,Mg,Eg,$g,Tg,Lg],zx=Es({defaultModifiers:Fx});const Bx=Object.freeze(Object.defineProperty({__proto__:null,afterMain:gg,afterRead:hg,afterWrite:_g,applyStyles:vl,arrow:Tg,auto:Cs,basePlacements:ar,beforeMain:dg,beforeRead:lg,beforeWrite:mg,bottom:Ee,clippingParents:cg,computeStyles:wl,createPopper:zx,createPopperBase:Ix,createPopperLite:Gx,detectOverflow:Ui,end:Bi,eventListeners:Sl,flip:Eg,hide:Lg,left:he,main:pg,modifierPhases:vg,offset:Mg,placements:yl,popper:$i,popperGenerator:Es,popperOffsets:Pl,preventOverflow:$g,read:fg,reference:ug,right:Le,start:ai,top:fe,variationPlacements:lu,viewport:ml,write:yg},Symbol.toStringTag,{value:"Module"})),Hx=sg(Bx);/*!
  * Bootstrap v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(Hx)})(og,function(n){function r(F){if(F&&F.__esModule)return F;const _=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(F){for(const E in F)if(E!=="default"){const G=Object.getOwnPropertyDescriptor(F,E);Object.defineProperty(_,E,G.get?G:{enumerable:!0,get:()=>F[E]})}}return _.default=F,Object.freeze(_)}const o=r(n),s="transitionend",u=F=>{let _=F.getAttribute("data-bs-target");if(!_||_==="#"){let E=F.getAttribute("href");if(!E||!E.includes("#")&&!E.startsWith("."))return null;E.includes("#")&&!E.startsWith("#")&&(E=`#${E.split("#")[1]}`),_=E&&E!=="#"?E.trim():null}return _},f=F=>{const _=u(F);return _&&document.querySelector(_)?_:null},h=F=>{const _=u(F);return _?document.querySelector(_):null},p=F=>{F.dispatchEvent(new Event(s))},g=F=>!(!F||typeof F!="object")&&(F.jquery!==void 0&&(F=F[0]),F.nodeType!==void 0),y=F=>g(F)?F.jquery?F[0]:F:typeof F=="string"&&F.length>0?document.querySelector(F):null,m=F=>{if(!g(F)||F.getClientRects().length===0)return!1;const _=getComputedStyle(F).getPropertyValue("visibility")==="visible",E=F.closest("details:not([open])");if(!E)return _;if(E!==F){const G=F.closest("summary");if(G&&G.parentNode!==E||G===null)return!1}return _},x=F=>!F||F.nodeType!==Node.ELEMENT_NODE||!!F.classList.contains("disabled")||(F.disabled!==void 0?F.disabled:F.hasAttribute("disabled")&&F.getAttribute("disabled")!=="false"),w=F=>{if(!document.documentElement.attachShadow)return null;if(typeof F.getRootNode=="function"){const _=F.getRootNode();return _ instanceof ShadowRoot?_:null}return F instanceof ShadowRoot?F:F.parentNode?w(F.parentNode):null},b=()=>{},A=F=>{F.offsetHeight},C=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$=[],L=()=>document.documentElement.dir==="rtl",O=F=>{var _;_=()=>{const E=C();if(E){const G=F.NAME,et=E.fn[G];E.fn[G]=F.jQueryInterface,E.fn[G].Constructor=F,E.fn[G].noConflict=()=>(E.fn[G]=et,F.jQueryInterface)}},document.readyState==="loading"?($.length||document.addEventListener("DOMContentLoaded",()=>{for(const E of $)E()}),$.push(_)):_()},V=F=>{typeof F=="function"&&F()},B=(F,_,E=!0)=>{if(!E)return void V(F);const G=(lt=>{if(!lt)return 0;let{transitionDuration:Et,transitionDelay:Dt}=window.getComputedStyle(lt);const oe=Number.parseFloat(Et),Se=Number.parseFloat(Dt);return oe||Se?(Et=Et.split(",")[0],Dt=Dt.split(",")[0],1e3*(Number.parseFloat(Et)+Number.parseFloat(Dt))):0})(_)+5;let et=!1;const at=({target:lt})=>{lt===_&&(et=!0,_.removeEventListener(s,at),V(F))};_.addEventListener(s,at),setTimeout(()=>{et||p(_)},G)},z=(F,_,E,G)=>{const et=F.length;let at=F.indexOf(_);return at===-1?!E&&G?F[et-1]:F[0]:(at+=E?1:-1,G&&(at=(at+et)%et),F[Math.max(0,Math.min(at,et-1))])},Q=/[^.]*(?=\..*)\.|.*/,X=/\..*/,T=/::\d+$/,q={};let k=1;const Y={mouseenter:"mouseover",mouseleave:"mouseout"},J=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function U(F,_){return _&&`${_}::${k++}`||F.uidEvent||k++}function K(F){const _=U(F);return F.uidEvent=_,q[_]=q[_]||{},q[_]}function rt(F,_,E=null){return Object.values(F).find(G=>G.callable===_&&G.delegationSelector===E)}function ot(F,_,E){const G=typeof _=="string",et=G?E:_||E;let at=l(F);return J.has(at)||(at=F),[G,et,at]}function i(F,_,E,G,et){if(typeof _!="string"||!F)return;let[at,lt,Et]=ot(_,E,G);_ in Y&&(lt=(Wn=>function(Be){if(!Be.relatedTarget||Be.relatedTarget!==Be.delegateTarget&&!Be.delegateTarget.contains(Be.relatedTarget))return Wn.call(this,Be)})(lt));const Dt=K(F),oe=Dt[Et]||(Dt[Et]={}),Se=rt(oe,lt,at?E:null);if(Se)return void(Se.oneOff=Se.oneOff&&et);const $e=U(lt,_.replace(Q,"")),Tn=at?function(Ke,Wn,Be){return function yr(Ba){const Zv=Ke.querySelectorAll(Wn);for(let{target:jn}=Ba;jn&&jn!==this;jn=jn.parentNode)for(const Jv of Zv)if(Jv===jn)return v(Ba,{delegateTarget:jn}),yr.oneOff&&d.off(Ke,Ba.type,Wn,Be),Be.apply(jn,[Ba])}}(F,E,lt):function(Ke,Wn){return function Be(yr){return v(yr,{delegateTarget:Ke}),Be.oneOff&&d.off(Ke,yr.type,Wn),Wn.apply(Ke,[yr])}}(F,lt);Tn.delegationSelector=at?E:null,Tn.callable=lt,Tn.oneOff=et,Tn.uidEvent=$e,oe[$e]=Tn,F.addEventListener(Et,Tn,at)}function a(F,_,E,G,et){const at=rt(_[E],G,et);at&&(F.removeEventListener(E,at,!!et),delete _[E][at.uidEvent])}function c(F,_,E,G){const et=_[E]||{};for(const at of Object.keys(et))if(at.includes(G)){const lt=et[at];a(F,_,E,lt.callable,lt.delegationSelector)}}function l(F){return F=F.replace(X,""),Y[F]||F}const d={on(F,_,E,G){i(F,_,E,G,!1)},one(F,_,E,G){i(F,_,E,G,!0)},off(F,_,E,G){if(typeof _!="string"||!F)return;const[et,at,lt]=ot(_,E,G),Et=lt!==_,Dt=K(F),oe=Dt[lt]||{},Se=_.startsWith(".");if(at===void 0){if(Se)for(const $e of Object.keys(Dt))c(F,Dt,$e,_.slice(1));for(const $e of Object.keys(oe)){const Tn=$e.replace(T,"");if(!Et||_.includes(Tn)){const Ke=oe[$e];a(F,Dt,lt,Ke.callable,Ke.delegationSelector)}}}else{if(!Object.keys(oe).length)return;a(F,Dt,lt,at,et?E:null)}},trigger(F,_,E){if(typeof _!="string"||!F)return null;const G=C();let et=null,at=!0,lt=!0,Et=!1;_!==l(_)&&G&&(et=G.Event(_,E),G(F).trigger(et),at=!et.isPropagationStopped(),lt=!et.isImmediatePropagationStopped(),Et=et.isDefaultPrevented());let Dt=new Event(_,{bubbles:at,cancelable:!0});return Dt=v(Dt,E),Et&&Dt.preventDefault(),lt&&F.dispatchEvent(Dt),Dt.defaultPrevented&&et&&et.preventDefault(),Dt}};function v(F,_){for(const[E,G]of Object.entries(_||{}))try{F[E]=G}catch{Object.defineProperty(F,E,{configurable:!0,get:()=>G})}return F}const S=new Map,P={set(F,_,E){S.has(F)||S.set(F,new Map);const G=S.get(F);G.has(_)||G.size===0?G.set(_,E):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(G.keys())[0]}.`)},get:(F,_)=>S.has(F)&&S.get(F).get(_)||null,remove(F,_){if(!S.has(F))return;const E=S.get(F);E.delete(_),E.size===0&&S.delete(F)}};function R(F){if(F==="true")return!0;if(F==="false")return!1;if(F===Number(F).toString())return Number(F);if(F===""||F==="null")return null;if(typeof F!="string")return F;try{return JSON.parse(decodeURIComponent(F))}catch{return F}}function M(F){return F.replace(/[A-Z]/g,_=>`-${_.toLowerCase()}`)}const N={setDataAttribute(F,_,E){F.setAttribute(`data-bs-${M(_)}`,E)},removeDataAttribute(F,_){F.removeAttribute(`data-bs-${M(_)}`)},getDataAttributes(F){if(!F)return{};const _={},E=Object.keys(F.dataset).filter(G=>G.startsWith("bs")&&!G.startsWith("bsConfig"));for(const G of E){let et=G.replace(/^bs/,"");et=et.charAt(0).toLowerCase()+et.slice(1,et.length),_[et]=R(F.dataset[G])}return _},getDataAttribute:(F,_)=>R(F.getAttribute(`data-bs-${M(_)}`))};class D{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(_){return _=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _}_mergeConfigObj(_,E){const G=g(E)?N.getDataAttribute(E,"config"):{};return{...this.constructor.Default,...typeof G=="object"?G:{},...g(E)?N.getDataAttributes(E):{},...typeof _=="object"?_:{}}}_typeCheckConfig(_,E=this.constructor.DefaultType){for(const et of Object.keys(E)){const at=E[et],lt=_[et],Et=g(lt)?"element":(G=lt)==null?`${G}`:Object.prototype.toString.call(G).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(at).test(Et))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${et}" provided type "${Et}" but expected type "${at}".`)}var G}}class H extends D{constructor(_,E){super(),(_=y(_))&&(this._element=_,this._config=this._getConfig(E),P.set(this._element,this.constructor.DATA_KEY,this))}dispose(){P.remove(this._element,this.constructor.DATA_KEY),d.off(this._element,this.constructor.EVENT_KEY);for(const _ of Object.getOwnPropertyNames(this))this[_]=null}_queueCallback(_,E,G=!0){B(_,E,G)}_getConfig(_){return _=this._mergeConfigObj(_,this._element),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}static getInstance(_){return P.get(y(_),this.DATA_KEY)}static getOrCreateInstance(_,E={}){return this.getInstance(_)||new this(_,typeof E=="object"?E:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(_){return`${_}${this.EVENT_KEY}`}}const I=(F,_="hide")=>{const E=`click.dismiss${F.EVENT_KEY}`,G=F.NAME;d.on(document,E,`[data-bs-dismiss="${G}"]`,function(et){if(["A","AREA"].includes(this.tagName)&&et.preventDefault(),x(this))return;const at=h(this)||this.closest(`.${G}`);F.getOrCreateInstance(at)[_]()})};class W extends H{static get NAME(){return"alert"}close(){if(d.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const _=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,_)}_destroyElement(){this._element.remove(),d.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(_){return this.each(function(){const E=W.getOrCreateInstance(this);if(typeof _=="string"){if(E[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);E[_](this)}})}}I(W,"close"),O(W);const j='[data-bs-toggle="button"]';class tt extends H{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(_){return this.each(function(){const E=tt.getOrCreateInstance(this);_==="toggle"&&E[_]()})}}d.on(document,"click.bs.button.data-api",j,F=>{F.preventDefault();const _=F.target.closest(j);tt.getOrCreateInstance(_).toggle()}),O(tt);const Z={find:(F,_=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(_,F)),findOne:(F,_=document.documentElement)=>Element.prototype.querySelector.call(_,F),children:(F,_)=>[].concat(...F.children).filter(E=>E.matches(_)),parents(F,_){const E=[];let G=F.parentNode.closest(_);for(;G;)E.push(G),G=G.parentNode.closest(_);return E},prev(F,_){let E=F.previousElementSibling;for(;E;){if(E.matches(_))return[E];E=E.previousElementSibling}return[]},next(F,_){let E=F.nextElementSibling;for(;E;){if(E.matches(_))return[E];E=E.nextElementSibling}return[]},focusableChildren(F){const _=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(E=>`${E}:not([tabindex^="-"])`).join(",");return this.find(_,F).filter(E=>!x(E)&&m(E))}},pt={endCallback:null,leftCallback:null,rightCallback:null},gt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class wt extends D{constructor(_,E){super(),this._element=_,_&&wt.isSupported()&&(this._config=this._getConfig(E),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return pt}static get DefaultType(){return gt}static get NAME(){return"swipe"}dispose(){d.off(this._element,".bs.swipe")}_start(_){this._supportPointerEvents?this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX):this._deltaX=_.touches[0].clientX}_end(_){this._eventIsPointerPenTouch(_)&&(this._deltaX=_.clientX-this._deltaX),this._handleSwipe(),V(this._config.endCallback)}_move(_){this._deltaX=_.touches&&_.touches.length>1?0:_.touches[0].clientX-this._deltaX}_handleSwipe(){const _=Math.abs(this._deltaX);if(_<=40)return;const E=_/this._deltaX;this._deltaX=0,E&&V(E>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(d.on(this._element,"pointerdown.bs.swipe",_=>this._start(_)),d.on(this._element,"pointerup.bs.swipe",_=>this._end(_)),this._element.classList.add("pointer-event")):(d.on(this._element,"touchstart.bs.swipe",_=>this._start(_)),d.on(this._element,"touchmove.bs.swipe",_=>this._move(_)),d.on(this._element,"touchend.bs.swipe",_=>this._end(_)))}_eventIsPointerPenTouch(_){return this._supportPointerEvents&&(_.pointerType==="pen"||_.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const bt="next",St="prev",ft="left",At="right",_t="slid.bs.carousel",vt="carousel",st="active",ht={ArrowLeft:At,ArrowRight:ft},It={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},te={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ft extends H{constructor(_,E){super(_,E),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Z.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===vt&&this.cycle()}static get Default(){return It}static get DefaultType(){return te}static get NAME(){return"carousel"}next(){this._slide(bt)}nextWhenVisible(){!document.hidden&&m(this._element)&&this.next()}prev(){this._slide(St)}pause(){this._isSliding&&p(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?d.one(this._element,_t,()=>this.cycle()):this.cycle())}to(_){const E=this._getItems();if(_>E.length-1||_<0)return;if(this._isSliding)return void d.one(this._element,_t,()=>this.to(_));const G=this._getItemIndex(this._getActive());if(G===_)return;const et=_>G?bt:St;this._slide(et,E[_])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(_){return _.defaultInterval=_.interval,_}_addEventListeners(){this._config.keyboard&&d.on(this._element,"keydown.bs.carousel",_=>this._keydown(_)),this._config.pause==="hover"&&(d.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),d.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&wt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const E of Z.find(".carousel-item img",this._element))d.on(E,"dragstart.bs.carousel",G=>G.preventDefault());const _={leftCallback:()=>this._slide(this._directionToOrder(ft)),rightCallback:()=>this._slide(this._directionToOrder(At)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new wt(this._element,_)}_keydown(_){if(/input|textarea/i.test(_.target.tagName))return;const E=ht[_.key];E&&(_.preventDefault(),this._slide(this._directionToOrder(E)))}_getItemIndex(_){return this._getItems().indexOf(_)}_setActiveIndicatorElement(_){if(!this._indicatorsElement)return;const E=Z.findOne(".active",this._indicatorsElement);E.classList.remove(st),E.removeAttribute("aria-current");const G=Z.findOne(`[data-bs-slide-to="${_}"]`,this._indicatorsElement);G&&(G.classList.add(st),G.setAttribute("aria-current","true"))}_updateInterval(){const _=this._activeElement||this._getActive();if(!_)return;const E=Number.parseInt(_.getAttribute("data-bs-interval"),10);this._config.interval=E||this._config.defaultInterval}_slide(_,E=null){if(this._isSliding)return;const G=this._getActive(),et=_===bt,at=E||z(this._getItems(),G,et,this._config.wrap);if(at===G)return;const lt=this._getItemIndex(at),Et=$e=>d.trigger(this._element,$e,{relatedTarget:at,direction:this._orderToDirection(_),from:this._getItemIndex(G),to:lt});if(Et("slide.bs.carousel").defaultPrevented||!G||!at)return;const Dt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(lt),this._activeElement=at;const oe=et?"carousel-item-start":"carousel-item-end",Se=et?"carousel-item-next":"carousel-item-prev";at.classList.add(Se),A(at),G.classList.add(oe),at.classList.add(oe),this._queueCallback(()=>{at.classList.remove(oe,Se),at.classList.add(st),G.classList.remove(st,Se,oe),this._isSliding=!1,Et(_t)},G,this._isAnimated()),Dt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Z.findOne(".active.carousel-item",this._element)}_getItems(){return Z.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(_){return L()?_===ft?St:bt:_===ft?bt:St}_orderToDirection(_){return L()?_===St?ft:At:_===St?At:ft}static jQueryInterface(_){return this.each(function(){const E=Ft.getOrCreateInstance(this,_);if(typeof _!="number"){if(typeof _=="string"){if(E[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);E[_]()}}else E.to(_)})}}d.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(F){const _=h(this);if(!_||!_.classList.contains(vt))return;F.preventDefault();const E=Ft.getOrCreateInstance(_),G=this.getAttribute("data-bs-slide-to");return G?(E.to(G),void E._maybeEnableCycle()):N.getDataAttribute(this,"slide")==="next"?(E.next(),void E._maybeEnableCycle()):(E.prev(),void E._maybeEnableCycle())}),d.on(window,"load.bs.carousel.data-api",()=>{const F=Z.find('[data-bs-ride="carousel"]');for(const _ of F)Ft.getOrCreateInstance(_)}),O(Ft);const re="show",Ht="collapse",Ut="collapsing",Ot='[data-bs-toggle="collapse"]',it={parent:null,toggle:!0},xt={parent:"(null|element)",toggle:"boolean"};class Kt extends H{constructor(_,E){super(_,E),this._isTransitioning=!1,this._triggerArray=[];const G=Z.find(Ot);for(const et of G){const at=f(et),lt=Z.find(at).filter(Et=>Et===this._element);at!==null&&lt.length&&this._triggerArray.push(et)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return it}static get DefaultType(){return xt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let _=[];if(this._config.parent&&(_=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(et=>et!==this._element).map(et=>Kt.getOrCreateInstance(et,{toggle:!1}))),_.length&&_[0]._isTransitioning||d.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const et of _)et.hide();const E=this._getDimension();this._element.classList.remove(Ht),this._element.classList.add(Ut),this._element.style[E]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const G=`scroll${E[0].toUpperCase()+E.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ut),this._element.classList.add(Ht,re),this._element.style[E]="",d.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[E]=`${this._element[G]}px`}hide(){if(this._isTransitioning||!this._isShown()||d.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const _=this._getDimension();this._element.style[_]=`${this._element.getBoundingClientRect()[_]}px`,A(this._element),this._element.classList.add(Ut),this._element.classList.remove(Ht,re);for(const E of this._triggerArray){const G=h(E);G&&!this._isShown(G)&&this._addAriaAndCollapsedClass([E],!1)}this._isTransitioning=!0,this._element.style[_]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ut),this._element.classList.add(Ht),d.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(_=this._element){return _.classList.contains(re)}_configAfterMerge(_){return _.toggle=!!_.toggle,_.parent=y(_.parent),_}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const _=this._getFirstLevelChildren(Ot);for(const E of _){const G=h(E);G&&this._addAriaAndCollapsedClass([E],this._isShown(G))}}_getFirstLevelChildren(_){const E=Z.find(":scope .collapse .collapse",this._config.parent);return Z.find(_,this._config.parent).filter(G=>!E.includes(G))}_addAriaAndCollapsedClass(_,E){if(_.length)for(const G of _)G.classList.toggle("collapsed",!E),G.setAttribute("aria-expanded",E)}static jQueryInterface(_){const E={};return typeof _=="string"&&/show|hide/.test(_)&&(E.toggle=!1),this.each(function(){const G=Kt.getOrCreateInstance(this,E);if(typeof _=="string"){if(G[_]===void 0)throw new TypeError(`No method named "${_}"`);G[_]()}})}}d.on(document,"click.bs.collapse.data-api",Ot,function(F){(F.target.tagName==="A"||F.delegateTarget&&F.delegateTarget.tagName==="A")&&F.preventDefault();const _=f(this),E=Z.find(_);for(const G of E)Kt.getOrCreateInstance(G,{toggle:!1}).toggle()}),O(Kt);const Sn="dropdown",hr="ArrowUp",Ge="ArrowDown",we="click.bs.dropdown.data-api",ae="keydown.bs.dropdown.data-api",_e="show",Fe='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',An=`${Fe}.show`,Xn=".dropdown-menu",dr=L()?"top-end":"top-start",Qe=L()?"top-start":"top-end",dc=L()?"bottom-end":"bottom-start",vv=L()?"bottom-start":"bottom-end",xv=L()?"left-start":"right-start",bv=L()?"right-start":"left-start",wv={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Sv={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ze extends H{constructor(_,E){super(_,E),this._popper=null,this._parent=this._element.parentNode,this._menu=Z.next(this._element,Xn)[0]||Z.prev(this._element,Xn)[0]||Z.findOne(Xn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return wv}static get DefaultType(){return Sv}static get NAME(){return Sn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(x(this._element)||this._isShown())return;const _={relatedTarget:this._element};if(!d.trigger(this._element,"show.bs.dropdown",_).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const E of[].concat(...document.body.children))d.on(E,"mouseover",b);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_e),this._element.classList.add(_e),d.trigger(this._element,"shown.bs.dropdown",_)}}hide(){if(x(this._element)||!this._isShown())return;const _={relatedTarget:this._element};this._completeHide(_)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(_){if(!d.trigger(this._element,"hide.bs.dropdown",_).defaultPrevented){if("ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))d.off(E,"mouseover",b);this._popper&&this._popper.destroy(),this._menu.classList.remove(_e),this._element.classList.remove(_e),this._element.setAttribute("aria-expanded","false"),N.removeDataAttribute(this._menu,"popper"),d.trigger(this._element,"hidden.bs.dropdown",_)}}_getConfig(_){if(typeof(_=super._getConfig(_)).reference=="object"&&!g(_.reference)&&typeof _.reference.getBoundingClientRect!="function")throw new TypeError(`${Sn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return _}_createPopper(){if(o===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let _=this._element;this._config.reference==="parent"?_=this._parent:g(this._config.reference)?_=y(this._config.reference):typeof this._config.reference=="object"&&(_=this._config.reference);const E=this._getPopperConfig();this._popper=o.createPopper(_,this._menu,E)}_isShown(){return this._menu.classList.contains(_e)}_getPlacement(){const _=this._parent;if(_.classList.contains("dropend"))return xv;if(_.classList.contains("dropstart"))return bv;if(_.classList.contains("dropup-center"))return"top";if(_.classList.contains("dropdown-center"))return"bottom";const E=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return _.classList.contains("dropup")?E?Qe:dr:E?vv:dc}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(E=>Number.parseInt(E,10)):typeof _=="function"?E=>_(E,this._element):_}_getPopperConfig(){const _={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(N.setDataAttribute(this._menu,"popper","static"),_.modifiers=[{name:"applyStyles",enabled:!1}]),{..._,...typeof this._config.popperConfig=="function"?this._config.popperConfig(_):this._config.popperConfig}}_selectMenuItem({key:_,target:E}){const G=Z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(et=>m(et));G.length&&z(G,E,_===Ge,!G.includes(E)).focus()}static jQueryInterface(_){return this.each(function(){const E=ze.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0)throw new TypeError(`No method named "${_}"`);E[_]()}})}static clearMenus(_){if(_.button===2||_.type==="keyup"&&_.key!=="Tab")return;const E=Z.find(An);for(const G of E){const et=ze.getInstance(G);if(!et||et._config.autoClose===!1)continue;const at=_.composedPath(),lt=at.includes(et._menu);if(at.includes(et._element)||et._config.autoClose==="inside"&&!lt||et._config.autoClose==="outside"&&lt||et._menu.contains(_.target)&&(_.type==="keyup"&&_.key==="Tab"||/input|select|option|textarea|form/i.test(_.target.tagName)))continue;const Et={relatedTarget:et._element};_.type==="click"&&(Et.clickEvent=_),et._completeHide(Et)}}static dataApiKeydownHandler(_){const E=/input|textarea/i.test(_.target.tagName),G=_.key==="Escape",et=[hr,Ge].includes(_.key);if(!et&&!G||E&&!G)return;_.preventDefault();const at=this.matches(Fe)?this:Z.prev(this,Fe)[0]||Z.next(this,Fe)[0]||Z.findOne(Fe,_.delegateTarget.parentNode),lt=ze.getOrCreateInstance(at);if(et)return _.stopPropagation(),lt.show(),void lt._selectMenuItem(_);lt._isShown()&&(_.stopPropagation(),lt.hide(),at.focus())}}d.on(document,ae,Fe,ze.dataApiKeydownHandler),d.on(document,ae,Xn,ze.dataApiKeydownHandler),d.on(document,we,ze.clearMenus),d.on(document,"keyup.bs.dropdown.data-api",ze.clearMenus),d.on(document,we,Fe,function(F){F.preventDefault(),ze.getOrCreateInstance(this).toggle()}),O(ze);const Zf=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Jf=".sticky-top",Na="padding-right",th="margin-right";class pc{constructor(){this._element=document.body}getWidth(){const _=document.documentElement.clientWidth;return Math.abs(window.innerWidth-_)}hide(){const _=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Na,E=>E+_),this._setElementAttributes(Zf,Na,E=>E+_),this._setElementAttributes(Jf,th,E=>E-_)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Na),this._resetElementAttributes(Zf,Na),this._resetElementAttributes(Jf,th)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(_,E,G){const et=this.getWidth();this._applyManipulationCallback(_,at=>{if(at!==this._element&&window.innerWidth>at.clientWidth+et)return;this._saveInitialAttribute(at,E);const lt=window.getComputedStyle(at).getPropertyValue(E);at.style.setProperty(E,`${G(Number.parseFloat(lt))}px`)})}_saveInitialAttribute(_,E){const G=_.style.getPropertyValue(E);G&&N.setDataAttribute(_,E,G)}_resetElementAttributes(_,E){this._applyManipulationCallback(_,G=>{const et=N.getDataAttribute(G,E);et!==null?(N.removeDataAttribute(G,E),G.style.setProperty(E,et)):G.style.removeProperty(E)})}_applyManipulationCallback(_,E){if(g(_))E(_);else for(const G of Z.find(_,this._element))E(G)}}const eh="show",nh="mousedown.bs.backdrop",Av={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Tv={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ih extends D{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return Av}static get DefaultType(){return Tv}static get NAME(){return"backdrop"}show(_){if(!this._config.isVisible)return void V(_);this._append();const E=this._getElement();this._config.isAnimated&&A(E),E.classList.add(eh),this._emulateAnimation(()=>{V(_)})}hide(_){this._config.isVisible?(this._getElement().classList.remove(eh),this._emulateAnimation(()=>{this.dispose(),V(_)})):V(_)}dispose(){this._isAppended&&(d.off(this._element,nh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add("fade"),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=y(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),d.on(_,nh,()=>{V(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){B(_,this._getElement(),this._config.isAnimated)}}const rh=".bs.focustrap",ah="backward",Cv={autofocus:!0,trapElement:null},Pv={autofocus:"boolean",trapElement:"element"};class oh extends D{constructor(_){super(),this._config=this._getConfig(_),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Cv}static get DefaultType(){return Pv}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),d.off(document,rh),d.on(document,"focusin.bs.focustrap",_=>this._handleFocusin(_)),d.on(document,"keydown.tab.bs.focustrap",_=>this._handleKeydown(_)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,d.off(document,rh))}_handleFocusin(_){const{trapElement:E}=this._config;if(_.target===document||_.target===E||E.contains(_.target))return;const G=Z.focusableChildren(E);G.length===0?E.focus():this._lastTabNavDirection===ah?G[G.length-1].focus():G[0].focus()}_handleKeydown(_){_.key==="Tab"&&(this._lastTabNavDirection=_.shiftKey?ah:"forward")}}const sh="hidden.bs.modal",ch="show.bs.modal",uh="modal-open",lh="show",gc="modal-static",Ev={backdrop:!0,focus:!0,keyboard:!0},Lv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Yn extends H{constructor(_,E){super(_,E),this._dialog=Z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new pc,this._addEventListeners()}static get Default(){return Ev}static get DefaultType(){return Lv}static get NAME(){return"modal"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||this._isTransitioning||d.trigger(this._element,ch,{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(_)))}hide(){this._isShown&&!this._isTransitioning&&(d.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){for(const _ of[window,this._dialog])d.off(_,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ih({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new oh({trapElement:this._element})}_showElement(_){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const E=Z.findOne(".modal-body",this._dialog);E&&(E.scrollTop=0),A(this._element),this._element.classList.add(lh),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,d.trigger(this._element,"shown.bs.modal",{relatedTarget:_})},this._dialog,this._isAnimated())}_addEventListeners(){d.on(this._element,"keydown.dismiss.bs.modal",_=>{if(_.key==="Escape")return this._config.keyboard?(_.preventDefault(),void this.hide()):void this._triggerBackdropTransition()}),d.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),d.on(this._element,"mousedown.dismiss.bs.modal",_=>{d.one(this._element,"click.dismiss.bs.modal",E=>{this._element===_.target&&this._element===E.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(uh),this._resetAdjustments(),this._scrollBar.reset(),d.trigger(this._element,sh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(d.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const _=this._element.scrollHeight>document.documentElement.clientHeight,E=this._element.style.overflowY;E==="hidden"||this._element.classList.contains(gc)||(_||(this._element.style.overflowY="hidden"),this._element.classList.add(gc),this._queueCallback(()=>{this._element.classList.remove(gc),this._queueCallback(()=>{this._element.style.overflowY=E},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const _=this._element.scrollHeight>document.documentElement.clientHeight,E=this._scrollBar.getWidth(),G=E>0;if(G&&!_){const et=L()?"paddingLeft":"paddingRight";this._element.style[et]=`${E}px`}if(!G&&_){const et=L()?"paddingRight":"paddingLeft";this._element.style[et]=`${E}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(_,E){return this.each(function(){const G=Yn.getOrCreateInstance(this,_);if(typeof _=="string"){if(G[_]===void 0)throw new TypeError(`No method named "${_}"`);G[_](E)}})}}d.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(F){const _=h(this);["A","AREA"].includes(this.tagName)&&F.preventDefault(),d.one(_,ch,G=>{G.defaultPrevented||d.one(_,sh,()=>{m(this)&&this.focus()})});const E=Z.findOne(".modal.show");E&&Yn.getInstance(E).hide(),Yn.getOrCreateInstance(_).toggle(this)}),I(Yn),O(Yn);const fh="show",hh="showing",dh="hiding",ph=".offcanvas.show",gh="hidePrevented.bs.offcanvas",mh="hidden.bs.offcanvas",Mv={backdrop:!0,keyboard:!0,scroll:!1},$v={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class hn extends H{constructor(_,E){super(_,E),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Mv}static get DefaultType(){return $v}static get NAME(){return"offcanvas"}toggle(_){return this._isShown?this.hide():this.show(_)}show(_){this._isShown||d.trigger(this._element,"show.bs.offcanvas",{relatedTarget:_}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new pc().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(fh),this._element.classList.remove(hh),d.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:_})},this._element,!0))}hide(){this._isShown&&(d.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(dh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(fh,dh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new pc().reset(),d.trigger(this._element,mh)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const _=!!this._config.backdrop;return new ih({className:"offcanvas-backdrop",isVisible:_,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_?()=>{this._config.backdrop!=="static"?this.hide():d.trigger(this._element,gh)}:null})}_initializeFocusTrap(){return new oh({trapElement:this._element})}_addEventListeners(){d.on(this._element,"keydown.dismiss.bs.offcanvas",_=>{_.key==="Escape"&&(this._config.keyboard?this.hide():d.trigger(this._element,gh))})}static jQueryInterface(_){return this.each(function(){const E=hn.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);E[_](this)}})}}d.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(F){const _=h(this);if(["A","AREA"].includes(this.tagName)&&F.preventDefault(),x(this))return;d.one(_,mh,()=>{m(this)&&this.focus()});const E=Z.findOne(ph);E&&E!==_&&hn.getInstance(E).hide(),hn.getOrCreateInstance(_).toggle(this)}),d.on(window,"load.bs.offcanvas.data-api",()=>{for(const F of Z.find(ph))hn.getOrCreateInstance(F).show()}),d.on(window,"resize.bs.offcanvas",()=>{for(const F of Z.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(F).position!=="fixed"&&hn.getOrCreateInstance(F).hide()}),I(hn),O(hn);const Ov=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Rv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Nv=(F,_)=>{const E=F.nodeName.toLowerCase();return _.includes(E)?!Ov.has(E)||!!(kv.test(F.nodeValue)||Rv.test(F.nodeValue)):_.filter(G=>G instanceof RegExp).some(G=>G.test(E))},yh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Dv={allowList:yh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Iv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vv={entry:"(string|element|function|null)",selector:"(string|element)"};class Gv extends D{constructor(_){super(),this._config=this._getConfig(_)}static get Default(){return Dv}static get DefaultType(){return Iv}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(_=>this._resolvePossibleFunction(_)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(_){return this._checkContent(_),this._config.content={...this._config.content,..._},this}toHtml(){const _=document.createElement("div");_.innerHTML=this._maybeSanitize(this._config.template);for(const[et,at]of Object.entries(this._config.content))this._setContent(_,at,et);const E=_.children[0],G=this._resolvePossibleFunction(this._config.extraClass);return G&&E.classList.add(...G.split(" ")),E}_typeCheckConfig(_){super._typeCheckConfig(_),this._checkContent(_.content)}_checkContent(_){for(const[E,G]of Object.entries(_))super._typeCheckConfig({selector:E,entry:G},Vv)}_setContent(_,E,G){const et=Z.findOne(G,_);et&&((E=this._resolvePossibleFunction(E))?g(E)?this._putElementInTemplate(y(E),et):this._config.html?et.innerHTML=this._maybeSanitize(E):et.textContent=E:et.remove())}_maybeSanitize(_){return this._config.sanitize?function(E,G,et){if(!E.length)return E;if(et&&typeof et=="function")return et(E);const at=new window.DOMParser().parseFromString(E,"text/html"),lt=[].concat(...at.body.querySelectorAll("*"));for(const Et of lt){const Dt=Et.nodeName.toLowerCase();if(!Object.keys(G).includes(Dt)){Et.remove();continue}const oe=[].concat(...Et.attributes),Se=[].concat(G["*"]||[],G[Dt]||[]);for(const $e of oe)Nv($e,Se)||Et.removeAttribute($e.nodeName)}return at.body.innerHTML}(_,this._config.allowList,this._config.sanitizeFn):_}_resolvePossibleFunction(_){return typeof _=="function"?_(this):_}_putElementInTemplate(_,E){if(this._config.html)return E.innerHTML="",void E.append(_);E.textContent=_.textContent}}const Fv=new Set(["sanitize","allowList","sanitizeFn"]),mc="fade",Da="show",_h=".modal",vh="hide.bs.modal",Ia="hover",xh="focus",zv={AUTO:"auto",TOP:"top",RIGHT:L()?"left":"right",BOTTOM:"bottom",LEFT:L()?"right":"left"},Bv={allowList:yh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Hv={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Un extends H{constructor(_,E){if(o===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(_,E),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Bv}static get DefaultType(){return Hv}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),d.off(this._element.closest(_h),vh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const _=d.trigger(this._element,this.constructor.eventName("show")),E=(w(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(_.defaultPrevented||!E)return;this._disposePopper();const G=this._getTipElement();this._element.setAttribute("aria-describedby",G.getAttribute("id"));const{container:et}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(et.append(G),d.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(G),G.classList.add(Da),"ontouchstart"in document.documentElement)for(const at of[].concat(...document.body.children))d.on(at,"mouseover",b);this._queueCallback(()=>{d.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!d.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Da),"ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))d.off(_,"mouseover",b);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),d.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(_){const E=this._getTemplateFactory(_).toHtml();if(!E)return null;E.classList.remove(mc,Da),E.classList.add(`bs-${this.constructor.NAME}-auto`);const G=(et=>{do et+=Math.floor(1e6*Math.random());while(document.getElementById(et));return et})(this.constructor.NAME).toString();return E.setAttribute("id",G),this._isAnimated()&&E.classList.add(mc),E}setContent(_){this._newContent=_,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(_){return this._templateFactory?this._templateFactory.changeContent(_):this._templateFactory=new Gv({...this._config,content:_,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(_){return this.constructor.getOrCreateInstance(_.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(mc)}_isShown(){return this.tip&&this.tip.classList.contains(Da)}_createPopper(_){const E=typeof this._config.placement=="function"?this._config.placement.call(this,_,this._element):this._config.placement,G=zv[E.toUpperCase()];return o.createPopper(this._element,_,this._getPopperConfig(G))}_getOffset(){const{offset:_}=this._config;return typeof _=="string"?_.split(",").map(E=>Number.parseInt(E,10)):typeof _=="function"?E=>_(E,this._element):_}_resolvePossibleFunction(_){return typeof _=="function"?_.call(this._element):_}_getPopperConfig(_){const E={placement:_,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:G=>{this._getTipElement().setAttribute("data-popper-placement",G.state.placement)}}]};return{...E,...typeof this._config.popperConfig=="function"?this._config.popperConfig(E):this._config.popperConfig}}_setListeners(){const _=this._config.trigger.split(" ");for(const E of _)if(E==="click")d.on(this._element,this.constructor.eventName("click"),this._config.selector,G=>{this._initializeOnDelegatedTarget(G).toggle()});else if(E!=="manual"){const G=E===Ia?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),et=E===Ia?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");d.on(this._element,G,this._config.selector,at=>{const lt=this._initializeOnDelegatedTarget(at);lt._activeTrigger[at.type==="focusin"?xh:Ia]=!0,lt._enter()}),d.on(this._element,et,this._config.selector,at=>{const lt=this._initializeOnDelegatedTarget(at);lt._activeTrigger[at.type==="focusout"?xh:Ia]=lt._element.contains(at.relatedTarget),lt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},d.on(this._element.closest(_h),vh,this._hideModalHandler)}_fixTitle(){const _=this._element.getAttribute("title");_&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",_),this._element.setAttribute("data-bs-original-title",_),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(_,E){clearTimeout(this._timeout),this._timeout=setTimeout(_,E)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(_){const E=N.getDataAttributes(this._element);for(const G of Object.keys(E))Fv.has(G)&&delete E[G];return _={...E,...typeof _=="object"&&_?_:{}},_=this._mergeConfigObj(_),_=this._configAfterMerge(_),this._typeCheckConfig(_),_}_configAfterMerge(_){return _.container=_.container===!1?document.body:y(_.container),typeof _.delay=="number"&&(_.delay={show:_.delay,hide:_.delay}),typeof _.title=="number"&&(_.title=_.title.toString()),typeof _.content=="number"&&(_.content=_.content.toString()),_}_getDelegateConfig(){const _={};for(const E in this._config)this.constructor.Default[E]!==this._config[E]&&(_[E]=this._config[E]);return _.selector=!1,_.trigger="manual",_}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(_){return this.each(function(){const E=Un.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0)throw new TypeError(`No method named "${_}"`);E[_]()}})}}O(Un);const Xv={...Un.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Yv={...Un.DefaultType,content:"(null|string|element|function)"};class Va extends Un{static get Default(){return Xv}static get DefaultType(){return Yv}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(_){return this.each(function(){const E=Va.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0)throw new TypeError(`No method named "${_}"`);E[_]()}})}}O(Va);const bh="click.bs.scrollspy",pr="active",wh="[href]",Uv={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qv={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gr extends H{constructor(_,E){super(_,E),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Uv}static get DefaultType(){return qv}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const _ of this._observableSections.values())this._observer.observe(_)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(_){return _.target=y(_.target)||document.body,_.rootMargin=_.offset?`${_.offset}px 0px -30%`:_.rootMargin,typeof _.threshold=="string"&&(_.threshold=_.threshold.split(",").map(E=>Number.parseFloat(E))),_}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(d.off(this._config.target,bh),d.on(this._config.target,bh,wh,_=>{const E=this._observableSections.get(_.target.hash);if(E){_.preventDefault();const G=this._rootElement||window,et=E.offsetTop-this._element.offsetTop;if(G.scrollTo)return void G.scrollTo({top:et,behavior:"smooth"});G.scrollTop=et}}))}_getNewObserver(){const _={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(E=>this._observerCallback(E),_)}_observerCallback(_){const E=lt=>this._targetLinks.get(`#${lt.target.id}`),G=lt=>{this._previousScrollData.visibleEntryTop=lt.target.offsetTop,this._process(E(lt))},et=(this._rootElement||document.documentElement).scrollTop,at=et>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=et;for(const lt of _){if(!lt.isIntersecting){this._activeTarget=null,this._clearActiveClass(E(lt));continue}const Et=lt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(at&&Et){if(G(lt),!et)return}else at||Et||G(lt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const _=Z.find(wh,this._config.target);for(const E of _){if(!E.hash||x(E))continue;const G=Z.findOne(E.hash,this._element);m(G)&&(this._targetLinks.set(E.hash,E),this._observableSections.set(E.hash,G))}}_process(_){this._activeTarget!==_&&(this._clearActiveClass(this._config.target),this._activeTarget=_,_.classList.add(pr),this._activateParents(_),d.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:_}))}_activateParents(_){if(_.classList.contains("dropdown-item"))Z.findOne(".dropdown-toggle",_.closest(".dropdown")).classList.add(pr);else for(const E of Z.parents(_,".nav, .list-group"))for(const G of Z.prev(E,".nav-link, .nav-item > .nav-link, .list-group-item"))G.classList.add(pr)}_clearActiveClass(_){_.classList.remove(pr);const E=Z.find("[href].active",_);for(const G of E)G.classList.remove(pr)}static jQueryInterface(_){return this.each(function(){const E=gr.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);E[_]()}})}}d.on(window,"load.bs.scrollspy.data-api",()=>{for(const F of Z.find('[data-bs-spy="scroll"]'))gr.getOrCreateInstance(F)}),O(gr);const Wv="ArrowLeft",Sh="ArrowRight",jv="ArrowUp",Ah="ArrowDown",Ga="active",Th="fade",yc="show",Ch='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',_c=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Ch}`;class qn extends H{constructor(_){super(_),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),d.on(this._element,"keydown.bs.tab",E=>this._keydown(E)))}static get NAME(){return"tab"}show(){const _=this._element;if(this._elemIsActive(_))return;const E=this._getActiveElem(),G=E?d.trigger(E,"hide.bs.tab",{relatedTarget:_}):null;d.trigger(_,"show.bs.tab",{relatedTarget:E}).defaultPrevented||G&&G.defaultPrevented||(this._deactivate(E,_),this._activate(_,E))}_activate(_,E){_&&(_.classList.add(Ga),this._activate(h(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.removeAttribute("tabindex"),_.setAttribute("aria-selected",!0),this._toggleDropDown(_,!0),d.trigger(_,"shown.bs.tab",{relatedTarget:E})):_.classList.add(yc)},_,_.classList.contains(Th)))}_deactivate(_,E){_&&(_.classList.remove(Ga),_.blur(),this._deactivate(h(_)),this._queueCallback(()=>{_.getAttribute("role")==="tab"?(_.setAttribute("aria-selected",!1),_.setAttribute("tabindex","-1"),this._toggleDropDown(_,!1),d.trigger(_,"hidden.bs.tab",{relatedTarget:E})):_.classList.remove(yc)},_,_.classList.contains(Th)))}_keydown(_){if(![Wv,Sh,jv,Ah].includes(_.key))return;_.stopPropagation(),_.preventDefault();const E=[Sh,Ah].includes(_.key),G=z(this._getChildren().filter(et=>!x(et)),_.target,E,!0);G&&(G.focus({preventScroll:!0}),qn.getOrCreateInstance(G).show())}_getChildren(){return Z.find(_c,this._parent)}_getActiveElem(){return this._getChildren().find(_=>this._elemIsActive(_))||null}_setInitialAttributes(_,E){this._setAttributeIfNotExists(_,"role","tablist");for(const G of E)this._setInitialAttributesOnChild(G)}_setInitialAttributesOnChild(_){_=this._getInnerElement(_);const E=this._elemIsActive(_),G=this._getOuterElement(_);_.setAttribute("aria-selected",E),G!==_&&this._setAttributeIfNotExists(G,"role","presentation"),E||_.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(_,"role","tab"),this._setInitialAttributesOnTargetPanel(_)}_setInitialAttributesOnTargetPanel(_){const E=h(_);E&&(this._setAttributeIfNotExists(E,"role","tabpanel"),_.id&&this._setAttributeIfNotExists(E,"aria-labelledby",`#${_.id}`))}_toggleDropDown(_,E){const G=this._getOuterElement(_);if(!G.classList.contains("dropdown"))return;const et=(at,lt)=>{const Et=Z.findOne(at,G);Et&&Et.classList.toggle(lt,E)};et(".dropdown-toggle",Ga),et(".dropdown-menu",yc),G.setAttribute("aria-expanded",E)}_setAttributeIfNotExists(_,E,G){_.hasAttribute(E)||_.setAttribute(E,G)}_elemIsActive(_){return _.classList.contains(Ga)}_getInnerElement(_){return _.matches(_c)?_:Z.findOne(_c,_)}_getOuterElement(_){return _.closest(".nav-item, .list-group-item")||_}static jQueryInterface(_){return this.each(function(){const E=qn.getOrCreateInstance(this);if(typeof _=="string"){if(E[_]===void 0||_.startsWith("_")||_==="constructor")throw new TypeError(`No method named "${_}"`);E[_]()}})}}d.on(document,"click.bs.tab",Ch,function(F){["A","AREA"].includes(this.tagName)&&F.preventDefault(),x(this)||qn.getOrCreateInstance(this).show()}),d.on(window,"load.bs.tab",()=>{for(const F of Z.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))qn.getOrCreateInstance(F)}),O(qn);const Ph="hide",Fa="show",za="showing",Qv={animation:"boolean",autohide:"boolean",delay:"number"},Kv={animation:!0,autohide:!0,delay:5e3};class mr extends H{constructor(_,E){super(_,E),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Kv}static get DefaultType(){return Qv}static get NAME(){return"toast"}show(){d.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ph),A(this._element),this._element.classList.add(Fa,za),this._queueCallback(()=>{this._element.classList.remove(za),d.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(d.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(za),this._queueCallback(()=>{this._element.classList.add(Ph),this._element.classList.remove(za,Fa),d.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Fa),super.dispose()}isShown(){return this._element.classList.contains(Fa)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(_,E){switch(_.type){case"mouseover":case"mouseout":this._hasMouseInteraction=E;break;case"focusin":case"focusout":this._hasKeyboardInteraction=E}if(E)return void this._clearTimeout();const G=_.relatedTarget;this._element===G||this._element.contains(G)||this._maybeScheduleHide()}_setListeners(){d.on(this._element,"mouseover.bs.toast",_=>this._onInteraction(_,!0)),d.on(this._element,"mouseout.bs.toast",_=>this._onInteraction(_,!1)),d.on(this._element,"focusin.bs.toast",_=>this._onInteraction(_,!0)),d.on(this._element,"focusout.bs.toast",_=>this._onInteraction(_,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(_){return this.each(function(){const E=mr.getOrCreateInstance(this,_);if(typeof _=="string"){if(E[_]===void 0)throw new TypeError(`No method named "${_}"`);E[_](this)}})}}return I(mr),O(mr),{Alert:W,Button:tt,Carousel:Ft,Collapse:Kt,Dropdown:ze,Modal:Yn,Offcanvas:hn,Popover:Va,ScrollSpy:gr,Tab:qn,Toast:mr,Tooltip:Un}})})(tx);document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".recommendation-wall");t.style.cursor="grab";let e={top:0,left:0,x:0,y:0};const n=function(s){t.style.cursor="grabbing",t.style.userSelect="none",e={left:t.scrollLeft,top:t.scrollTop,x:s.clientX,y:s.clientY},document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)},r=function(s){const u=s.clientX-e.x,f=s.clientY-e.y;t.scrollTop=e.top-f,t.scrollLeft=e.left-u},o=function(){t.style.cursor="grab",t.style.removeProperty("user-select"),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};t.addEventListener("mousedown",n)});let Xx=document.querySelector(".menuToggle"),Yx=document.querySelectorAll(".topBar-menu a"),fo=document.querySelector(".topBar-menu");Xx.addEventListener("click",Ux);Yx.forEach(t=>{t.addEventListener("click",qx)});function Ux(){fo.classList.contains("openMenu")?fo.classList.remove("openMenu"):fo.classList.add("openMenu")}function qx(){fo.classList.remove("openMenu")}let Wx=document.querySelector(".menuToggle"),jx=document.querySelectorAll(".topBar-menu a"),ho=document.querySelector(".topBar-menu");Wx.addEventListener("click",Qx);jx.forEach(t=>{t.addEventListener("click",Kx)});function Qx(){ho.classList.contains("openMenu")?ho.classList.remove("openMenu"):ho.classList.add("openMenu")}function Kx(){ho.classList.remove("openMenu")}function Og(t,e){return function(){return t.apply(e,arguments)}}const{toString:Zx}=Object.prototype,{getPrototypeOf:El}=Object,Ls=(t=>e=>{const n=Zx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>Ls(e)===t),Ms=t=>e=>typeof e===t,{isArray:or}=Array,ea=Ms("undefined");function Jx(t){return t!==null&&!ea(t)&&t.constructor!==null&&!ea(t.constructor)&&Ve(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kg=ln("ArrayBuffer");function t1(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kg(t.buffer),e}const e1=Ms("string"),Ve=Ms("function"),Rg=Ms("number"),$s=t=>t!==null&&typeof t=="object",n1=t=>t===!0||t===!1,po=t=>{if(Ls(t)!=="object")return!1;const e=El(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},i1=ln("Date"),r1=ln("File"),a1=ln("Blob"),o1=ln("FileList"),s1=t=>$s(t)&&Ve(t.pipe),c1=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ve(t.append)&&((e=Ls(t))==="formdata"||e==="object"&&Ve(t.toString)&&t.toString()==="[object FormData]"))},u1=ln("URLSearchParams"),l1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),or(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),u=s.length;let f;for(r=0;r<u;r++)f=s[r],e.call(null,t[f],f,t)}}function Ng(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Dg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ig=t=>!ea(t)&&t!==Dg;function du(){const{caseless:t}=Ig(this)&&this||{},e={},n=(r,o)=>{const s=t&&Ng(e,o)||o;po(e[s])&&po(r)?e[s]=du(e[s],r):po(r)?e[s]=du({},r):or(r)?e[s]=r.slice():e[s]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Sa(arguments[r],n);return e}const f1=(t,e,n,{allOwnKeys:r}={})=>(Sa(e,(o,s)=>{n&&Ve(o)?t[s]=Og(o,n):t[s]=o},{allOwnKeys:r}),t),h1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),d1=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},p1=(t,e,n,r)=>{let o,s,u;const f={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)u=o[s],(!r||r(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=n!==!1&&El(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},g1=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},m1=t=>{if(!t)return null;if(or(t))return t;let e=t.length;if(!Rg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},y1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&El(Uint8Array)),_1=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},v1=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},x1=ln("HTMLFormElement"),b1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),Ih=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),w1=ln("RegExp"),Vg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sa(n,(o,s)=>{let u;(u=e(o,s,t))!==!1&&(r[s]=u||o)}),Object.defineProperties(t,r)},S1=t=>{Vg(t,(e,n)=>{if(Ve(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ve(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A1=(t,e)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return or(t)?r(t):r(String(t).split(e)),n},T1=()=>{},C1=(t,e)=>(t=+t,Number.isFinite(t)?t:e),vc="abcdefghijklmnopqrstuvwxyz",Vh="0123456789",Gg={DIGIT:Vh,ALPHA:vc,ALPHA_DIGIT:vc+vc.toUpperCase()+Vh},P1=(t=16,e=Gg.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function E1(t){return!!(t&&Ve(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const L1=t=>{const e=new Array(10),n=(r,o)=>{if($s(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const s=or(r)?[]:{};return Sa(r,(u,f)=>{const h=n(u,o+1);!ea(h)&&(s[f]=h)}),e[o]=void 0,s}}return r};return n(t,0)},M1=ln("AsyncFunction"),$1=t=>t&&($s(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),nt={isArray:or,isArrayBuffer:kg,isBuffer:Jx,isFormData:c1,isArrayBufferView:t1,isString:e1,isNumber:Rg,isBoolean:n1,isObject:$s,isPlainObject:po,isUndefined:ea,isDate:i1,isFile:r1,isBlob:a1,isRegExp:w1,isFunction:Ve,isStream:s1,isURLSearchParams:u1,isTypedArray:y1,isFileList:o1,forEach:Sa,merge:du,extend:f1,trim:l1,stripBOM:h1,inherits:d1,toFlatObject:p1,kindOf:Ls,kindOfTest:ln,endsWith:g1,toArray:m1,forEachEntry:_1,matchAll:v1,isHTMLForm:x1,hasOwnProperty:Ih,hasOwnProp:Ih,reduceDescriptors:Vg,freezeMethods:S1,toObjectSet:A1,toCamelCase:b1,noop:T1,toFiniteNumber:C1,findKey:Ng,global:Dg,isContextDefined:Ig,ALPHABET:Gg,generateString:P1,isSpecCompliantForm:E1,toJSONObject:L1,isAsyncFn:M1,isThenable:$1};function Mt(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}nt.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fg=Mt.prototype,zg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zg[t]={value:t}});Object.defineProperties(Mt,zg);Object.defineProperty(Fg,"isAxiosError",{value:!0});Mt.from=(t,e,n,r,o,s)=>{const u=Object.create(Fg);return nt.toFlatObject(t,u,function(h){return h!==Error.prototype},f=>f!=="isAxiosError"),Mt.call(u,t.message,e,n,r,o),u.cause=t,u.name=t.name,s&&Object.assign(u,s),u};const O1=null;function pu(t){return nt.isPlainObject(t)||nt.isArray(t)}function Bg(t){return nt.endsWith(t,"[]")?t.slice(0,-2):t}function Gh(t,e,n){return t?t.concat(e).map(function(o,s){return o=Bg(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function k1(t){return nt.isArray(t)&&!t.some(pu)}const R1=nt.toFlatObject(nt,{},null,function(e){return/^is[A-Z]/.test(e)});function Os(t,e,n){if(!nt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=nt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,A){return!nt.isUndefined(A[b])});const r=n.metaTokens,o=n.visitor||g,s=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(e);if(!nt.isFunction(o))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(nt.isDate(w))return w.toISOString();if(!h&&nt.isBlob(w))throw new Mt("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(w)||nt.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,b,A){let C=w;if(w&&!A&&typeof w=="object"){if(nt.endsWith(b,"{}"))b=r?b:b.slice(0,-2),w=JSON.stringify(w);else if(nt.isArray(w)&&k1(w)||(nt.isFileList(w)||nt.endsWith(b,"[]"))&&(C=nt.toArray(w)))return b=Bg(b),C.forEach(function(L,O){!(nt.isUndefined(L)||L===null)&&e.append(u===!0?Gh([b],O,s):u===null?b:b+"[]",p(L))}),!1}return pu(w)?!0:(e.append(Gh(A,b,s),p(w)),!1)}const y=[],m=Object.assign(R1,{defaultVisitor:g,convertValue:p,isVisitable:pu});function x(w,b){if(!nt.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(w),nt.forEach(w,function(C,$){(!(nt.isUndefined(C)||C===null)&&o.call(e,C,nt.isString($)?$.trim():$,b,m))===!0&&x(C,b?b.concat($):[$])}),y.pop()}}if(!nt.isObject(t))throw new TypeError("data must be an object");return x(t),e}function Fh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ll(t,e){this._pairs=[],t&&Os(t,this,e)}const Hg=Ll.prototype;Hg.append=function(e,n){this._pairs.push([e,n])};Hg.toString=function(e){const n=e?function(r){return e.call(this,r,Fh)}:Fh;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function N1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xg(t,e,n){if(!e)return t;const r=n&&n.encode||N1,o=n&&n.serialize;let s;if(o?s=o(e,n):s=nt.isURLSearchParams(e)?e.toString():new Ll(e,n).toString(r),s){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class D1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){nt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const zh=D1,Yg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I1=typeof URLSearchParams<"u"?URLSearchParams:Ll,V1=typeof FormData<"u"?FormData:null,G1=typeof Blob<"u"?Blob:null,F1={isBrowser:!0,classes:{URLSearchParams:I1,FormData:V1,Blob:G1},protocols:["http","https","file","blob","url","data"]},Ug=typeof window<"u"&&typeof document<"u",z1=(t=>Ug&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),B1=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),H1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ug,hasStandardBrowserEnv:z1,hasStandardBrowserWebWorkerEnv:B1},Symbol.toStringTag,{value:"Module"})),nn={...H1,...F1};function X1(t,e){return Os(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,s){return nn.isNode&&nt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Y1(t){return nt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function U1(t){const e={},n=Object.keys(t);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],e[s]=t[s];return e}function qg(t){function e(n,r,o,s){let u=n[s++];const f=Number.isFinite(+u),h=s>=n.length;return u=!u&&nt.isArray(o)?o.length:u,h?(nt.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!f):((!o[u]||!nt.isObject(o[u]))&&(o[u]=[]),e(n,r,o[u],s)&&nt.isArray(o[u])&&(o[u]=U1(o[u])),!f)}if(nt.isFormData(t)&&nt.isFunction(t.entries)){const n={};return nt.forEachEntry(t,(r,o)=>{e(Y1(r),o,n,0)}),n}return null}function q1(t,e,n){if(nt.isString(t))try{return(e||JSON.parse)(t),nt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ml={transitional:Yg,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=nt.isObject(e);if(s&&nt.isHTMLForm(e)&&(e=new FormData(e)),nt.isFormData(e))return o&&o?JSON.stringify(qg(e)):e;if(nt.isArrayBuffer(e)||nt.isBuffer(e)||nt.isStream(e)||nt.isFile(e)||nt.isBlob(e))return e;if(nt.isArrayBufferView(e))return e.buffer;if(nt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return X1(e,this.formSerializer).toString();if((f=nt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Os(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),q1(e)):e}],transformResponse:[function(e){const n=this.transitional||Ml.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&nt.isString(e)&&(r&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Mt.from(f,Mt.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],t=>{Ml.headers[t]={}});const $l=Ml,W1=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!n||e[n]&&W1[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bh=Symbol("internals");function _r(t){return t&&String(t).trim().toLowerCase()}function go(t){return t===!1||t==null?t:nt.isArray(t)?t.map(go):String(t)}function Q1(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const K1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xc(t,e,n,r,o){if(nt.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!nt.isString(e)){if(nt.isString(r))return e.indexOf(r)!==-1;if(nt.isRegExp(r))return r.test(e)}}function Z1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function J1(t,e){const n=nt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,s,u){return this[r].call(this,e,o,s,u)},configurable:!0})})}class ks{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function s(f,h,p){const g=_r(h);if(!g)throw new Error("header name must be a non-empty string");const y=nt.findKey(o,g);(!y||o[y]===void 0||p===!0||p===void 0&&o[y]!==!1)&&(o[y||h]=go(f))}const u=(f,h)=>nt.forEach(f,(p,g)=>s(p,g,h));return nt.isPlainObject(e)||e instanceof this.constructor?u(e,n):nt.isString(e)&&(e=e.trim())&&!K1(e)?u(j1(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=_r(e),e){const r=nt.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return Q1(o);if(nt.isFunction(n))return n.call(this,o,r);if(nt.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_r(e),e){const r=nt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||xc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function s(u){if(u=_r(u),u){const f=nt.findKey(r,u);f&&(!n||xc(r,r[f],f,n))&&(delete r[f],o=!0)}}return nt.isArray(e)?e.forEach(s):s(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!e||xc(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const n=this,r={};return nt.forEach(this,(o,s)=>{const u=nt.findKey(r,s);if(u){n[u]=go(o),delete n[s];return}const f=e?Z1(s):String(s).trim();f!==s&&delete n[s],n[f]=go(o),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return nt.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&nt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Bh]=this[Bh]={accessors:{}}).accessors,o=this.prototype;function s(u){const f=_r(u);r[f]||(J1(o,u),r[f]=!0)}return nt.isArray(e)?e.forEach(s):s(e),this}}ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);nt.reduceDescriptors(ks.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});nt.freezeMethods(ks);const yn=ks;function bc(t,e){const n=this||$l,r=e||n,o=yn.from(r.headers);let s=r.data;return nt.forEach(t,function(f){s=f.call(n,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function Wg(t){return!!(t&&t.__CANCEL__)}function Aa(t,e,n){Mt.call(this,t??"canceled",Mt.ERR_CANCELED,e,n),this.name="CanceledError"}nt.inherits(Aa,Mt,{__CANCEL__:!0});function tb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Mt("Request failed with status code "+n.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const eb=nn.hasStandardBrowserEnv?{write(t,e,n,r,o,s){const u=[t+"="+encodeURIComponent(e)];nt.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),nt.isString(r)&&u.push("path="+r),nt.isString(o)&&u.push("domain="+o),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nb(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ib(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function jg(t,e){return t&&!nb(e)?ib(t,e):e}const rb=nn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(s){let u=s;return e&&(n.setAttribute("href",u),u=n.href),n.setAttribute("href",u),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(u){const f=nt.isString(u)?o(u):u;return f.protocol===r.protocol&&f.host===r.host}}():function(){return function(){return!0}}();function ab(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ob(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,s=0,u;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),g=r[s];u||(u=p),n[o]=h,r[o]=p;let y=s,m=0;for(;y!==o;)m+=n[y++],y=y%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),p-u<e)return;const x=g&&p-g;return x?Math.round(m*1e3/x):void 0}}function Hh(t,e){let n=0;const r=ob(50,250);return o=>{const s=o.loaded,u=o.lengthComputable?o.total:void 0,f=s-n,h=r(f),p=s<=u;n=s;const g={loaded:s,total:u,progress:u?s/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&p?(u-s)/h:void 0,event:o};g[e?"download":"upload"]=!0,t(g)}}const sb=typeof XMLHttpRequest<"u",cb=sb&&function(t){return new Promise(function(n,r){let o=t.data;const s=yn.from(t.headers).normalize();let{responseType:u,withXSRFToken:f}=t,h;function p(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}let g;if(nt.isFormData(o)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((g=s.getContentType())!==!1){const[b,...A]=g?g.split(";").map(C=>C.trim()).filter(Boolean):[];s.setContentType([b||"multipart/form-data",...A].join("; "))}}let y=new XMLHttpRequest;if(t.auth){const b=t.auth.username||"",A=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(b+":"+A))}const m=jg(t.baseURL,t.url);y.open(t.method.toUpperCase(),Xg(m,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function x(){if(!y)return;const b=yn.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};tb(function(L){n(L),p()},function(L){r(L),p()},C),y=null}if("onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new Mt("Request aborted",Mt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new Mt("Network Error",Mt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let A=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const C=t.transitional||Yg;t.timeoutErrorMessage&&(A=t.timeoutErrorMessage),r(new Mt(A,C.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,t,y)),y=null},nn.hasStandardBrowserEnv&&(f&&nt.isFunction(f)&&(f=f(t)),f||f!==!1&&rb(m))){const b=t.xsrfHeaderName&&t.xsrfCookieName&&eb.read(t.xsrfCookieName);b&&s.set(t.xsrfHeaderName,b)}o===void 0&&s.setContentType(null),"setRequestHeader"in y&&nt.forEach(s.toJSON(),function(A,C){y.setRequestHeader(C,A)}),nt.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),u&&u!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",Hh(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",Hh(t.onUploadProgress)),(t.cancelToken||t.signal)&&(h=b=>{y&&(r(!b||b.type?new Aa(null,t,y):b),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h)));const w=ab(m);if(w&&nn.protocols.indexOf(w)===-1){r(new Mt("Unsupported protocol "+w+":",Mt.ERR_BAD_REQUEST,t));return}y.send(o||null)})},gu={http:O1,xhr:cb};nt.forEach(gu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Xh=t=>`- ${t}`,ub=t=>nt.isFunction(t)||t===null||t===!1,Qg={getAdapter:t=>{t=nt.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let s=0;s<e;s++){n=t[s];let u;if(r=n,!ub(n)&&(r=gu[(u=String(n)).toLowerCase()],r===void 0))throw new Mt(`Unknown adapter '${u}'`);if(r)break;o[u||"#"+s]=r}if(!r){const s=Object.entries(o).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=e?s.length>1?`since :
`+s.map(Xh).join(`
`):" "+Xh(s[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:gu};function wc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Aa(null,t)}function Yh(t){return wc(t),t.headers=yn.from(t.headers),t.data=bc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Qg.getAdapter(t.adapter||$l.adapter)(t).then(function(r){return wc(t),r.data=bc.call(t,t.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return Wg(r)||(wc(t),r&&r.response&&(r.response.data=bc.call(t,t.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const Uh=t=>t instanceof yn?t.toJSON():t;function qi(t,e){e=e||{};const n={};function r(p,g,y){return nt.isPlainObject(p)&&nt.isPlainObject(g)?nt.merge.call({caseless:y},p,g):nt.isPlainObject(g)?nt.merge({},g):nt.isArray(g)?g.slice():g}function o(p,g,y){if(nt.isUndefined(g)){if(!nt.isUndefined(p))return r(void 0,p,y)}else return r(p,g,y)}function s(p,g){if(!nt.isUndefined(g))return r(void 0,g)}function u(p,g){if(nt.isUndefined(g)){if(!nt.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function f(p,g,y){if(y in e)return r(p,g);if(y in t)return r(void 0,p)}const h={url:s,method:s,data:s,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(p,g)=>o(Uh(p),Uh(g),!0)};return nt.forEach(Object.keys(Object.assign({},t,e)),function(g){const y=h[g]||o,m=y(t[g],e[g],g);nt.isUndefined(m)&&y!==f||(n[g]=m)}),n}const Kg="1.6.2",Ol={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ol[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qh={};Ol.transitional=function(e,n,r){function o(s,u){return"[Axios v"+Kg+"] Transitional option '"+s+"'"+u+(r?". "+r:"")}return(s,u,f)=>{if(e===!1)throw new Mt(o(u," has been removed"+(n?" in "+n:"")),Mt.ERR_DEPRECATED);return n&&!qh[u]&&(qh[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,u,f):!0}};function lb(t,e,n){if(typeof t!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],u=e[s];if(u){const f=t[s],h=f===void 0||u(f,s,t);if(h!==!0)throw new Mt("option "+s+" must be "+h,Mt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mt("Unknown option "+s,Mt.ERR_BAD_OPTION)}}const mu={assertOptions:lb,validators:Ol},Cn=mu.validators;class Lo{constructor(e){this.defaults=e,this.interceptors={request:new zh,response:new zh}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qi(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&mu.assertOptions(r,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),o!=null&&(nt.isFunction(o)?n.paramsSerializer={serialize:o}:mu.assertOptions(o,{encode:Cn.function,serialize:Cn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=s&&nt.merge(s.common,s[n.method]);s&&nt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=yn.concat(u,s);const f=[];let h=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(h=h&&b.synchronous,f.unshift(b.fulfilled,b.rejected))});const p=[];this.interceptors.response.forEach(function(b){p.push(b.fulfilled,b.rejected)});let g,y=0,m;if(!h){const w=[Yh.bind(this),void 0];for(w.unshift.apply(w,f),w.push.apply(w,p),m=w.length,g=Promise.resolve(n);y<m;)g=g.then(w[y++],w[y++]);return g}m=f.length;let x=n;for(y=0;y<m;){const w=f[y++],b=f[y++];try{x=w(x)}catch(A){b.call(this,A);break}}try{g=Yh.call(this,x)}catch(w){return Promise.reject(w)}for(y=0,m=p.length;y<m;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=qi(this.defaults,e);const n=jg(e.baseURL,e.url);return Xg(n,e.params,e.paramsSerializer)}}nt.forEach(["delete","get","head","options"],function(e){Lo.prototype[e]=function(n,r){return this.request(qi(r||{},{method:e,url:n,data:(r||{}).data}))}});nt.forEach(["post","put","patch"],function(e){function n(r){return function(s,u,f){return this.request(qi(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Lo.prototype[e]=n(),Lo.prototype[e+"Form"]=n(!0)});const mo=Lo;class kl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const u=new Promise(f=>{r.subscribe(f),s=f}).then(o);return u.cancel=function(){r.unsubscribe(s)},u},e(function(s,u,f){r.reason||(r.reason=new Aa(s,u,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new kl(function(o){e=o}),cancel:e}}}const fb=kl;function hb(t){return function(n){return t.apply(null,n)}}function db(t){return nt.isObject(t)&&t.isAxiosError===!0}const yu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yu).forEach(([t,e])=>{yu[e]=t});const pb=yu;function Zg(t){const e=new mo(t),n=Og(mo.prototype.request,e);return nt.extend(n,mo.prototype,e,{allOwnKeys:!0}),nt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Zg(qi(t,o))},n}const Xt=Zg($l);Xt.Axios=mo;Xt.CanceledError=Aa;Xt.CancelToken=fb;Xt.isCancel=Wg;Xt.VERSION=Kg;Xt.toFormData=Os;Xt.AxiosError=Mt;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=hb;Xt.isAxiosError=db;Xt.mergeConfig=qi;Xt.AxiosHeaders=yn;Xt.formToJSON=t=>qg(nt.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=Qg.getAdapter;Xt.HttpStatusCode=pb;Xt.default=Xt;const sr=Xt,Rl="lelejpinyi",Nl=document.querySelector(".productWrap"),gb=document.querySelector(".productSelect"),Jg=document.querySelector(".shoppingCart-tableList");let Dl=[],Mo=[];const mb="https://livejs-api.hexschool.io/api/livejs/v1/customer/lelejpinyi/products",t0="https://livejs-api.hexschool.io/api/livejs/v1/customer/lelejpinyi/carts";function yb(){_b(),Ta()}yb();function _b(){sr.get(mb).then(t=>{Dl=t.data.products,n0()}).catch(t=>{console.log(t)})}function e0(t){return`<li class="productCard">
      <h4 class="productType">新品</h4>
      <img
        src="${t.images}"
        alt="">
      <a href="#" class="js-addCart" data-id="${t.id}">加入購物車</a>
      <h3>${t.title}</h3>
      <del class="originPrice">NT$${t.origin_price}</del>
      <p class="nowPrice">NT$${t.price}</p>
    </li>`}function n0(){let t="";Dl.forEach(e=>{t+=e0(e)}),Nl.innerHTML=t}gb.addEventListener("change",t=>{const e=t.target.value;if(e=="全部"){n0();return}let n="";Dl.forEach(r=>{r.category==e&&(n+=e0(r))}),Nl.innerHTML=n});Nl.addEventListener("click",t=>{if(t.preventDefault(),t.target.getAttribute("class")!=="js-addCart")return;let n=t.target.getAttribute("data-id"),r=1;Mo.forEach(o=>{o.product.id===n&&(r=o.quantity+=1)}),sr.post(t0,{data:{productId:n,quantity:r}}).then(o=>{alert("加入購物車"),Ta()}).catch(o=>{console.log(o)})});function Ta(){sr.get(t0).then(t=>{document.querySelector(".js-total").textContent=t.data.finalTotal,Mo=t.data.carts;let e="";Mo.forEach(n=>{e+=`<tr>
          <td>
            <div class="cardItem-title">
              <img src="${n.product.images}" alt="">
              <p>${n.product.title}</p>
            </div>
          </td>
          <td>NT$${n.product.price}</td>
          <td>${n.quantity}</td>
          <td>NT$${n.product.price*n.quantity}</td>
          <td class="discardBtn">
            <a href="#" class="material-icons" data-id="${n.id}">
              clear
            </a>
          </td>
        </tr>`}),Jg.innerHTML=e}).catch(t=>{console.log(t)})}Jg.addEventListener("click",t=>{t.preventDefault();const e=t.target.getAttribute("data-id");if(e==null){alert("你點到其他東西了");return}console.log(e),sr.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${Rl}/carts/${e}`).then(n=>{alert("刪除成功！(๑´ㅂ`๑)"),Ta()}).catch(function(n){alert("沒有刪除成功(◔⊖◔)つ")})});const vb=document.querySelector(".discardAllBtn");vb.addEventListener("click",t=>{t.preventDefault(),sr.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${Rl}/carts`).then(e=>{alert("全部刪除成功，真的全部都不要了嗎？(╥﹏╥)"),Ta()}).catch(e=>{alert("購物車已經清空，請勿重複點擊")})});const xb=document.querySelector(".orderInfo-btn");xb.addEventListener("click",t=>{t.preventDefault();const e=document.querySelector("#customerName"),n=document.querySelector("#customerPhone"),r=document.querySelector("#customerEmail"),o=document.querySelector("#customerAddress"),s=document.querySelector("#tradeWay");if(Mo.length==0){alert("請加入購物車");return}const u=[e,n,r,o,s];if(u.some(h=>h.value==="")){alert("請輸入訂單資訊");return}sr.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${Rl}/orders`,{data:{user:{name:e.value,tel:n.value,email:r.value,address:o.value,payment:s.value}}}).then(h=>{alert("訂單建立成功"),bb(u),Ta()}).catch(h=>{console.log(h)})});function bb(t){t.forEach(e=>{e.value=""})}function wb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _u={},Sb={get exports(){return _u},set exports(t){_u=t}},Ab="5.16.0";function Gn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Il(t){return t.length===1&&(t=Tb(t)),{left:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var s=r+o>>>1;t(e[s],n)<0?r=s+1:o=s}return r},right:function(e,n,r,o){for(r==null&&(r=0),o==null&&(o=e.length);r<o;){var s=r+o>>>1;t(e[s],n)>0?o=s:r=s+1}return r}}}function Tb(t){return function(e,n){return Gn(t(e),n)}}var i0=Il(Gn),On=i0.right,Cb=i0.left;function Pb(t,e){e==null&&(e=r0);for(var n=0,r=t.length-1,o=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(o,o=t[++n]);return s}function r0(t,e){return[t,e]}function Eb(t,e,n){var r=t.length,o=e.length,s=new Array(r*o),u,f,h,p;for(n==null&&(n=r0),u=h=0;u<r;++u)for(p=t[u],f=0;f<o;++f,++h)s[h]=n(p,e[f]);return s}function Lb(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function kn(t){return t===null?NaN:+t}function a0(t,e){var n=t.length,r=0,o=-1,s=0,u,f,h=0;if(e==null)for(;++o<n;)isNaN(u=kn(t[o]))||(f=u-s,s+=f/++r,h+=f*(u-s));else for(;++o<n;)isNaN(u=kn(e(t[o],o,t)))||(f=u-s,s+=f/++r,h+=f*(u-s));if(r>1)return h/(r-1)}function o0(t,e){var n=a0(t,e);return n&&Math.sqrt(n)}function Vl(t,e){var n=t.length,r=-1,o,s,u;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(s=u=o;++r<n;)(o=t[r])!=null&&(s>o&&(s=o),u<o&&(u=o))}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=u=o;++r<n;)(o=e(t[r],r,t))!=null&&(s>o&&(s=o),u<o&&(u=o));return[s,u]}var s0=Array.prototype,Mb=s0.slice,$b=s0.map;function Xa(t){return function(){return t}}function Ob(t){return t}function Pe(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(o);++r<o;)s[r]=t+r*n;return s}var vu=Math.sqrt(50),xu=Math.sqrt(10),bu=Math.sqrt(2);function Gl(t,e,n){var r,o=-1,s,u,f;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(s=t,t=e,e=s),(f=jr(t,e,n))===0||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),u=new Array(s=Math.ceil(e-t+1));++o<s;)u[o]=(t+o)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),u=new Array(s=Math.ceil(t-e+1));++o<s;)u[o]=(t-o)/f;return r&&u.reverse(),u}function jr(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,o);return o>=0?(s>=vu?10:s>=xu?5:s>=bu?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(s>=vu?10:s>=xu?5:s>=bu?2:1)}function si(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/o;return s>=vu?o*=10:s>=xu?o*=5:s>=bu&&(o*=2),e<t?-o:o}function Fl(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function kb(){var t=Ob,e=Vl,n=Fl;function r(o){var s,u=o.length,f,h=new Array(u);for(s=0;s<u;++s)h[s]=t(o[s],s,o);var p=e(h),g=p[0],y=p[1],m=n(h,g,y);Array.isArray(m)||(m=si(g,y,m),m=Pe(Math.ceil(g/m)*m,y,m));for(var x=m.length;m[0]<=g;)m.shift(),--x;for(;m[x-1]>y;)m.pop(),--x;var w=new Array(x+1),b;for(s=0;s<=x;++s)b=w[s]=[],b.x0=s>0?m[s-1]:g,b.x1=s<x?m[s]:y;for(s=0;s<u;++s)f=h[s],g<=f&&f<=y&&w[On(m,f,0,x)].push(o[s]);return w}return r.value=function(o){return arguments.length?(t=typeof o=="function"?o:Xa(o),r):t},r.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Xa([o[0],o[1]]),r):e},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Array.isArray(o)?Xa(Mb.call(o)):Xa(o),r):n},r}function na(t,e,n){if(n==null&&(n=kn),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,s=Math.floor(o),u=+n(t[s],s,t),f=+n(t[s+1],s+1,t);return u+(f-u)*(o-s)}}function Rb(t,e,n){return t=$b.call(t,kn).sort(Gn),Math.ceil((n-e)/(2*(na(t,.75)-na(t,.25))*Math.pow(t.length,-1/3)))}function Nb(t,e,n){return Math.ceil((n-e)/(3.5*o0(t)*Math.pow(t.length,-1/3)))}function c0(t,e){var n=t.length,r=-1,o,s;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(s=o;++r<n;)(o=t[r])!=null&&o>s&&(s=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=o;++r<n;)(o=e(t[r],r,t))!=null&&o>s&&(s=o);return s}function Db(t,e){var n=t.length,r=n,o=-1,s,u=0;if(e==null)for(;++o<n;)isNaN(s=kn(t[o]))?--r:u+=s;else for(;++o<n;)isNaN(s=kn(e(t[o],o,t)))?--r:u+=s;if(r)return u/r}function Ib(t,e){var n=t.length,r=-1,o,s=[];if(e==null)for(;++r<n;)isNaN(o=kn(t[r]))||s.push(o);else for(;++r<n;)isNaN(o=kn(e(t[r],r,t)))||s.push(o);return na(s.sort(Gn),.5)}function zl(t){for(var e=t.length,n,r=-1,o=0,s,u;++r<e;)o+=t[r].length;for(s=new Array(o);--e>=0;)for(u=t[e],n=u.length;--n>=0;)s[--o]=u[n];return s}function u0(t,e){var n=t.length,r=-1,o,s;if(e==null){for(;++r<n;)if((o=t[r])!=null&&o>=o)for(s=o;++r<n;)(o=t[r])!=null&&s>o&&(s=o)}else for(;++r<n;)if((o=e(t[r],r,t))!=null&&o>=o)for(s=o;++r<n;)(o=e(t[r],r,t))!=null&&s>o&&(s=o);return s}function Vb(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function Gb(t,e){if(n=t.length){var n,r=0,o=0,s,u=t[o];for(e==null&&(e=Gn);++r<n;)(e(s=t[r],u)<0||e(u,u)!==0)&&(u=s,o=r);if(e(u,u)===0)return o}}function Fb(t,e,n){for(var r=(n??t.length)-(e=e==null?0:+e),o,s;r;)s=Math.random()*r--|0,o=t[r+e],t[r+e]=t[s+e],t[s+e]=o;return t}function zb(t,e){var n=t.length,r=-1,o,s=0;if(e==null)for(;++r<n;)(o=+t[r])&&(s+=o);else for(;++r<n;)(o=+e(t[r],r,t))&&(s+=o);return s}function l0(t){if(!(s=t.length))return[];for(var e=-1,n=u0(t,Bb),r=new Array(n);++e<n;)for(var o=-1,s,u=r[e]=new Array(s);++o<s;)u[o]=t[o][e];return r}function Bb(t){return t.length}function Hb(){return l0(arguments)}var Sc=Array.prototype.slice;function Xb(t){return t}var yo=1,_o=2,wu=3,Mr=4,Wh=1e-6;function Yb(t){return"translate("+(t+.5)+",0)"}function Ub(t){return"translate(0,"+(t+.5)+")"}function qb(t){return function(e){return+t(e)}}function Wb(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function jb(){return!this.__axis}function Rs(t,e){var n=[],r=null,o=null,s=6,u=6,f=3,h=t===yo||t===Mr?-1:1,p=t===Mr||t===_o?"x":"y",g=t===yo||t===wu?Yb:Ub;function y(m){var x=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=o??(e.tickFormat?e.tickFormat.apply(e,n):Xb),b=Math.max(s,0)+f,A=e.range(),C=+A[0]+.5,$=+A[A.length-1]+.5,L=(e.bandwidth?Wb:qb)(e.copy()),O=m.selection?m.selection():m,V=O.selectAll(".domain").data([null]),B=O.selectAll(".tick").data(x,e).order(),z=B.exit(),Q=B.enter().append("g").attr("class","tick"),X=B.select("line"),T=B.select("text");V=V.merge(V.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),B=B.merge(Q),X=X.merge(Q.append("line").attr("stroke","currentColor").attr(p+"2",h*s)),T=T.merge(Q.append("text").attr("fill","currentColor").attr(p,h*b).attr("dy",t===yo?"0em":t===wu?"0.71em":"0.32em")),m!==O&&(V=V.transition(m),B=B.transition(m),X=X.transition(m),T=T.transition(m),z=z.transition(m).attr("opacity",Wh).attr("transform",function(q){return isFinite(q=L(q))?g(q):this.getAttribute("transform")}),Q.attr("opacity",Wh).attr("transform",function(q){var k=this.parentNode.__axis;return g(k&&isFinite(k=k(q))?k:L(q))})),z.remove(),V.attr("d",t===Mr||t==_o?u?"M"+h*u+","+C+"H0.5V"+$+"H"+h*u:"M0.5,"+C+"V"+$:u?"M"+C+","+h*u+"V0.5H"+$+"V"+h*u:"M"+C+",0.5H"+$),B.attr("opacity",1).attr("transform",function(q){return g(L(q))}),X.attr(p+"2",h*s),T.attr(p,h*b).text(w),O.filter(jb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===_o?"start":t===Mr?"end":"middle"),O.each(function(){this.__axis=L})}return y.scale=function(m){return arguments.length?(e=m,y):e},y.ticks=function(){return n=Sc.call(arguments),y},y.tickArguments=function(m){return arguments.length?(n=m==null?[]:Sc.call(m),y):n.slice()},y.tickValues=function(m){return arguments.length?(r=m==null?null:Sc.call(m),y):r&&r.slice()},y.tickFormat=function(m){return arguments.length?(o=m,y):o},y.tickSize=function(m){return arguments.length?(s=u=+m,y):s},y.tickSizeInner=function(m){return arguments.length?(s=+m,y):s},y.tickSizeOuter=function(m){return arguments.length?(u=+m,y):u},y.tickPadding=function(m){return arguments.length?(f=+m,y):f},y}function Qb(t){return Rs(yo,t)}function Kb(t){return Rs(_o,t)}function Zb(t){return Rs(wu,t)}function Jb(t){return Rs(Mr,t)}var tw={value:function(){}};function vi(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new vo(n)}function vo(t){this._=t}function ew(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}vo.prototype=vi.prototype={constructor:vo,on:function(t,e){var n=this._,r=ew(t+"",n),o,s=-1,u=r.length;if(arguments.length<2){for(;++s<u;)if((o=(t=r[s]).type)&&(o=nw(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<u;)if(o=(t=r[s]).type)n[o]=jh(n[o],t.name,e);else if(e==null)for(o in n)n[o]=jh(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vo(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,o=s.length;r<o;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,s=r.length;o<s;++o)r[o].value.apply(e,n)}};function nw(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function jh(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=tw,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Su="http://www.w3.org/1999/xhtml";const Au={svg:"http://www.w3.org/2000/svg",xhtml:Su,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ca(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Au.hasOwnProperty(e)?{space:Au[e],local:t}:t}function iw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Su&&e.documentElement.namespaceURI===Su?e.createElement(t):e.createElementNS(n,t)}}function rw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ns(t){var e=Ca(t);return(e.local?rw:iw)(e)}function aw(){}function Ds(t){return t==null?aw:function(){return this.querySelector(t)}}function ow(t){typeof t!="function"&&(t=Ds(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,f=r[o]=new Array(u),h,p,g=0;g<u;++g)(h=s[g])&&(p=t.call(h,h.__data__,g,s))&&("__data__"in h&&(p.__data__=h.__data__),f[g]=p);return new de(r,this._parents)}function sw(){return[]}function Bl(t){return t==null?sw:function(){return this.querySelectorAll(t)}}function cw(t){typeof t!="function"&&(t=Bl(t));for(var e=this._groups,n=e.length,r=[],o=[],s=0;s<n;++s)for(var u=e[s],f=u.length,h,p=0;p<f;++p)(h=u[p])&&(r.push(t.call(h,h.__data__,p,u)),o.push(h));return new de(r,o)}function Hl(t){return function(){return this.matches(t)}}function uw(t){typeof t!="function"&&(t=Hl(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,f=r[o]=[],h,p=0;p<u;++p)(h=s[p])&&t.call(h,h.__data__,p,s)&&f.push(h);return new de(r,this._parents)}function f0(t){return new Array(t.length)}function lw(){return new de(this._enter||this._groups.map(f0),this._parents)}function $o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$o.prototype={constructor:$o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fw(t){return function(){return t}}var Qh="$";function hw(t,e,n,r,o,s){for(var u=0,f,h=e.length,p=s.length;u<p;++u)(f=e[u])?(f.__data__=s[u],r[u]=f):n[u]=new $o(t,s[u]);for(;u<h;++u)(f=e[u])&&(o[u]=f)}function dw(t,e,n,r,o,s,u){var f,h,p={},g=e.length,y=s.length,m=new Array(g),x;for(f=0;f<g;++f)(h=e[f])&&(m[f]=x=Qh+u.call(h,h.__data__,f,e),x in p?o[f]=h:p[x]=h);for(f=0;f<y;++f)x=Qh+u.call(t,s[f],f,s),(h=p[x])?(r[f]=h,h.__data__=s[f],p[x]=null):n[f]=new $o(t,s[f]);for(f=0;f<g;++f)(h=e[f])&&p[m[f]]===h&&(o[f]=h)}function pw(t,e){if(!t)return x=new Array(this.size()),p=-1,this.each(function(B){x[++p]=B}),x;var n=e?dw:hw,r=this._parents,o=this._groups;typeof t!="function"&&(t=fw(t));for(var s=o.length,u=new Array(s),f=new Array(s),h=new Array(s),p=0;p<s;++p){var g=r[p],y=o[p],m=y.length,x=t.call(g,g&&g.__data__,p,r),w=x.length,b=f[p]=new Array(w),A=u[p]=new Array(w),C=h[p]=new Array(m);n(g,y,b,A,C,x,e);for(var $=0,L=0,O,V;$<w;++$)if(O=b[$]){for($>=L&&(L=$+1);!(V=A[L])&&++L<w;);O._next=V||null}}return u=new de(u,r),u._enter=f,u._exit=h,u}function gw(){return new de(this._exit||this._groups.map(f0),this._parents)}function mw(t,e,n){var r=this.enter(),o=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(o=e(o)),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function yw(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,s=Math.min(r,o),u=new Array(r),f=0;f<s;++f)for(var h=e[f],p=n[f],g=h.length,y=u[f]=new Array(g),m,x=0;x<g;++x)(m=h[x]||p[x])&&(y[x]=m);for(;f<r;++f)u[f]=e[f];return new de(u,this._parents)}function _w(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,s=r[o],u;--o>=0;)(u=r[o])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function vw(t){t||(t=xw);function e(y,m){return y&&m?t(y.__data__,m.__data__):!y-!m}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var u=n[s],f=u.length,h=o[s]=new Array(f),p,g=0;g<f;++g)(p=u[g])&&(h[g]=p);h.sort(e)}return new de(o,this._parents).order()}function xw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bw(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ww(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function Sw(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,s=r.length;o<s;++o){var u=r[o];if(u)return u}return null}function Aw(){var t=0;return this.each(function(){++t}),t}function Tw(){return!this.node()}function Cw(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,u=o.length,f;s<u;++s)(f=o[s])&&t.call(f,f.__data__,s,o);return this}function Pw(t){return function(){this.removeAttribute(t)}}function Ew(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lw(t,e){return function(){this.setAttribute(t,e)}}function Mw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $w(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ow(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function kw(t,e){var n=Ca(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ew:Pw:typeof e=="function"?n.local?Ow:$w:n.local?Mw:Lw)(n,e))}function Xl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Rw(t){return function(){this.style.removeProperty(t)}}function Nw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Dw(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Iw(t,e,n){return arguments.length>1?this.each((e==null?Rw:typeof e=="function"?Dw:Nw)(t,e,n??"")):ci(this.node(),t)}function ci(t,e){return t.style.getPropertyValue(e)||Xl(t).getComputedStyle(t,null).getPropertyValue(e)}function Vw(t){return function(){delete this[t]}}function Gw(t,e){return function(){this[t]=e}}function Fw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zw(t,e){return arguments.length>1?this.each((e==null?Vw:typeof e=="function"?Fw:Gw)(t,e)):this.node()[t]}function h0(t){return t.trim().split(/^|\s+/)}function Yl(t){return t.classList||new d0(t)}function d0(t){this._node=t,this._names=h0(t.getAttribute("class")||"")}d0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function p0(t,e){for(var n=Yl(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function g0(t,e){for(var n=Yl(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Bw(t){return function(){p0(this,t)}}function Hw(t){return function(){g0(this,t)}}function Xw(t,e){return function(){(e.apply(this,arguments)?p0:g0)(this,t)}}function Yw(t,e){var n=h0(t+"");if(arguments.length<2){for(var r=Yl(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Xw:e?Bw:Hw)(n,e))}function Uw(){this.textContent=""}function qw(t){return function(){this.textContent=t}}function Ww(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function jw(t){return arguments.length?this.each(t==null?Uw:(typeof t=="function"?Ww:qw)(t)):this.node().textContent}function Qw(){this.innerHTML=""}function Kw(t){return function(){this.innerHTML=t}}function Zw(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Jw(t){return arguments.length?this.each(t==null?Qw:(typeof t=="function"?Zw:Kw)(t)):this.node().innerHTML}function tS(){this.nextSibling&&this.parentNode.appendChild(this)}function eS(){return this.each(tS)}function nS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iS(){return this.each(nS)}function rS(t){var e=typeof t=="function"?t:Ns(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function aS(){return null}function oS(t,e){var n=typeof t=="function"?t:Ns(t),r=e==null?aS:typeof e=="function"?e:Ds(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function sS(){var t=this.parentNode;t&&t.removeChild(this)}function cS(){return this.each(sS)}function uS(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lS(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fS(t){return this.select(t?lS:uS)}function hS(t){return arguments.length?this.property("__data__",t):this.node().__data__}var m0={},ct=null;if(typeof document<"u"){var dS=document.documentElement;"onmouseenter"in dS||(m0={mouseenter:"mouseover",mouseleave:"mouseout"})}function pS(t,e,n){return t=y0(t,e,n),function(r){var o=r.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&t.call(this,r)}}function y0(t,e,n){return function(r){var o=ct;ct=r;try{t.call(this,this.__data__,e,n)}finally{ct=o}}}function gS(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mS(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.capture):e[++r]=s;++r?e.length=r:delete this.__on}}}function yS(t,e,n){var r=m0.hasOwnProperty(t.type)?pS:y0;return function(o,s,u){var f=this.__on,h,p=r(e,s,u);if(f){for(var g=0,y=f.length;g<y;++g)if((h=f[g]).type===t.type&&h.name===t.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=p,h.capture=n),h.value=e;return}}this.addEventListener(t.type,p,n),h={type:t.type,name:t.name,value:e,listener:p,capture:n},f?f.push(h):this.__on=[h]}}function _S(t,e,n){var r=gS(t+""),o,s=r.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,p=f.length,g;h<p;++h)for(o=0,g=f[h];o<s;++o)if((u=r[o]).type===g.type&&u.name===g.name)return g.value}return}for(f=e?yS:mS,n==null&&(n=!1),o=0;o<s;++o)this.each(f(r[o],e,n));return this}function ia(t,e,n,r){var o=ct;t.sourceEvent=ct,ct=t;try{return e.apply(n,r)}finally{ct=o}}function _0(t,e,n){var r=Xl(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function vS(t,e){return function(){return _0(this,t,e)}}function xS(t,e){return function(){return _0(this,t,e.apply(this,arguments))}}function bS(t,e){return this.each((typeof e=="function"?xS:vS)(t,e))}var Ul=[null];function de(t,e){this._groups=t,this._parents=e}function xi(){return new de([[document.documentElement]],Ul)}de.prototype=xi.prototype={constructor:de,select:ow,selectAll:cw,filter:uw,data:pw,enter:lw,exit:gw,join:mw,merge:yw,order:_w,sort:vw,call:bw,nodes:ww,node:Sw,size:Aw,empty:Tw,each:Cw,attr:kw,style:Iw,property:zw,classed:Yw,text:jw,html:Jw,raise:eS,lower:iS,append:rS,insert:oS,remove:cS,clone:fS,datum:hS,on:_S,dispatch:bS};function be(t){return typeof t=="string"?new de([[document.querySelector(t)]],[document.documentElement]):new de([[t]],Ul)}function wS(t){return be(Ns(t).call(document.documentElement))}var SS=0;function v0(){return new Tu}function Tu(){this._="@"+(++SS).toString(36)}Tu.prototype=v0.prototype={constructor:Tu,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function ql(){for(var t=ct,e;e=t.sourceEvent;)t=e;return t}function Is(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function ei(t){var e=ql();return e.changedTouches&&(e=e.changedTouches[0]),Is(t,e)}function AS(t){return typeof t=="string"?new de([document.querySelectorAll(t)],[document.documentElement]):new de([t??[]],Ul)}function ra(t,e,n){arguments.length<3&&(n=e,e=ql().changedTouches);for(var r=0,o=e?e.length:0,s;r<o;++r)if((s=e[r]).identifier===n)return Is(t,s);return null}function TS(t,e){e==null&&(e=ql().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=Is(t,e[n]);return o}function Ac(){ct.stopImmediatePropagation()}function Di(){ct.preventDefault(),ct.stopImmediatePropagation()}function Vs(t){var e=t.document.documentElement,n=be(t).on("dragstart.drag",Di,!0);"onselectstart"in e?n.on("selectstart.drag",Di,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Gs(t,e){var n=t.document.documentElement,r=be(t).on("dragstart.drag",null);e&&(r.on("click.drag",Di,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ya(t){return function(){return t}}function Cu(t,e,n,r,o,s,u,f,h,p){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=s,this.y=u,this.dx=f,this.dy=h,this._=p}Cu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function CS(){return!ct.ctrlKey&&!ct.button}function PS(){return this.parentNode}function ES(t){return t??{x:ct.x,y:ct.y}}function LS(){return navigator.maxTouchPoints||"ontouchstart"in this}function MS(){var t=CS,e=PS,n=ES,r=LS,o={},s=vi("start","drag","end"),u=0,f,h,p,g,y=0;function m(O){O.on("mousedown.drag",x).filter(r).on("touchstart.drag",A).on("touchmove.drag",C).on("touchend.drag touchcancel.drag",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(){if(!(g||!t.apply(this,arguments))){var O=L("mouse",e.apply(this,arguments),ei,this,arguments);O&&(be(ct.view).on("mousemove.drag",w,!0).on("mouseup.drag",b,!0),Vs(ct.view),Ac(),p=!1,f=ct.clientX,h=ct.clientY,O("start"))}}function w(){if(Di(),!p){var O=ct.clientX-f,V=ct.clientY-h;p=O*O+V*V>y}o.mouse("drag")}function b(){be(ct.view).on("mousemove.drag mouseup.drag",null),Gs(ct.view,p),Di(),o.mouse("end")}function A(){if(t.apply(this,arguments)){var O=ct.changedTouches,V=e.apply(this,arguments),B=O.length,z,Q;for(z=0;z<B;++z)(Q=L(O[z].identifier,V,ra,this,arguments))&&(Ac(),Q("start"))}}function C(){var O=ct.changedTouches,V=O.length,B,z;for(B=0;B<V;++B)(z=o[O[B].identifier])&&(Di(),z("drag"))}function $(){var O=ct.changedTouches,V=O.length,B,z;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),B=0;B<V;++B)(z=o[O[B].identifier])&&(Ac(),z("end"))}function L(O,V,B,z,Q){var X=B(V,O),T,q,k,Y=s.copy();if(ia(new Cu(m,"beforestart",T,O,u,X[0],X[1],0,0,Y),function(){return(ct.subject=T=n.apply(z,Q))==null?!1:(q=T.x-X[0]||0,k=T.y-X[1]||0,!0)}))return function J(U){var K=X,rt;switch(U){case"start":o[O]=J,rt=u++;break;case"end":delete o[O],--u;case"drag":X=B(V,O),rt=u;break}ia(new Cu(m,U,T,O,rt,X[0]+q,X[1]+k,X[0]-K[0],X[1]-K[1],Y),Y.apply,Y,[U,z,Q])}}return m.filter=function(O){return arguments.length?(t=typeof O=="function"?O:Ya(!!O),m):t},m.container=function(O){return arguments.length?(e=typeof O=="function"?O:Ya(O),m):e},m.subject=function(O){return arguments.length?(n=typeof O=="function"?O:Ya(O),m):n},m.touchable=function(O){return arguments.length?(r=typeof O=="function"?O:Ya(!!O),m):r},m.on=function(){var O=s.on.apply(s,arguments);return O===s?m:O},m.clickDistance=function(O){return arguments.length?(y=(O=+O)*O,m):Math.sqrt(y)},m}function cr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fn(){}var ui=.7,Wi=1/ui,Ii="\\s*([+-]?\\d+)\\s*",aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$S=/^#([0-9a-f]{3,8})$/,OS=new RegExp("^rgb\\("+[Ii,Ii,Ii]+"\\)$"),kS=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),RS=new RegExp("^rgba\\("+[Ii,Ii,Ii,aa]+"\\)$"),NS=new RegExp("^rgba\\("+[on,on,on,aa]+"\\)$"),DS=new RegExp("^hsl\\("+[aa,on,on]+"\\)$"),IS=new RegExp("^hsla\\("+[aa,on,on,aa]+"\\)$"),Kh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cr(Fn,Rn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zh,formatHex:Zh,formatHsl:VS,formatRgb:Jh,toString:Jh});function Zh(){return this.rgb().formatHex()}function VS(){return x0(this).formatHsl()}function Jh(){return this.rgb().formatRgb()}function Rn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$S.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?td(e):n===3?new Zt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ua(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ua(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OS.exec(t))?new Zt(e[1],e[2],e[3],1):(e=kS.exec(t))?new Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RS.exec(t))?Ua(e[1],e[2],e[3],e[4]):(e=NS.exec(t))?Ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DS.exec(t))?id(e[1],e[2]/100,e[3]/100,1):(e=IS.exec(t))?id(e[1],e[2]/100,e[3]/100,e[4]):Kh.hasOwnProperty(t)?td(Kh[t]):t==="transparent"?new Zt(NaN,NaN,NaN,0):null}function td(t){return new Zt(t>>16&255,t>>8&255,t&255,1)}function Ua(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function Wl(t){return t instanceof Fn||(t=Rn(t)),t?(t=t.rgb(),new Zt(t.r,t.g,t.b,t.opacity)):new Zt}function ji(t,e,n,r){return arguments.length===1?Wl(t):new Zt(t,e,n,r??1)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cr(Zt,ji,Pa(Fn,{brighter:function(t){return t=t==null?Wi:Math.pow(Wi,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ed,formatHex:ed,formatRgb:nd,toString:nd}));function ed(){return"#"+Tc(this.r)+Tc(this.g)+Tc(this.b)}function nd(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Tc(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function id(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Je(t,e,n,r)}function x0(t){if(t instanceof Je)return new Je(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=Rn(t)),!t)return new Je;if(t instanceof Je)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),s=Math.max(e,n,r),u=NaN,f=s-o,h=(s+o)/2;return f?(e===s?u=(n-r)/f+(n<r)*6:n===s?u=(r-e)/f+2:u=(e-n)/f+4,f/=h<.5?s+o:2-s-o,u*=60):f=h>0&&h<1?0:u,new Je(u,f,h,t.opacity)}function Oo(t,e,n,r){return arguments.length===1?x0(t):new Je(t,e,n,r??1)}function Je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cr(Je,Oo,Pa(Fn,{brighter:function(t){return t=t==null?Wi:Math.pow(Wi,t),new Je(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new Je(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Zt(Cc(t>=240?t-240:t+120,o,r),Cc(t,o,r),Cc(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Cc(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var b0=Math.PI/180,w0=180/Math.PI,ko=18,S0=.96422,A0=1,T0=.82521,C0=4/29,Vi=6/29,P0=3*Vi*Vi,GS=Vi*Vi*Vi;function E0(t){if(t instanceof Ue)return new Ue(t.l,t.a,t.b,t.opacity);if(t instanceof rn)return M0(t);t instanceof Zt||(t=Wl(t));var e=Mc(t.r),n=Mc(t.g),r=Mc(t.b),o=Pc((.2225045*e+.7168786*n+.0606169*r)/A0),s,u;return e===n&&n===r?s=u=o:(s=Pc((.4360747*e+.3850649*n+.1430804*r)/S0),u=Pc((.0139322*e+.0971045*n+.7141733*r)/T0)),new Ue(116*o-16,500*(s-o),200*(o-u),t.opacity)}function FS(t,e){return new Ue(t,0,0,e??1)}function Ro(t,e,n,r){return arguments.length===1?E0(t):new Ue(t,e,n,r??1)}function Ue(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}cr(Ue,Ro,Pa(Fn,{brighter:function(t){return new Ue(this.l+ko*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new Ue(this.l-ko*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=S0*Ec(e),t=A0*Ec(t),n=T0*Ec(n),new Zt(Lc(3.1338561*e-1.6168667*t-.4906146*n),Lc(-.9787684*e+1.9161415*t+.033454*n),Lc(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Pc(t){return t>GS?Math.pow(t,1/3):t/P0+C0}function Ec(t){return t>Vi?t*t*t:P0*(t-C0)}function Lc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Mc(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function L0(t){if(t instanceof rn)return new rn(t.h,t.c,t.l,t.opacity);if(t instanceof Ue||(t=E0(t)),t.a===0&&t.b===0)return new rn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*w0;return new rn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function zS(t,e,n,r){return arguments.length===1?L0(t):new rn(n,e,t,r??1)}function No(t,e,n,r){return arguments.length===1?L0(t):new rn(t,e,n,r??1)}function rn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function M0(t){if(isNaN(t.h))return new Ue(t.l,0,0,t.opacity);var e=t.h*b0;return new Ue(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}cr(rn,No,Pa(Fn,{brighter:function(t){return new rn(this.h,this.c,this.l+ko*(t??1),this.opacity)},darker:function(t){return new rn(this.h,this.c,this.l-ko*(t??1),this.opacity)},rgb:function(){return M0(this).rgb()}}));var $0=-.14861,jl=1.78277,Ql=-.29227,Fs=-.90649,oa=1.97294,rd=oa*Fs,ad=oa*jl,od=jl*Ql-Fs*$0;function BS(t){if(t instanceof ii)return new ii(t.h,t.s,t.l,t.opacity);t instanceof Zt||(t=Wl(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(od*r+rd*e-ad*n)/(od+rd-ad),s=r-o,u=(oa*(n-o)-Ql*s)/Fs,f=Math.sqrt(u*u+s*s)/(oa*o*(1-o)),h=f?Math.atan2(u,s)*w0-120:NaN;return new ii(h<0?h+360:h,f,o,t.opacity)}function qe(t,e,n,r){return arguments.length===1?BS(t):new ii(t,e,n,r??1)}function ii(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cr(ii,qe,Pa(Fn,{brighter:function(t){return t=t==null?Wi:Math.pow(Wi,t),new ii(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ui:Math.pow(ui,t),new ii(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*b0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Zt(255*(e+n*($0*r+jl*o)),255*(e+n*(Ql*r+Fs*o)),255*(e+n*(oa*r)),this.opacity)}}));function O0(t,e,n,r,o){var s=t*t,u=s*t;return((1-3*t+3*s-u)*e+(4-6*s+3*u)*n+(1+3*t+3*s-3*u)*r+u*o)/6}function k0(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],s=t[r+1],u=r>0?t[r-1]:2*o-s,f=r<e-1?t[r+2]:2*s-o;return O0((n-r/e)*e,u,o,s,f)}}function R0(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],s=t[r%e],u=t[(r+1)%e],f=t[(r+2)%e];return O0((n-r/e)*e,o,s,u,f)}}function zs(t){return function(){return t}}function N0(t,e){return function(n){return t+n*e}}function HS(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bs(t,e){var n=e-t;return n?N0(t,n>180||n<-180?n-360*Math.round(n/360):n):zs(isNaN(t)?e:t)}function XS(t){return(t=+t)==1?jt:function(e,n){return n-e?HS(e,n,t):zs(isNaN(e)?n:e)}}function jt(t,e){var n=e-t;return n?N0(t,n):zs(isNaN(t)?e:t)}const sa=function t(e){var n=XS(e);function r(o,s){var u=n((o=ji(o)).r,(s=ji(s)).r),f=n(o.g,s.g),h=n(o.b,s.b),p=jt(o.opacity,s.opacity);return function(g){return o.r=u(g),o.g=f(g),o.b=h(g),o.opacity=p(g),o+""}}return r.gamma=t,r}(1);function D0(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),s=new Array(n),u,f;for(u=0;u<n;++u)f=ji(e[u]),r[u]=f.r||0,o[u]=f.g||0,s[u]=f.b||0;return r=t(r),o=t(o),s=t(s),f.opacity=1,function(h){return f.r=r(h),f.g=o(h),f.b=s(h),f+""}}}var I0=D0(k0),YS=D0(R0);function Kl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(s){for(o=0;o<n;++o)r[o]=t[o]*(1-s)+e[o]*s;return r}}function V0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function US(t,e){return(V0(e)?Kl:G0)(t,e)}function G0(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),s=new Array(n),u;for(u=0;u<r;++u)o[u]=Ea(t[u],e[u]);for(;u<n;++u)s[u]=e[u];return function(f){for(u=0;u<r;++u)s[u]=o[u](f);return s}}function F0(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ne(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function z0(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Ea(t[o],e[o]):r[o]=e[o];return function(s){for(o in n)r[o]=n[o](s);return r}}var Pu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$c=new RegExp(Pu.source,"g");function qS(t){return function(){return t}}function WS(t){return function(e){return t(e)+""}}function Zl(t,e){var n=Pu.lastIndex=$c.lastIndex=0,r,o,s,u=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Pu.exec(t))&&(o=$c.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(r=r[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,h.push({i:u,x:Ne(r,o)})),n=$c.lastIndex;return n<e.length&&(s=e.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?h[0]?WS(h[0].x):qS(e):(e=h.length,function(p){for(var g=0,y;g<e;++g)f[(y=h[g]).i]=y.x(p);return f.join("")})}function Ea(t,e){var n=typeof e,r;return e==null||n==="boolean"?zs(e):(n==="number"?Ne:n==="string"?(r=Rn(e))?(e=r,sa):Zl:e instanceof Rn?sa:e instanceof Date?F0:V0(e)?Kl:Array.isArray(e)?G0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?z0:Ne)(t,e)}function jS(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function QS(t,e){var n=Bs(+t,+e);return function(r){var o=n(r);return o-360*Math.floor(o/360)}}function B0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var sd=180/Math.PI,Eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H0(t,e,n,r,o,s){var u,f,h;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,u=-u),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*sd,skewX:Math.atan(h)*sd,scaleX:u,scaleY:f}}var vr,Oc,cd,qa;function KS(t){return t==="none"?Eu:(vr||(vr=document.createElement("DIV"),Oc=document.documentElement,cd=document.defaultView),vr.style.transform=t,t=cd.getComputedStyle(Oc.appendChild(vr),null).getPropertyValue("transform"),Oc.removeChild(vr),t=t.slice(7,-1).split(","),H0(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ZS(t){return t==null||(qa||(qa=document.createElementNS("http://www.w3.org/2000/svg","g")),qa.setAttribute("transform",t),!(t=qa.transform.baseVal.consolidate()))?Eu:(t=t.matrix,H0(t.a,t.b,t.c,t.d,t.e,t.f))}function X0(t,e,n,r){function o(p){return p.length?p.pop()+" ":""}function s(p,g,y,m,x,w){if(p!==y||g!==m){var b=x.push("translate(",null,e,null,n);w.push({i:b-4,x:Ne(p,y)},{i:b-2,x:Ne(g,m)})}else(y||m)&&x.push("translate("+y+e+m+n)}function u(p,g,y,m){p!==g?(p-g>180?g+=360:g-p>180&&(p+=360),m.push({i:y.push(o(y)+"rotate(",null,r)-2,x:Ne(p,g)})):g&&y.push(o(y)+"rotate("+g+r)}function f(p,g,y,m){p!==g?m.push({i:y.push(o(y)+"skewX(",null,r)-2,x:Ne(p,g)}):g&&y.push(o(y)+"skewX("+g+r)}function h(p,g,y,m,x,w){if(p!==y||g!==m){var b=x.push(o(x)+"scale(",null,",",null,")");w.push({i:b-4,x:Ne(p,y)},{i:b-2,x:Ne(g,m)})}else(y!==1||m!==1)&&x.push(o(x)+"scale("+y+","+m+")")}return function(p,g){var y=[],m=[];return p=t(p),g=t(g),s(p.translateX,p.translateY,g.translateX,g.translateY,y,m),u(p.rotate,g.rotate,y,m),f(p.skewX,g.skewX,y,m),h(p.scaleX,p.scaleY,g.scaleX,g.scaleY,y,m),p=g=null,function(x){for(var w=-1,b=m.length,A;++w<b;)y[(A=m[w]).i]=A.x(x);return y.join("")}}}var Y0=X0(KS,"px, ","px)","deg)"),U0=X0(ZS,", ",")",")"),xr=Math.SQRT2,kc=2,ud=4,JS=1e-12;function ld(t){return((t=Math.exp(t))+1/t)/2}function t2(t){return((t=Math.exp(t))-1/t)/2}function e2(t){return((t=Math.exp(2*t))-1)/(t+1)}function q0(t,e){var n=t[0],r=t[1],o=t[2],s=e[0],u=e[1],f=e[2],h=s-n,p=u-r,g=h*h+p*p,y,m;if(g<JS)m=Math.log(f/o)/xr,y=function($){return[n+$*h,r+$*p,o*Math.exp(xr*$*m)]};else{var x=Math.sqrt(g),w=(f*f-o*o+ud*g)/(2*o*kc*x),b=(f*f-o*o-ud*g)/(2*f*kc*x),A=Math.log(Math.sqrt(w*w+1)-w),C=Math.log(Math.sqrt(b*b+1)-b);m=(C-A)/xr,y=function($){var L=$*m,O=ld(A),V=o/(kc*x)*(O*e2(xr*L+A)-t2(A));return[n+V*h,r+V*p,o*O/ld(xr*L+A)]}}return y.duration=m*1e3,y}function W0(t){return function(e,n){var r=t((e=Oo(e)).h,(n=Oo(n)).h),o=jt(e.s,n.s),s=jt(e.l,n.l),u=jt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=s(f),e.opacity=u(f),e+""}}}const n2=W0(Bs);var i2=W0(jt);function r2(t,e){var n=jt((t=Ro(t)).l,(e=Ro(e)).l),r=jt(t.a,e.a),o=jt(t.b,e.b),s=jt(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=r(u),t.b=o(u),t.opacity=s(u),t+""}}function j0(t){return function(e,n){var r=t((e=No(e)).h,(n=No(n)).h),o=jt(e.c,n.c),s=jt(e.l,n.l),u=jt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=s(f),e.opacity=u(f),e+""}}}const a2=j0(Bs);var o2=j0(jt);function Q0(t){return function e(n){n=+n;function r(o,s){var u=t((o=qe(o)).h,(s=qe(s)).h),f=jt(o.s,s.s),h=jt(o.l,s.l),p=jt(o.opacity,s.opacity);return function(g){return o.h=u(g),o.s=f(g),o.l=h(Math.pow(g,n)),o.opacity=p(g),o+""}}return r.gamma=e,r}(1)}const s2=Q0(Bs);var Hs=Q0(jt);function c2(t,e){for(var n=0,r=e.length-1,o=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(o,o=e[++n]);return function(u){var f=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return s[f](u-f)}}function u2(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Qi=0,$r=0,br=0,K0=1e3,Do,Or,Io=0,li=0,Xs=0,ca=typeof performance=="object"&&performance.now?performance:Date,Z0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ur(){return li||(Z0(l2),li=ca.now()+Xs)}function l2(){li=0}function ua(){this._call=this._time=this._next=null}ua.prototype=Ys.prototype={constructor:ua,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ur():+n)+(e==null?0:+e),!this._next&&Or!==this&&(Or?Or._next=this:Do=this,Or=this),this._call=t,this._time=n,Lu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lu())}};function Ys(t,e,n){var r=new ua;return r.restart(t,e,n),r}function J0(){ur(),++Qi;for(var t=Do,e;t;)(e=li-t._time)>=0&&t._call.call(null,e),t=t._next;--Qi}function fd(){li=(Io=ca.now())+Xs,Qi=$r=0;try{J0()}finally{Qi=0,h2(),li=0}}function f2(){var t=ca.now(),e=t-Io;e>K0&&(Xs-=e,Io=t)}function h2(){for(var t,e=Do,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Do=n);Or=t,Lu(r)}function Lu(t){if(!Qi){$r&&($r=clearTimeout($r));var e=t-li;e>24?(t<1/0&&($r=setTimeout(fd,t-ca.now()-Xs)),br&&(br=clearInterval(br))):(br||(Io=ca.now(),br=setInterval(f2,K0)),Qi=1,Z0(fd))}}function Mu(t,e,n){var r=new ua;return e=e==null?0:+e,r.restart(function(o){r.stop(),t(o+e)},e,n),r}function d2(t,e,n){var r=new ua,o=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?ur():+n,r.restart(function s(u){u+=o,r.restart(s,o+=e,n),t(u)},e,n),r)}var p2=vi("start","end","cancel","interrupt"),g2=[],tm=0,$u=1,Ou=2,xo=3,hd=4,ku=5,bo=6;function Us(t,e,n,r,o,s){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;m2(t,n,{name:e,index:r,group:o,on:p2,tween:g2,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tm})}function Jl(t,e){var n=We(t,e);if(n.state>tm)throw new Error("too late; already scheduled");return n}function bn(t,e){var n=We(t,e);if(n.state>xo)throw new Error("too late; already running");return n}function We(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function m2(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=Ys(s,0,n.time);function s(p){n.state=$u,n.timer.restart(u,n.delay,n.time),n.delay<=p&&u(p-n.delay)}function u(p){var g,y,m,x;if(n.state!==$u)return h();for(g in r)if(x=r[g],x.name===n.name){if(x.state===xo)return Mu(u);x.state===hd?(x.state=bo,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[g]):+g<e&&(x.state=bo,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[g])}if(Mu(function(){n.state===xo&&(n.state=hd,n.timer.restart(f,n.delay,n.time),f(p))}),n.state=Ou,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ou){for(n.state=xo,o=new Array(m=n.tween.length),g=0,y=-1;g<m;++g)(x=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(o[++y]=x);o.length=y+1}}function f(p){for(var g=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(h),n.state=ku,1),y=-1,m=o.length;++y<m;)o[y].call(t,g);n.state===ku&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=bo,n.timer.stop(),delete r[e];for(var p in r)return;delete t.__transition}}function ri(t,e){var n=t.__transition,r,o,s=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){s=!1;continue}o=r.state>Ou&&r.state<ku,r.state=bo,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}s&&delete t.__transition}}function y2(t){return this.each(function(){ri(this,t)})}function _2(t,e){var n,r;return function(){var o=bn(this,t),s=o.tween;if(s!==n){r=n=s;for(var u=0,f=r.length;u<f;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}o.tween=r}}function v2(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=bn(this,t),u=s.tween;if(u!==r){o=(r=u).slice();for(var f={name:e,value:n},h=0,p=o.length;h<p;++h)if(o[h].name===e){o[h]=f;break}h===p&&o.push(f)}s.tween=o}}function x2(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=We(this.node(),n).tween,o=0,s=r.length,u;o<s;++o)if((u=r[o]).name===t)return u.value;return null}return this.each((e==null?_2:v2)(n,t,e))}function tf(t,e,n){var r=t._id;return t.each(function(){var o=bn(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return We(o,r).value[e]}}function em(t,e){var n;return(typeof e=="number"?Ne:e instanceof Rn?sa:(n=Rn(e))?(e=n,sa):Zl)(t,e)}function b2(t){return function(){this.removeAttribute(t)}}function w2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function S2(t,e,n){var r,o=n+"",s;return function(){var u=this.getAttribute(t);return u===o?null:u===r?s:s=e(r=u,n)}}function A2(t,e,n){var r,o=n+"",s;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?s:s=e(r=u,n)}}function T2(t,e,n){var r,o,s;return function(){var u,f=n(this),h;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),h=f+"",u===h?null:u===r&&h===o?s:(o=h,s=e(r=u,f)))}}function C2(t,e,n){var r,o,s;return function(){var u,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),h=f+"",u===h?null:u===r&&h===o?s:(o=h,s=e(r=u,f)))}}function P2(t,e){var n=Ca(t),r=n==="transform"?U0:em;return this.attrTween(t,typeof e=="function"?(n.local?C2:T2)(n,r,tf(this,"attr."+t,e)):e==null?(n.local?w2:b2)(n):(n.local?A2:S2)(n,r,e))}function E2(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function L2(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function M2(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&L2(t,s)),n}return o._value=e,o}function $2(t,e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&E2(t,s)),n}return o._value=e,o}function O2(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ca(t);return this.tween(n,(r.local?M2:$2)(r,e))}function k2(t,e){return function(){Jl(this,t).delay=+e.apply(this,arguments)}}function R2(t,e){return e=+e,function(){Jl(this,t).delay=e}}function N2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?k2:R2)(e,t)):We(this.node(),e).delay}function D2(t,e){return function(){bn(this,t).duration=+e.apply(this,arguments)}}function I2(t,e){return e=+e,function(){bn(this,t).duration=e}}function V2(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?D2:I2)(e,t)):We(this.node(),e).duration}function G2(t,e){if(typeof e!="function")throw new Error;return function(){bn(this,t).ease=e}}function F2(t){var e=this._id;return arguments.length?this.each(G2(e,t)):We(this.node(),e).ease}function z2(t){typeof t!="function"&&(t=Hl(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,f=r[o]=[],h,p=0;p<u;++p)(h=s[p])&&t.call(h,h.__data__,p,s)&&f.push(h);return new cn(r,this._parents,this._name,this._id)}function B2(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,s=Math.min(r,o),u=new Array(r),f=0;f<s;++f)for(var h=e[f],p=n[f],g=h.length,y=u[f]=new Array(g),m,x=0;x<g;++x)(m=h[x]||p[x])&&(y[x]=m);for(;f<r;++f)u[f]=e[f];return new cn(u,this._parents,this._name,this._id)}function H2(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function X2(t,e,n){var r,o,s=H2(e)?Jl:bn;return function(){var u=s(this,t),f=u.on;f!==r&&(o=(r=f).copy()).on(e,n),u.on=o}}function Y2(t,e){var n=this._id;return arguments.length<2?We(this.node(),n).on.on(t):this.each(X2(n,t,e))}function U2(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function q2(){return this.on("end.remove",U2(this._id))}function W2(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ds(t));for(var r=this._groups,o=r.length,s=new Array(o),u=0;u<o;++u)for(var f=r[u],h=f.length,p=s[u]=new Array(h),g,y,m=0;m<h;++m)(g=f[m])&&(y=t.call(g,g.__data__,m,f))&&("__data__"in g&&(y.__data__=g.__data__),p[m]=y,Us(p[m],e,n,m,p,We(g,n)));return new cn(s,this._parents,e,n)}function j2(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bl(t));for(var r=this._groups,o=r.length,s=[],u=[],f=0;f<o;++f)for(var h=r[f],p=h.length,g,y=0;y<p;++y)if(g=h[y]){for(var m=t.call(g,g.__data__,y,h),x,w=We(g,n),b=0,A=m.length;b<A;++b)(x=m[b])&&Us(x,e,n,b,m,w);s.push(m),u.push(g)}return new cn(s,u,e,n)}var Q2=xi.prototype.constructor;function K2(){return new Q2(this._groups,this._parents)}function Z2(t,e){var n,r,o;return function(){var s=ci(this,t),u=(this.style.removeProperty(t),ci(this,t));return s===u?null:s===n&&u===r?o:o=e(n=s,r=u)}}function nm(t){return function(){this.style.removeProperty(t)}}function J2(t,e,n){var r,o=n+"",s;return function(){var u=ci(this,t);return u===o?null:u===r?s:s=e(r=u,n)}}function tA(t,e,n){var r,o,s;return function(){var u=ci(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),ci(this,t))),u===h?null:u===r&&h===o?s:(o=h,s=e(r=u,f))}}function eA(t,e){var n,r,o,s="style."+e,u="end."+s,f;return function(){var h=bn(this,t),p=h.on,g=h.value[s]==null?f||(f=nm(e)):void 0;(p!==n||o!==g)&&(r=(n=p).copy()).on(u,o=g),h.on=r}}function nA(t,e,n){var r=(t+="")=="transform"?Y0:em;return e==null?this.styleTween(t,Z2(t,r)).on("end.style."+t,nm(t)):typeof e=="function"?this.styleTween(t,tA(t,r,tf(this,"style."+t,e))).each(eA(this._id,t)):this.styleTween(t,J2(t,r,e),n).on("end.style."+t,null)}function iA(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function rA(t,e,n){var r,o;function s(){var u=e.apply(this,arguments);return u!==o&&(r=(o=u)&&iA(t,u,n)),r}return s._value=e,s}function aA(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,rA(t,e,n??""))}function oA(t){return function(){this.textContent=t}}function sA(t){return function(){var e=t(this);this.textContent=e??""}}function cA(t){return this.tween("text",typeof t=="function"?sA(tf(this,"text",t)):oA(t==null?"":t+""))}function uA(t){return function(e){this.textContent=t.call(this,e)}}function lA(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&uA(o)),e}return r._value=t,r}function fA(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lA(t))}function hA(){for(var t=this._name,e=this._id,n=rm(),r=this._groups,o=r.length,s=0;s<o;++s)for(var u=r[s],f=u.length,h,p=0;p<f;++p)if(h=u[p]){var g=We(h,e);Us(h,t,n,p,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new cn(r,this._parents,t,n)}function dA(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(s,u){var f={value:u},h={value:function(){--o===0&&s()}};n.each(function(){var p=bn(this,r),g=p.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),p.on=e})})}var pA=0;function cn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function im(t){return xi().transition(t)}function rm(){return++pA}var Ci=xi.prototype;cn.prototype=im.prototype={constructor:cn,select:W2,selectAll:j2,filter:z2,merge:B2,selection:K2,transition:hA,call:Ci.call,nodes:Ci.nodes,node:Ci.node,size:Ci.size,empty:Ci.empty,each:Ci.each,on:Y2,attr:P2,attrTween:O2,style:nA,styleTween:aA,text:cA,textTween:fA,remove:q2,tween:x2,delay:N2,duration:V2,ease:F2,end:dA};function gA(t){return+t}function mA(t){return t*t}function yA(t){return t*(2-t)}function dd(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function _A(t){return t*t*t}function vA(t){return--t*t*t+1}function Ru(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ef=3,xA=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(ef),bA=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(ef),pd=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(ef),am=Math.PI,om=am/2;function wA(t){return+t==1?1:1-Math.cos(t*om)}function SA(t){return Math.sin(t*om)}function gd(t){return(1-Math.cos(am*t))/2}function Nn(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function AA(t){return Nn(1-+t)}function TA(t){return 1-Nn(t)}function md(t){return((t*=2)<=1?Nn(1-t):2-Nn(t-1))/2}function CA(t){return 1-Math.sqrt(1-t*t)}function PA(t){return Math.sqrt(1- --t*t)}function yd(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Nu=4/11,EA=6/11,LA=8/11,MA=3/4,$A=9/11,OA=10/11,kA=15/16,RA=21/22,NA=63/64,Wa=1/Nu/Nu;function DA(t){return 1-la(1-t)}function la(t){return(t=+t)<Nu?Wa*t*t:t<LA?Wa*(t-=EA)*t+MA:t<OA?Wa*(t-=$A)*t+kA:Wa*(t-=RA)*t+NA}function IA(t){return((t*=2)<=1?1-la(1-t):la(t-1)+1)/2}var nf=1.70158,VA=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(nf),GA=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(nf),_d=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(nf),Ki=2*Math.PI,rf=1,af=.3,FA=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ki);function o(s){return e*Nn(- --s)*Math.sin((r-s)/n)}return o.amplitude=function(s){return t(s,n*Ki)},o.period=function(s){return t(e,s)},o}(rf,af),vd=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ki);function o(s){return 1-e*Nn(s=+s)*Math.sin((s+r)/n)}return o.amplitude=function(s){return t(s,n*Ki)},o.period=function(s){return t(e,s)},o}(rf,af),zA=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ki);function o(s){return((s=s*2-1)<0?e*Nn(-s)*Math.sin((r-s)/n):2-e*Nn(s)*Math.sin((r+s)/n))/2}return o.amplitude=function(s){return t(s,n*Ki)},o.period=function(s){return t(e,s)},o}(rf,af),Du={time:null,delay:0,duration:250,ease:Ru};function BA(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Du.time=ur(),Du;return n}function HA(t){var e,n;t instanceof cn?(e=t._id,t=t._name):(e=rm(),(n=Du).time=ur(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var u=r[s],f=u.length,h,p=0;p<f;++p)(h=u[p])&&Us(h,t,e,p,u,n||BA(h,e));return new cn(r,this._parents,t,e)}xi.prototype.interrupt=y2;xi.prototype.transition=HA;var XA=[null];function YA(t,e){var n=t.__transition,r,o;if(n){e=e==null?null:e+"";for(o in n)if((r=n[o]).state>$u&&r.name===e)return new cn([[t]],XA,e,+o)}return null}function Rc(t){return function(){return t}}function UA(t,e,n){this.target=t,this.type=e,this.selection=n}function xd(){ct.stopImmediatePropagation()}function Nc(){ct.preventDefault(),ct.stopImmediatePropagation()}var bd={name:"drag"},Dc={name:"space"},Pi={name:"handle"},Ei={name:"center"};function wd(t){return[+t[0],+t[1]]}function Iu(t){return[wd(t[0]),wd(t[1])]}function qA(t){return function(e){return ra(e,ct.touches,t)}}var wo={name:"x",handles:["w","e"].map(fa),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},So={name:"y",handles:["n","s"].map(fa),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},WA={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fa),input:function(t){return t==null?null:Iu(t)},output:function(t){return t}},dn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ad={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jA={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},QA={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fa(t){return{type:t}}function KA(){return!ct.ctrlKey&&!ct.button}function ZA(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function JA(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ic(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function tT(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function eT(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function nT(){return of(wo)}function iT(){return of(So)}function rT(){return of(WA)}function of(t){var e=ZA,n=KA,r=JA,o=!0,s=vi("start","brush","end"),u=6,f;function h(A){var C=A.property("__brush",b).selectAll(".overlay").data([fa("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",dn.overlay).merge(C).each(function(){var L=Ic(this).extent;be(this).attr("x",L[0][0]).attr("y",L[0][1]).attr("width",L[1][0]-L[0][0]).attr("height",L[1][1]-L[0][1])}),A.selectAll(".selection").data([fa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",dn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $=A.selectAll(".handle").data(t.handles,function(L){return L.type});$.exit().remove(),$.enter().append("rect").attr("class",function(L){return"handle handle--"+L.type}).attr("cursor",function(L){return dn[L.type]}),A.each(p).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",m).filter(r).on("touchstart.brush",m).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(A,C){A.selection?A.on("start.brush",function(){g(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){g(this,arguments).end()}).tween("brush",function(){var $=this,L=$.__brush,O=g($,arguments),V=L.selection,B=t.input(typeof C=="function"?C.apply(this,arguments):C,L.extent),z=Ea(V,B);function Q(X){L.selection=X===1&&B===null?null:z(X),p.call($),O.brush()}return V!==null&&B!==null?Q:Q(1)}):A.each(function(){var $=this,L=arguments,O=$.__brush,V=t.input(typeof C=="function"?C.apply($,L):C,O.extent),B=g($,L).beforestart();ri($),O.selection=V===null?null:V,p.call($),B.start().brush().end()})},h.clear=function(A){h.move(A,null)};function p(){var A=be(this),C=Ic(this).selection;C?(A.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),A.selectAll(".handle").style("display",null).attr("x",function($){return $.type[$.type.length-1]==="e"?C[1][0]-u/2:C[0][0]-u/2}).attr("y",function($){return $.type[0]==="s"?C[1][1]-u/2:C[0][1]-u/2}).attr("width",function($){return $.type==="n"||$.type==="s"?C[1][0]-C[0][0]+u:u}).attr("height",function($){return $.type==="e"||$.type==="w"?C[1][1]-C[0][1]+u:u})):A.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function g(A,C,$){var L=A.__brush.emitter;return L&&(!$||!L.clean)?L:new y(A,C,$)}function y(A,C,$){this.that=A,this.args=C,this.state=A.__brush,this.active=0,this.clean=$}y.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(A){ia(new UA(h,A,t.output(this.state.selection)),s.apply,s,[A,this.that,this.args])}};function m(){if(f&&!ct.touches||!n.apply(this,arguments))return;var A=this,C=ct.target.__data__.type,$=(o&&ct.metaKey?C="overlay":C)==="selection"?bd:o&&ct.altKey?Ei:Pi,L=t===So?null:jA[C],O=t===wo?null:QA[C],V=Ic(A),B=V.extent,z=V.selection,Q=B[0][0],X,T,q=B[0][1],k,Y,J=B[1][0],U,K,rt=B[1][1],ot,i,a=0,c=0,l,d=L&&O&&o&&ct.shiftKey,v,S,P=ct.touches?qA(ct.changedTouches[0].identifier):ei,R=P(A),M=R,N=g(A,arguments,!0).beforestart();C==="overlay"?(z&&(l=!0),V.selection=z=[[X=t===So?Q:R[0],k=t===wo?q:R[1]],[U=t===So?J:X,ot=t===wo?rt:k]]):(X=z[0][0],k=z[0][1],U=z[1][0],ot=z[1][1]),T=X,Y=k,K=U,i=ot;var D=be(A).attr("pointer-events","none"),H=D.selectAll(".overlay").attr("cursor",dn[C]);if(ct.touches)N.moved=W,N.ended=tt;else{var I=be(ct.view).on("mousemove.brush",W,!0).on("mouseup.brush",tt,!0);o&&I.on("keydown.brush",Z,!0).on("keyup.brush",pt,!0),Vs(ct.view)}xd(),ri(A),p.call(A),N.start();function W(){var gt=P(A);d&&!v&&!S&&(Math.abs(gt[0]-M[0])>Math.abs(gt[1]-M[1])?S=!0:v=!0),M=gt,l=!0,Nc(),j()}function j(){var gt;switch(a=M[0]-R[0],c=M[1]-R[1],$){case Dc:case bd:{L&&(a=Math.max(Q-X,Math.min(J-U,a)),T=X+a,K=U+a),O&&(c=Math.max(q-k,Math.min(rt-ot,c)),Y=k+c,i=ot+c);break}case Pi:{L<0?(a=Math.max(Q-X,Math.min(J-X,a)),T=X+a,K=U):L>0&&(a=Math.max(Q-U,Math.min(J-U,a)),T=X,K=U+a),O<0?(c=Math.max(q-k,Math.min(rt-k,c)),Y=k+c,i=ot):O>0&&(c=Math.max(q-ot,Math.min(rt-ot,c)),Y=k,i=ot+c);break}case Ei:{L&&(T=Math.max(Q,Math.min(J,X-a*L)),K=Math.max(Q,Math.min(J,U+a*L))),O&&(Y=Math.max(q,Math.min(rt,k-c*O)),i=Math.max(q,Math.min(rt,ot+c*O)));break}}K<T&&(L*=-1,gt=X,X=U,U=gt,gt=T,T=K,K=gt,C in Sd&&H.attr("cursor",dn[C=Sd[C]])),i<Y&&(O*=-1,gt=k,k=ot,ot=gt,gt=Y,Y=i,i=gt,C in Ad&&H.attr("cursor",dn[C=Ad[C]])),V.selection&&(z=V.selection),v&&(T=z[0][0],K=z[1][0]),S&&(Y=z[0][1],i=z[1][1]),(z[0][0]!==T||z[0][1]!==Y||z[1][0]!==K||z[1][1]!==i)&&(V.selection=[[T,Y],[K,i]],p.call(A),N.brush())}function tt(){if(xd(),ct.touches){if(ct.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else Gs(ct.view,l),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),H.attr("cursor",dn.overlay),V.selection&&(z=V.selection),tT(z)&&(V.selection=null,p.call(A)),N.end()}function Z(){switch(ct.keyCode){case 16:{d=L&&O;break}case 18:{$===Pi&&(L&&(U=K-a*L,X=T+a*L),O&&(ot=i-c*O,k=Y+c*O),$=Ei,j());break}case 32:{($===Pi||$===Ei)&&(L<0?U=K-a:L>0&&(X=T-a),O<0?ot=i-c:O>0&&(k=Y-c),$=Dc,H.attr("cursor",dn.selection),j());break}default:return}Nc()}function pt(){switch(ct.keyCode){case 16:{d&&(v=S=d=!1,j());break}case 18:{$===Ei&&(L<0?U=K:L>0&&(X=T),O<0?ot=i:O>0&&(k=Y),$=Pi,j());break}case 32:{$===Dc&&(ct.altKey?(L&&(U=K-a*L,X=T+a*L),O&&(ot=i-c*O,k=Y+c*O),$=Ei):(L<0?U=K:L>0&&(X=T),O<0?ot=i:O>0&&(k=Y),$=Pi),H.attr("cursor",dn[C]),j());break}default:return}Nc()}}function x(){g(this,arguments).moved()}function w(){g(this,arguments).ended()}function b(){var A=this.__brush||{selection:null};return A.extent=Iu(e.apply(this,arguments)),A.dim=t,A}return h.extent=function(A){return arguments.length?(e=typeof A=="function"?A:Rc(Iu(A)),h):e},h.filter=function(A){return arguments.length?(n=typeof A=="function"?A:Rc(!!A),h):n},h.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Rc(!!A),h):r},h.handleSize=function(A){return arguments.length?(u=+A,h):u},h.keyModifiers=function(A){return arguments.length?(o=!!A,h):o},h.on=function(){var A=s.on.apply(s,arguments);return A===s?h:A},h}var Td=Math.cos,Cd=Math.sin,sm=Math.PI,ja=sm/2,Pd=sm*2,Ed=Math.max;function aT(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function oT(){var t=0,e=null,n=null,r=null;function o(s){var u=s.length,f=[],h=Pe(u),p=[],g=[],y=g.groups=new Array(u),m=new Array(u*u),x,w,b,A,C,$;for(x=0,C=-1;++C<u;){for(w=0,$=-1;++$<u;)w+=s[C][$];f.push(w),p.push(Pe(u)),x+=w}for(e&&h.sort(function(T,q){return e(f[T],f[q])}),n&&p.forEach(function(T,q){T.sort(function(k,Y){return n(s[q][k],s[q][Y])})}),x=Ed(0,Pd-t*u)/x,A=x?t:Pd/u,w=0,C=-1;++C<u;){for(b=w,$=-1;++$<u;){var L=h[C],O=p[L][$],V=s[L][O],B=w,z=w+=V*x;m[O*u+L]={index:L,subindex:O,startAngle:B,endAngle:z,value:V}}y[L]={index:L,startAngle:b,endAngle:w,value:f[L]},w+=A}for(C=-1;++C<u;)for($=C-1;++$<u;){var Q=m[$*u+C],X=m[C*u+$];(Q.value||X.value)&&g.push(Q.value<X.value?{source:X,target:Q}:{source:Q,target:X})}return r?g.sort(r):g}return o.padAngle=function(s){return arguments.length?(t=Ed(0,s),o):t},o.sortGroups=function(s){return arguments.length?(e=s,o):e},o.sortSubgroups=function(s){return arguments.length?(n=s,o):n},o.sortChords=function(s){return arguments.length?(s==null?r=null:(r=aT(s))._=s,o):r&&r._},o}var sT=Array.prototype.slice;function Vc(t){return function(){return t}}var Vu=Math.PI,Gu=2*Vu,Zn=1e-6,cT=Gu-Zn;function Fu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zn(){return new Fu}Fu.prototype=zn.prototype={constructor:Fu,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+s)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var s=this._x1,u=this._y1,f=n-t,h=r-e,p=s-t,g=u-e,y=p*p+g*g;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(y>Zn)if(!(Math.abs(g*f-h*p)>Zn)||!o)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var m=n-s,x=r-u,w=f*f+h*h,b=m*m+x*x,A=Math.sqrt(w),C=Math.sqrt(y),$=o*Math.tan((Vu-Math.acos((w+y-b)/(2*A*C)))/2),L=$/C,O=$/A;Math.abs(L-1)>Zn&&(this._+="L"+(t+L*p)+","+(e+L*g)),this._+="A"+o+","+o+",0,0,"+ +(g*m>p*x)+","+(this._x1=t+O*f)+","+(this._y1=e+O*h)}},arc:function(t,e,n,r,o,s){t=+t,e=+e,n=+n,s=!!s;var u=n*Math.cos(r),f=n*Math.sin(r),h=t+u,p=e+f,g=1^s,y=s?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+h+","+p:(Math.abs(this._x1-h)>Zn||Math.abs(this._y1-p)>Zn)&&(this._+="L"+h+","+p),n&&(y<0&&(y=y%Gu+Gu),y>cT?this._+="A"+n+","+n+",0,1,"+g+","+(t-u)+","+(e-f)+"A"+n+","+n+",0,1,"+g+","+(this._x1=h)+","+(this._y1=p):y>Zn&&(this._+="A"+n+","+n+",0,"+ +(y>=Vu)+","+g+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function uT(t){return t.source}function lT(t){return t.target}function fT(t){return t.radius}function hT(t){return t.startAngle}function dT(t){return t.endAngle}function pT(){var t=uT,e=lT,n=fT,r=hT,o=dT,s=null;function u(){var f,h=sT.call(arguments),p=t.apply(this,h),g=e.apply(this,h),y=+n.apply(this,(h[0]=p,h)),m=r.apply(this,h)-ja,x=o.apply(this,h)-ja,w=y*Td(m),b=y*Cd(m),A=+n.apply(this,(h[0]=g,h)),C=r.apply(this,h)-ja,$=o.apply(this,h)-ja;if(s||(s=f=zn()),s.moveTo(w,b),s.arc(0,0,y,m,x),(m!==C||x!==$)&&(s.quadraticCurveTo(0,0,A*Td(C),A*Cd(C)),s.arc(0,0,A,C,$)),s.quadraticCurveTo(0,0,w,b),s.closePath(),f)return s=null,f+""||null}return u.radius=function(f){return arguments.length?(n=typeof f=="function"?f:Vc(+f),u):n},u.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Vc(+f),u):r},u.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Vc(+f),u):o},u.source=function(f){return arguments.length?(t=f,u):t},u.target=function(f){return arguments.length?(e=f,u):e},u.context=function(f){return arguments.length?(s=f??null,u):s},u}var Re="$";function Vo(){}Vo.prototype=vn.prototype={constructor:Vo,has:function(t){return Re+t in this},get:function(t){return this[Re+t]},set:function(t,e){return this[Re+t]=e,this},remove:function(t){var e=Re+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Re&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Re&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Re&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Re&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Re&&++t;return t},empty:function(){for(var t in this)if(t[0]===Re)return!1;return!0},each:function(t){for(var e in this)e[0]===Re&&t(this[e],e.slice(1),this)}};function vn(t,e){var n=new Vo;if(t instanceof Vo)t.each(function(f,h){n.set(h,f)});else if(Array.isArray(t)){var r=-1,o=t.length,s;if(e==null)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(s=t[r],r,t),s)}else if(t)for(var u in t)n.set(u,t[u]);return n}function gT(){var t=[],e=[],n,r,o;function s(f,h,p,g){if(h>=t.length)return n!=null&&f.sort(n),r!=null?r(f):f;for(var y=-1,m=f.length,x=t[h++],w,b,A=vn(),C,$=p();++y<m;)(C=A.get(w=x(b=f[y])+""))?C.push(b):A.set(w,[b]);return A.each(function(L,O){g($,O,s(L,h,p,g))}),$}function u(f,h){if(++h>t.length)return f;var p,g=e[h-1];return r!=null&&h>=t.length?p=f.entries():(p=[],f.each(function(y,m){p.push({key:m,values:u(y,h)})})),g!=null?p.sort(function(y,m){return g(y.key,m.key)}):p}return o={object:function(f){return s(f,0,mT,yT)},map:function(f){return s(f,0,Ld,Md)},entries:function(f){return u(s(f,0,Ld,Md),0)},key:function(f){return t.push(f),o},sortKeys:function(f){return e[t.length-1]=f,o},sortValues:function(f){return n=f,o},rollup:function(f){return r=f,o}}}function mT(){return{}}function yT(t,e,n){t[e]=n}function Ld(){return vn()}function Md(t,e,n){t.set(e,n)}function Go(){}var Qn=vn.prototype;Go.prototype=cm.prototype={constructor:Go,has:Qn.has,add:function(t){return t+="",this[Re+t]=t,this},remove:Qn.remove,clear:Qn.clear,values:Qn.keys,size:Qn.size,empty:Qn.empty,each:Qn.each};function cm(t,e){var n=new Go;if(t instanceof Go)t.each(function(s){n.add(s)});else if(t){var r=-1,o=t.length;if(e==null)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}function _T(t){var e=[];for(var n in t)e.push(n);return e}function vT(t){var e=[];for(var n in t)e.push(t[n]);return e}function xT(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var bT=Array.prototype,um=bT.slice;function wT(t,e){return t-e}function ST(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function Pn(t){return function(){return t}}function AT(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=TT(t,e[n]))return o;return 0}function TT(t,e){for(var n=e[0],r=e[1],o=-1,s=0,u=t.length,f=u-1;s<u;f=s++){var h=t[s],p=h[0],g=h[1],y=t[f],m=y[0],x=y[1];if(CT(h,y,e))return 0;g>r!=x>r&&n<(m-p)*(r-g)/(x-g)+p&&(o=-o)}return o}function CT(t,e,n){var r;return PT(t,e,n)&&ET(t[r=+(t[0]===e[0])],n[r],e[r])}function PT(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function ET(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function LT(){}var pn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function lm(){var t=1,e=1,n=Fl,r=h;function o(p){var g=n(p);if(Array.isArray(g))g=g.slice().sort(wT);else{var y=Vl(p),m=y[0],x=y[1];g=si(m,x,g),g=Pe(Math.floor(m/g)*g,Math.floor(x/g)*g,g)}return g.map(function(w){return s(p,w)})}function s(p,g){var y=[],m=[];return u(p,g,function(x){r(x,p,g),ST(x)>0?y.push([x]):m.push(x)}),m.forEach(function(x){for(var w=0,b=y.length,A;w<b;++w)if(AT((A=y[w])[0],x)!==-1){A.push(x);return}}),{type:"MultiPolygon",value:g,coordinates:y}}function u(p,g,y){var m=new Array,x=new Array,w,b,A,C,$,L;for(w=b=-1,C=p[0]>=g,pn[C<<1].forEach(O);++w<t-1;)A=C,C=p[w+1]>=g,pn[A|C<<1].forEach(O);for(pn[C<<0].forEach(O);++b<e-1;){for(w=-1,C=p[b*t+t]>=g,$=p[b*t]>=g,pn[C<<1|$<<2].forEach(O);++w<t-1;)A=C,C=p[b*t+t+w+1]>=g,L=$,$=p[b*t+w+1]>=g,pn[A|C<<1|$<<2|L<<3].forEach(O);pn[C|$<<3].forEach(O)}for(w=-1,$=p[b*t]>=g,pn[$<<2].forEach(O);++w<t-1;)L=$,$=p[b*t+w+1]>=g,pn[$<<2|L<<3].forEach(O);pn[$<<3].forEach(O);function O(V){var B=[V[0][0]+w,V[0][1]+b],z=[V[1][0]+w,V[1][1]+b],Q=f(B),X=f(z),T,q;(T=x[Q])?(q=m[X])?(delete x[T.end],delete m[q.start],T===q?(T.ring.push(z),y(T.ring)):m[T.start]=x[q.end]={start:T.start,end:q.end,ring:T.ring.concat(q.ring)}):(delete x[T.end],T.ring.push(z),x[T.end=X]=T):(T=m[X])?(q=x[Q])?(delete m[T.start],delete x[q.end],T===q?(T.ring.push(z),y(T.ring)):m[q.start]=x[T.end]={start:q.start,end:T.end,ring:q.ring.concat(T.ring)}):(delete m[T.start],T.ring.unshift(B),m[T.start=Q]=T):m[Q]=x[X]={start:Q,end:X,ring:[B,z]}}}function f(p){return p[0]*2+p[1]*(t+1)*4}function h(p,g,y){p.forEach(function(m){var x=m[0],w=m[1],b=x|0,A=w|0,C,$=g[A*t+b];x>0&&x<t&&b===x&&(C=g[A*t+b-1],m[0]=x+(y-C)/($-C)-.5),w>0&&w<e&&A===w&&(C=g[(A-1)*t+b],m[1]=w+(y-C)/($-C)-.5)})}return o.contour=s,o.size=function(p){if(!arguments.length)return[t,e];var g=Math.ceil(p[0]),y=Math.ceil(p[1]);if(!(g>0)||!(y>0))throw new Error("invalid size");return t=g,e=y,o},o.thresholds=function(p){return arguments.length?(n=typeof p=="function"?p:Array.isArray(p)?Pn(um.call(p)):Pn(p),o):n},o.smooth=function(p){return arguments.length?(r=p?h:LT,o):r===h},o}function Gc(t,e,n){for(var r=t.width,o=t.height,s=(n<<1)+1,u=0;u<o;++u)for(var f=0,h=0;f<r+n;++f)f<r&&(h+=t.data[f+u*r]),f>=n&&(f>=s&&(h-=t.data[f-s+u*r]),e.data[f-n+u*r]=h/Math.min(f+1,r-1+s-f,s))}function Fc(t,e,n){for(var r=t.width,o=t.height,s=(n<<1)+1,u=0;u<r;++u)for(var f=0,h=0;f<o+n;++f)f<o&&(h+=t.data[u+f*r]),f>=n&&(f>=s&&(h-=t.data[u+(f-s)*r]),e.data[u+(f-n)*r]=h/Math.min(f+1,o-1+s-f,s))}function MT(t){return t[0]}function $T(t){return t[1]}function OT(){return 1}function kT(){var t=MT,e=$T,n=OT,r=960,o=500,s=20,u=2,f=s*3,h=r+f*2>>u,p=o+f*2>>u,g=Pn(20);function y(C){var $=new Float32Array(h*p),L=new Float32Array(h*p);C.forEach(function(B,z,Q){var X=+t(B,z,Q)+f>>u,T=+e(B,z,Q)+f>>u,q=+n(B,z,Q);X>=0&&X<h&&T>=0&&T<p&&($[X+T*h]+=q)}),Gc({width:h,height:p,data:$},{width:h,height:p,data:L},s>>u),Fc({width:h,height:p,data:L},{width:h,height:p,data:$},s>>u),Gc({width:h,height:p,data:$},{width:h,height:p,data:L},s>>u),Fc({width:h,height:p,data:L},{width:h,height:p,data:$},s>>u),Gc({width:h,height:p,data:$},{width:h,height:p,data:L},s>>u),Fc({width:h,height:p,data:L},{width:h,height:p,data:$},s>>u);var O=g($);if(!Array.isArray(O)){var V=c0($);O=si(0,V,O),O=Pe(0,Math.floor(V/O)*O,O),O.shift()}return lm().thresholds(O).size([h,p])($).map(m)}function m(C){return C.value*=Math.pow(2,-2*u),C.coordinates.forEach(x),C}function x(C){C.forEach(w)}function w(C){C.forEach(b)}function b(C){C[0]=C[0]*Math.pow(2,u)-f,C[1]=C[1]*Math.pow(2,u)-f}function A(){return f=s*3,h=r+f*2>>u,p=o+f*2>>u,y}return y.x=function(C){return arguments.length?(t=typeof C=="function"?C:Pn(+C),y):t},y.y=function(C){return arguments.length?(e=typeof C=="function"?C:Pn(+C),y):e},y.weight=function(C){return arguments.length?(n=typeof C=="function"?C:Pn(+C),y):n},y.size=function(C){if(!arguments.length)return[r,o];var $=Math.ceil(C[0]),L=Math.ceil(C[1]);if(!($>=0)&&!($>=0))throw new Error("invalid size");return r=$,o=L,A()},y.cellSize=function(C){if(!arguments.length)return 1<<u;if(!((C=+C)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(C)/Math.LN2),A()},y.thresholds=function(C){return arguments.length?(g=typeof C=="function"?C:Array.isArray(C)?Pn(um.call(C)):Pn(C),y):g},y.bandwidth=function(C){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((C=+C)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*C*C+1)-1)/2),A()},y}var $d={},zc={},Bc=34,wr=10,Hc=13;function fm(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function RT(t,e){var n=fm(t);return function(r,o){return e(n(r),o,t)}}function Od(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var o in r)o in e||n.push(e[o]=o)}),n}function ve(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function NT(t){return t<0?"-"+ve(-t,6):t>9999?"+"+ve(t,6):ve(t,4)}function DT(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":NT(t.getUTCFullYear())+"-"+ve(t.getUTCMonth()+1,2)+"-"+ve(t.getUTCDate(),2)+(o?"T"+ve(e,2)+":"+ve(n,2)+":"+ve(r,2)+"."+ve(o,3)+"Z":r?"T"+ve(e,2)+":"+ve(n,2)+":"+ve(r,2)+"Z":n||e?"T"+ve(e,2)+":"+ve(n,2)+"Z":"")}function qs(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(y,m){var x,w,b=o(y,function(A,C){if(x)return x(A,C-1);w=A,x=m?RT(A,m):fm(A)});return b.columns=w||[],b}function o(y,m){var x=[],w=y.length,b=0,A=0,C,$=w<=0,L=!1;y.charCodeAt(w-1)===wr&&--w,y.charCodeAt(w-1)===Hc&&--w;function O(){if($)return zc;if(L)return L=!1,$d;var B,z=b,Q;if(y.charCodeAt(z)===Bc){for(;b++<w&&y.charCodeAt(b)!==Bc||y.charCodeAt(++b)===Bc;);return(B=b)>=w?$=!0:(Q=y.charCodeAt(b++))===wr?L=!0:Q===Hc&&(L=!0,y.charCodeAt(b)===wr&&++b),y.slice(z+1,B-1).replace(/""/g,'"')}for(;b<w;){if((Q=y.charCodeAt(B=b++))===wr)L=!0;else if(Q===Hc)L=!0,y.charCodeAt(b)===wr&&++b;else if(Q!==n)continue;return y.slice(z,B)}return $=!0,y.slice(z,w)}for(;(C=O())!==zc;){for(var V=[];C!==$d&&C!==zc;)V.push(C),C=O();m&&(V=m(V,A++))==null||x.push(V)}return x}function s(y,m){return y.map(function(x){return m.map(function(w){return g(x[w])}).join(t)})}function u(y,m){return m==null&&(m=Od(y)),[m.map(g).join(t)].concat(s(y,m)).join(`
`)}function f(y,m){return m==null&&(m=Od(y)),s(y,m).join(`
`)}function h(y){return y.map(p).join(`
`)}function p(y){return y.map(g).join(t)}function g(y){return y==null?"":y instanceof Date?DT(y):e.test(y+="")?'"'+y.replace(/"/g,'""')+'"':y}return{parse:r,parseRows:o,format:u,formatBody:f,formatRows:h,formatRow:p,formatValue:g}}var bi=qs(","),hm=bi.parse,IT=bi.parseRows,VT=bi.format,GT=bi.formatBody,FT=bi.formatRows,zT=bi.formatRow,BT=bi.formatValue,wi=qs("	"),dm=wi.parse,HT=wi.parseRows,XT=wi.format,YT=wi.formatBody,UT=wi.formatRows,qT=wi.formatRow,WT=wi.formatValue;function jT(t){for(var e in t){var n=t[e].trim(),r,o;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(o=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))QT&&o[4]&&!o[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var QT=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function KT(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ZT(t,e){return fetch(t,e).then(KT)}function JT(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function tC(t,e){return fetch(t,e).then(JT)}function eC(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ws(t,e){return fetch(t,e).then(eC)}function pm(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ws(e,n).then(function(o){return t(o,r)})}}function nC(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var o=qs(t);return Ws(e,n).then(function(s){return o.parse(s,r)})}var iC=pm(hm),rC=pm(dm);function aC(t,e){return new Promise(function(n,r){var o=new Image;for(var s in e)o[s]=e[s];o.onerror=r,o.onload=function(){n(o)},o.src=t})}function oC(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function sC(t,e){return fetch(t,e).then(oC)}function sf(t){return function(e,n){return Ws(e,n).then(function(r){return new DOMParser().parseFromString(r,t)})}}const cC=sf("application/xml");var uC=sf("text/html"),lC=sf("image/svg+xml");function fC(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var o,s=n.length,u,f=0,h=0;for(o=0;o<s;++o)u=n[o],f+=u.x,h+=u.y;for(f=f/s-t,h=h/s-e,o=0;o<s;++o)u=n[o],u.x-=f,u.y-=h}return r.initialize=function(o){n=o},r.x=function(o){return arguments.length?(t=+o,r):t},r.y=function(o){return arguments.length?(e=+o,r):e},r}function qt(t){return function(){return t}}function Mn(){return(Math.random()-.5)*1e-6}function hC(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return gm(this.cover(e,n),e,n,t)}function gm(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,s=t._root,u={data:r},f=t._x0,h=t._y0,p=t._x1,g=t._y1,y,m,x,w,b,A,C,$;if(!s)return t._root=u,t;for(;s.length;)if((b=e>=(y=(f+p)/2))?f=y:p=y,(A=n>=(m=(h+g)/2))?h=m:g=m,o=s,!(s=s[C=A<<1|b]))return o[C]=u,t;if(x=+t._x.call(null,s.data),w=+t._y.call(null,s.data),e===x&&n===w)return u.next=s,o?o[C]=u:t._root=u,t;do o=o?o[C]=new Array(4):t._root=new Array(4),(b=e>=(y=(f+p)/2))?f=y:p=y,(A=n>=(m=(h+g)/2))?h=m:g=m;while((C=A<<1|b)===($=(w>=m)<<1|x>=y));return o[$]=s,o[C]=u,t}function dC(t){var e,n,r=t.length,o,s,u=new Array(r),f=new Array(r),h=1/0,p=1/0,g=-1/0,y=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(u[n]=o,f[n]=s,o<h&&(h=o),o>g&&(g=o),s<p&&(p=s),s>y&&(y=s));if(h>g||p>y)return this;for(this.cover(h,p).cover(g,y),n=0;n<r;++n)gm(this,u[n],f[n],t[n]);return this}function pC(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var u=o-n,f=this._root,h,p;n>t||t>=o||r>e||e>=s;)switch(p=(e<r)<<1|t<n,h=new Array(4),h[p]=f,f=h,u*=2,p){case 0:o=n+u,s=r+u;break;case 1:n=o-u,s=r+u;break;case 2:o=n+u,r=s-u;break;case 3:n=o-u,r=s-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=o,this._y1=s,this}function gC(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function mC(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function le(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function yC(t,e,n){var r,o=this._x0,s=this._y0,u,f,h,p,g=this._x1,y=this._y1,m=[],x=this._root,w,b;for(x&&m.push(new le(x,o,s,g,y)),n==null?n=1/0:(o=t-n,s=e-n,g=t+n,y=e+n,n*=n);w=m.pop();)if(!(!(x=w.node)||(u=w.x0)>g||(f=w.y0)>y||(h=w.x1)<o||(p=w.y1)<s))if(x.length){var A=(u+h)/2,C=(f+p)/2;m.push(new le(x[3],A,C,h,p),new le(x[2],u,C,A,p),new le(x[1],A,f,h,C),new le(x[0],u,f,A,C)),(b=(e>=C)<<1|t>=A)&&(w=m[m.length-1],m[m.length-1]=m[m.length-1-b],m[m.length-1-b]=w)}else{var $=t-+this._x.call(null,x.data),L=e-+this._y.call(null,x.data),O=$*$+L*L;if(O<n){var V=Math.sqrt(n=O);o=t-V,s=e-V,g=t+V,y=e+V,r=x.data}}return r}function _C(t){if(isNaN(g=+this._x.call(null,t))||isNaN(y=+this._y.call(null,t)))return this;var e,n=this._root,r,o,s,u=this._x0,f=this._y0,h=this._x1,p=this._y1,g,y,m,x,w,b,A,C;if(!n)return this;if(n.length)for(;;){if((w=g>=(m=(u+h)/2))?u=m:h=m,(b=y>=(x=(f+p)/2))?f=x:p=x,e=n,!(n=n[A=b<<1|w]))return this;if(!n.length)break;(e[A+1&3]||e[A+2&3]||e[A+3&3])&&(r=e,C=A)}for(;n.data!==t;)if(o=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,o?(s?o.next=s:delete o.next,this):e?(s?e[A]=s:delete e[A],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[C]=n:this._root=n),this):(this._root=s,this)}function vC(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function xC(){return this._root}function bC(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function wC(t){var e=[],n,r=this._root,o,s,u,f,h;for(r&&e.push(new le(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,s=n.x0,u=n.y0,f=n.x1,h=n.y1)&&r.length){var p=(s+f)/2,g=(u+h)/2;(o=r[3])&&e.push(new le(o,p,g,f,h)),(o=r[2])&&e.push(new le(o,s,g,p,h)),(o=r[1])&&e.push(new le(o,p,u,f,g)),(o=r[0])&&e.push(new le(o,s,u,p,g))}return this}function SC(t){var e=[],n=[],r;for(this._root&&e.push(new le(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var o=r.node;if(o.length){var s,u=r.x0,f=r.y0,h=r.x1,p=r.y1,g=(u+h)/2,y=(f+p)/2;(s=o[0])&&e.push(new le(s,u,f,g,y)),(s=o[1])&&e.push(new le(s,g,f,h,y)),(s=o[2])&&e.push(new le(s,u,y,g,p)),(s=o[3])&&e.push(new le(s,g,y,h,p))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function AC(t){return t[0]}function TC(t){return arguments.length?(this._x=t,this):this._x}function CC(t){return t[1]}function PC(t){return arguments.length?(this._y=t,this):this._y}function js(t,e,n){var r=new cf(e??AC,n??CC,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function cf(t,e,n,r,o,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function kd(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ye=js.prototype=cf.prototype;ye.copy=function(){var t=new cf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=kd(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var o=0;o<4;++o)(r=e.source[o])&&(r.length?n.push({source:r,target:e.target[o]=new Array(4)}):e.target[o]=kd(r));return t};ye.add=hC;ye.addAll=dC;ye.cover=pC;ye.data=gC;ye.extent=mC;ye.find=yC;ye.remove=_C;ye.removeAll=vC;ye.root=xC;ye.size=bC;ye.visit=wC;ye.visitAfter=SC;ye.x=TC;ye.y=PC;function EC(t){return t.x+t.vx}function LC(t){return t.y+t.vy}function MC(t){var e,n,r=1,o=1;typeof t!="function"&&(t=qt(t==null?1:+t));function s(){for(var h,p=e.length,g,y,m,x,w,b,A=0;A<o;++A)for(g=js(e,EC,LC).visitAfter(u),h=0;h<p;++h)y=e[h],w=n[y.index],b=w*w,m=y.x+y.vx,x=y.y+y.vy,g.visit(C);function C($,L,O,V,B){var z=$.data,Q=$.r,X=w+Q;if(z){if(z.index>y.index){var T=m-z.x-z.vx,q=x-z.y-z.vy,k=T*T+q*q;k<X*X&&(T===0&&(T=Mn(),k+=T*T),q===0&&(q=Mn(),k+=q*q),k=(X-(k=Math.sqrt(k)))/k*r,y.vx+=(T*=k)*(X=(Q*=Q)/(b+Q)),y.vy+=(q*=k)*X,z.vx-=T*(X=1-X),z.vy-=q*X)}return}return L>m+X||V<m-X||O>x+X||B<x-X}}function u(h){if(h.data)return h.r=n[h.data.index];for(var p=h.r=0;p<4;++p)h[p]&&h[p].r>h.r&&(h.r=h[p].r)}function f(){if(e){var h,p=e.length,g;for(n=new Array(p),h=0;h<p;++h)g=e[h],n[g.index]=+t(g,h,e)}}return s.initialize=function(h){e=h,f()},s.iterations=function(h){return arguments.length?(o=+h,s):o},s.strength=function(h){return arguments.length?(r=+h,s):r},s.radius=function(h){return arguments.length?(t=typeof h=="function"?h:qt(+h),f(),s):t},s}function $C(t){return t.index}function Rd(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function OC(t){var e=$C,n=g,r,o=qt(30),s,u,f,h,p=1;t==null&&(t=[]);function g(b){return 1/Math.min(f[b.source.index],f[b.target.index])}function y(b){for(var A=0,C=t.length;A<p;++A)for(var $=0,L,O,V,B,z,Q,X;$<C;++$)L=t[$],O=L.source,V=L.target,B=V.x+V.vx-O.x-O.vx||Mn(),z=V.y+V.vy-O.y-O.vy||Mn(),Q=Math.sqrt(B*B+z*z),Q=(Q-s[$])/Q*b*r[$],B*=Q,z*=Q,V.vx-=B*(X=h[$]),V.vy-=z*X,O.vx+=B*(X=1-X),O.vy+=z*X}function m(){if(u){var b,A=u.length,C=t.length,$=vn(u,e),L;for(b=0,f=new Array(A);b<C;++b)L=t[b],L.index=b,typeof L.source!="object"&&(L.source=Rd($,L.source)),typeof L.target!="object"&&(L.target=Rd($,L.target)),f[L.source.index]=(f[L.source.index]||0)+1,f[L.target.index]=(f[L.target.index]||0)+1;for(b=0,h=new Array(C);b<C;++b)L=t[b],h[b]=f[L.source.index]/(f[L.source.index]+f[L.target.index]);r=new Array(C),x(),s=new Array(C),w()}}function x(){if(u)for(var b=0,A=t.length;b<A;++b)r[b]=+n(t[b],b,t)}function w(){if(u)for(var b=0,A=t.length;b<A;++b)s[b]=+o(t[b],b,t)}return y.initialize=function(b){u=b,m()},y.links=function(b){return arguments.length?(t=b,m(),y):t},y.id=function(b){return arguments.length?(e=b,y):e},y.iterations=function(b){return arguments.length?(p=+b,y):p},y.strength=function(b){return arguments.length?(n=typeof b=="function"?b:qt(+b),x(),y):n},y.distance=function(b){return arguments.length?(o=typeof b=="function"?b:qt(+b),w(),y):o},y}function kC(t){return t.x}function RC(t){return t.y}var NC=10,DC=Math.PI*(3-Math.sqrt(5));function IC(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),s=0,u=.6,f=vn(),h=Ys(g),p=vi("tick","end");t==null&&(t=[]);function g(){y(),p.call("tick",e),n<r&&(h.stop(),p.call("end",e))}function y(w){var b,A=t.length,C;w===void 0&&(w=1);for(var $=0;$<w;++$)for(n+=(s-n)*o,f.each(function(L){L(n)}),b=0;b<A;++b)C=t[b],C.fx==null?C.x+=C.vx*=u:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=u:(C.y=C.fy,C.vy=0);return e}function m(){for(var w=0,b=t.length,A;w<b;++w){if(A=t[w],A.index=w,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),isNaN(A.x)||isNaN(A.y)){var C=NC*Math.sqrt(w),$=w*DC;A.x=C*Math.cos($),A.y=C*Math.sin($)}(isNaN(A.vx)||isNaN(A.vy))&&(A.vx=A.vy=0)}}function x(w){return w.initialize&&w.initialize(t),w}return m(),e={tick:y,restart:function(){return h.restart(g),e},stop:function(){return h.stop(),e},nodes:function(w){return arguments.length?(t=w,m(),f.each(x),e):t},alpha:function(w){return arguments.length?(n=+w,e):n},alphaMin:function(w){return arguments.length?(r=+w,e):r},alphaDecay:function(w){return arguments.length?(o=+w,e):+o},alphaTarget:function(w){return arguments.length?(s=+w,e):s},velocityDecay:function(w){return arguments.length?(u=1-w,e):1-u},force:function(w,b){return arguments.length>1?(b==null?f.remove(w):f.set(w,x(b)),e):f.get(w)},find:function(w,b,A){var C=0,$=t.length,L,O,V,B,z;for(A==null?A=1/0:A*=A,C=0;C<$;++C)B=t[C],L=w-B.x,O=b-B.y,V=L*L+O*O,V<A&&(z=B,A=V);return z},on:function(w,b){return arguments.length>1?(p.on(w,b),e):p.on(w)}}}function VC(){var t,e,n,r=qt(-30),o,s=1,u=1/0,f=.81;function h(m){var x,w=t.length,b=js(t,kC,RC).visitAfter(g);for(n=m,x=0;x<w;++x)e=t[x],b.visit(y)}function p(){if(t){var m,x=t.length,w;for(o=new Array(x),m=0;m<x;++m)w=t[m],o[w.index]=+r(w,m,t)}}function g(m){var x=0,w,b,A=0,C,$,L;if(m.length){for(C=$=L=0;L<4;++L)(w=m[L])&&(b=Math.abs(w.value))&&(x+=w.value,A+=b,C+=b*w.x,$+=b*w.y);m.x=C/A,m.y=$/A}else{w=m,w.x=w.data.x,w.y=w.data.y;do x+=o[w.data.index];while(w=w.next)}m.value=x}function y(m,x,w,b){if(!m.value)return!0;var A=m.x-e.x,C=m.y-e.y,$=b-x,L=A*A+C*C;if($*$/f<L)return L<u&&(A===0&&(A=Mn(),L+=A*A),C===0&&(C=Mn(),L+=C*C),L<s&&(L=Math.sqrt(s*L)),e.vx+=A*m.value*n/L,e.vy+=C*m.value*n/L),!0;if(m.length||L>=u)return;(m.data!==e||m.next)&&(A===0&&(A=Mn(),L+=A*A),C===0&&(C=Mn(),L+=C*C),L<s&&(L=Math.sqrt(s*L)));do m.data!==e&&($=o[m.data.index]*n/L,e.vx+=A*$,e.vy+=C*$);while(m=m.next)}return h.initialize=function(m){t=m,p()},h.strength=function(m){return arguments.length?(r=typeof m=="function"?m:qt(+m),p(),h):r},h.distanceMin=function(m){return arguments.length?(s=m*m,h):Math.sqrt(s)},h.distanceMax=function(m){return arguments.length?(u=m*m,h):Math.sqrt(u)},h.theta=function(m){return arguments.length?(f=m*m,h):Math.sqrt(f)},h}function GC(t,e,n){var r,o=qt(.1),s,u;typeof t!="function"&&(t=qt(+t)),e==null&&(e=0),n==null&&(n=0);function f(p){for(var g=0,y=r.length;g<y;++g){var m=r[g],x=m.x-e||1e-6,w=m.y-n||1e-6,b=Math.sqrt(x*x+w*w),A=(u[g]-b)*s[g]*p/b;m.vx+=x*A,m.vy+=w*A}}function h(){if(r){var p,g=r.length;for(s=new Array(g),u=new Array(g),p=0;p<g;++p)u[p]=+t(r[p],p,r),s[p]=isNaN(u[p])?0:+o(r[p],p,r)}}return f.initialize=function(p){r=p,h()},f.strength=function(p){return arguments.length?(o=typeof p=="function"?p:qt(+p),h(),f):o},f.radius=function(p){return arguments.length?(t=typeof p=="function"?p:qt(+p),h(),f):t},f.x=function(p){return arguments.length?(e=+p,f):e},f.y=function(p){return arguments.length?(n=+p,f):n},f}function FC(t){var e=qt(.1),n,r,o;typeof t!="function"&&(t=qt(t==null?0:+t));function s(f){for(var h=0,p=n.length,g;h<p;++h)g=n[h],g.vx+=(o[h]-g.x)*r[h]*f}function u(){if(n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return s.initialize=function(f){n=f,u()},s.strength=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u(),s):e},s.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u(),s):t},s}function zC(t){var e=qt(.1),n,r,o;typeof t!="function"&&(t=qt(t==null?0:+t));function s(f){for(var h=0,p=n.length,g;h<p;++h)g=n[h],g.vy+=(o[h]-g.y)*r[h]*f}function u(){if(n){var f,h=n.length;for(r=new Array(h),o=new Array(h),f=0;f<h;++f)r[f]=isNaN(o[f]=+t(n[f],f,n))?0:+e(n[f],f,n)}}return s.initialize=function(f){n=f,u()},s.strength=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u(),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u(),s):t},s}function BC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zi(t){return t=Fo(Math.abs(t)),t?t[1]:NaN}function HC(t,e){return function(n,r){for(var o=n.length,s=[],u=0,f=t[0],h=0;o>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),s.push(n.substring(o-=f,o+f)),!((h+=f+1)>r));)f=t[u=(u+1)%t.length];return s.reverse().join(e)}}function XC(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var YC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ha(t){if(!(e=YC.exec(t)))throw new Error("invalid format: "+t);var e;return new Qs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ha.prototype=Qs.prototype;function Qs(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UC(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var mm;function qC(t,e){var n=Fo(t,e);if(!n)return t+"";var r=n[0],o=n[1],s=o-(mm=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Fo(t,Math.max(0,e+s-1))[0]}function Nd(t,e){var n=Fo(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const Dd={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:BC,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Nd(t*100,e)},r:Nd,s:qC,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Id(t){return t}var Vd=Array.prototype.map,Gd=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ym(t){var e=t.grouping===void 0||t.thousands===void 0?Id:HC(Vd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Id:XC(Vd.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"-":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function p(y){y=ha(y);var m=y.fill,x=y.align,w=y.sign,b=y.symbol,A=y.zero,C=y.width,$=y.comma,L=y.precision,O=y.trim,V=y.type;V==="n"?($=!0,V="g"):Dd[V]||(L===void 0&&(L=12),O=!0,V="g"),(A||m==="0"&&x==="=")&&(A=!0,m="0",x="=");var B=b==="$"?n:b==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",z=b==="$"?r:/[%p]/.test(V)?u:"",Q=Dd[V],X=/[defgprs%]/.test(V);L=L===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function T(q){var k=B,Y=z,J,U,K;if(V==="c")Y=Q(q)+Y,q="";else{q=+q;var rt=q<0||1/q<0;if(q=isNaN(q)?h:Q(Math.abs(q),L),O&&(q=UC(q)),rt&&+q==0&&w!=="+"&&(rt=!1),k=(rt?w==="("?w:f:w==="-"||w==="("?"":w)+k,Y=(V==="s"?Gd[8+mm/3]:"")+Y+(rt&&w==="("?")":""),X){for(J=-1,U=q.length;++J<U;)if(K=q.charCodeAt(J),48>K||K>57){Y=(K===46?o+q.slice(J+1):q.slice(J))+Y,q=q.slice(0,J);break}}}$&&!A&&(q=e(q,1/0));var ot=k.length+q.length+Y.length,i=ot<C?new Array(C-ot+1).join(m):"";switch($&&A&&(q=e(i+q,i.length?C-Y.length:1/0),i=""),x){case"<":q=k+q+Y+i;break;case"=":q=k+i+q+Y;break;case"^":q=i.slice(0,ot=i.length>>1)+k+q+Y+i.slice(ot);break;default:q=i+k+q+Y;break}return s(q)}return T.toString=function(){return y+""},T}function g(y,m){var x=p((y=ha(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(Zi(m)/3)))*3,b=Math.pow(10,-w),A=Gd[8+w/3];return function(C){return x(b*C)+A}}return{format:p,formatPrefix:g}}var Qa,Ks,uf;_m({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function _m(t){return Qa=ym(t),Ks=Qa.format,uf=Qa.formatPrefix,Qa}function vm(t){return Math.max(0,-Zi(Math.abs(t)))}function xm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zi(e)/3)))*3-Zi(Math.abs(t)))}function bm(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zi(e)-Zi(t))+1}function Bn(){return new zo}function zo(){this.reset()}zo.prototype={constructor:zo,reset:function(){this.s=this.t=0},add:function(t){Fd(Ka,t,this.t),Fd(this,Ka.s,this.s),this.s?this.t+=Ka.t:this.s=Ka.t},valueOf:function(){return this.s}};var Ka=new zo;function Fd(t,e,n){var r=t.s=e+n,o=r-e,s=r-o;t.t=e-s+(n-o)}var mt=1e-6,Bo=1e-12,Ct=Math.PI,Bt=Ct/2,Ho=Ct/4,pe=Ct*2,Rt=180/Ct,yt=Ct/180,Lt=Math.abs,lr=Math.atan,ge=Math.atan2,dt=Math.cos,Za=Math.ceil,wm=Math.exp,Xo=Math.log,Xc=Math.pow,ut=Math.sin,De=Math.sign||function(t){return t>0?1:t<0?-1:0},Yt=Math.sqrt,lf=Math.tan;function Sm(t){return t>1?0:t<-1?Ct:Math.acos(t)}function me(t){return t>1?Bt:t<-1?-Bt:Math.asin(t)}function zd(t){return(t=ut(t/2))*t}function Gt(){}function Yo(t,e){t&&Hd.hasOwnProperty(t.type)&&Hd[t.type](t,e)}var Bd={Feature:function(t,e){Yo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)Yo(n[r].geometry,e)}},Hd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){zu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)zu(n[r],e,0)},Polygon:function(t,e){Xd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Xd(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)Yo(n[r],e)}};function zu(t,e,n){var r=-1,o=t.length-n,s;for(e.lineStart();++r<o;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function Xd(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)zu(t[n],e,1);e.polygonEnd()}function He(t,e){t&&Bd.hasOwnProperty(t.type)?Bd[t.type](t,e):Yo(t,e)}var Uo=Bn(),qo=Bn(),Am,Tm,Bu,Hu,Xu,un={point:Gt,lineStart:Gt,lineEnd:Gt,polygonStart:function(){Uo.reset(),un.lineStart=WC,un.lineEnd=jC},polygonEnd:function(){var t=+Uo;qo.add(t<0?pe+t:t),this.lineStart=this.lineEnd=this.point=Gt},sphere:function(){qo.add(pe)}};function WC(){un.point=QC}function jC(){Cm(Am,Tm)}function QC(t,e){un.point=Cm,Am=t,Tm=e,t*=yt,e*=yt,Bu=t,Hu=dt(e=e/2+Ho),Xu=ut(e)}function Cm(t,e){t*=yt,e*=yt,e=e/2+Ho;var n=t-Bu,r=n>=0?1:-1,o=r*n,s=dt(e),u=ut(e),f=Xu*u,h=Hu*s+f*dt(o),p=f*r*ut(o);Uo.add(ge(p,h)),Bu=t,Hu=s,Xu=u}function KC(t){return qo.reset(),He(t,un),qo*2}function Wo(t){return[ge(t[1],t[0]),me(t[2])]}function fi(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*ut(e),ut(n)]}function Ja(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ji(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Yc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function to(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jo(t){var e=Yt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Vt,xe,zt,Te,Jn,Pm,Em,Gi,Qr=Bn(),En,xn,gn={point:Yu,lineStart:Yd,lineEnd:Ud,polygonStart:function(){gn.point=Mm,gn.lineStart=ZC,gn.lineEnd=JC,Qr.reset(),un.polygonStart()},polygonEnd:function(){un.polygonEnd(),gn.point=Yu,gn.lineStart=Yd,gn.lineEnd=Ud,Uo<0?(Vt=-(zt=180),xe=-(Te=90)):Qr>mt?Te=90:Qr<-mt&&(xe=-90),xn[0]=Vt,xn[1]=zt},sphere:function(){Vt=-(zt=180),xe=-(Te=90)}};function Yu(t,e){En.push(xn=[Vt=t,zt=t]),e<xe&&(xe=e),e>Te&&(Te=e)}function Lm(t,e){var n=fi([t*yt,e*yt]);if(Gi){var r=Ji(Gi,n),o=[r[1],-r[0],0],s=Ji(o,r);jo(s),s=Wo(s);var u=t-Jn,f=u>0?1:-1,h=s[0]*Rt*f,p,g=Lt(u)>180;g^(f*Jn<h&&h<f*t)?(p=s[1]*Rt,p>Te&&(Te=p)):(h=(h+360)%360-180,g^(f*Jn<h&&h<f*t)?(p=-s[1]*Rt,p<xe&&(xe=p)):(e<xe&&(xe=e),e>Te&&(Te=e))),g?t<Jn?Ae(Vt,t)>Ae(Vt,zt)&&(zt=t):Ae(t,zt)>Ae(Vt,zt)&&(Vt=t):zt>=Vt?(t<Vt&&(Vt=t),t>zt&&(zt=t)):t>Jn?Ae(Vt,t)>Ae(Vt,zt)&&(zt=t):Ae(t,zt)>Ae(Vt,zt)&&(Vt=t)}else En.push(xn=[Vt=t,zt=t]);e<xe&&(xe=e),e>Te&&(Te=e),Gi=n,Jn=t}function Yd(){gn.point=Lm}function Ud(){xn[0]=Vt,xn[1]=zt,gn.point=Yu,Gi=null}function Mm(t,e){if(Gi){var n=t-Jn;Qr.add(Lt(n)>180?n+(n>0?360:-360):n)}else Pm=t,Em=e;un.point(t,e),Lm(t,e)}function ZC(){un.lineStart()}function JC(){Mm(Pm,Em),un.lineEnd(),Lt(Qr)>mt&&(Vt=-(zt=180)),xn[0]=Vt,xn[1]=zt,Gi=null}function Ae(t,e){return(e-=t)<0?e+360:e}function t3(t,e){return t[0]-e[0]}function qd(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function e3(t){var e,n,r,o,s,u,f;if(Te=zt=-(Vt=xe=1/0),En=[],He(t,gn),n=En.length){for(En.sort(t3),e=1,r=En[0],s=[r];e<n;++e)o=En[e],qd(r,o[0])||qd(r,o[1])?(Ae(r[0],o[1])>Ae(r[0],r[1])&&(r[1]=o[1]),Ae(o[0],r[1])>Ae(r[0],r[1])&&(r[0]=o[0])):s.push(r=o);for(u=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=o,++e)o=s[e],(f=Ae(r[1],o[0]))>u&&(u=f,Vt=o[0],zt=r[1])}return En=xn=null,Vt===1/0||xe===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vt,xe],[zt,Te]]}var kr,Qo,Ko,Zo,Jo,ts,es,ns,Uu,qu,Wu,$m,Om,se,ce,ue,Ye={sphere:Gt,point:ff,lineStart:Wd,lineEnd:jd,polygonStart:function(){Ye.lineStart=r3,Ye.lineEnd=a3},polygonEnd:function(){Ye.lineStart=Wd,Ye.lineEnd=jd}};function ff(t,e){t*=yt,e*=yt;var n=dt(e);La(n*dt(t),n*ut(t),ut(e))}function La(t,e,n){++kr,Ko+=(t-Ko)/kr,Zo+=(e-Zo)/kr,Jo+=(n-Jo)/kr}function Wd(){Ye.point=n3}function n3(t,e){t*=yt,e*=yt;var n=dt(e);se=n*dt(t),ce=n*ut(t),ue=ut(e),Ye.point=i3,La(se,ce,ue)}function i3(t,e){t*=yt,e*=yt;var n=dt(e),r=n*dt(t),o=n*ut(t),s=ut(e),u=ge(Yt((u=ce*s-ue*o)*u+(u=ue*r-se*s)*u+(u=se*o-ce*r)*u),se*r+ce*o+ue*s);Qo+=u,ts+=u*(se+(se=r)),es+=u*(ce+(ce=o)),ns+=u*(ue+(ue=s)),La(se,ce,ue)}function jd(){Ye.point=ff}function r3(){Ye.point=o3}function a3(){km($m,Om),Ye.point=ff}function o3(t,e){$m=t,Om=e,t*=yt,e*=yt,Ye.point=km;var n=dt(e);se=n*dt(t),ce=n*ut(t),ue=ut(e),La(se,ce,ue)}function km(t,e){t*=yt,e*=yt;var n=dt(e),r=n*dt(t),o=n*ut(t),s=ut(e),u=ce*s-ue*o,f=ue*r-se*s,h=se*o-ce*r,p=Yt(u*u+f*f+h*h),g=me(p),y=p&&-g/p;Uu+=y*u,qu+=y*f,Wu+=y*h,Qo+=g,ts+=g*(se+(se=r)),es+=g*(ce+(ce=o)),ns+=g*(ue+(ue=s)),La(se,ce,ue)}function s3(t){kr=Qo=Ko=Zo=Jo=ts=es=ns=Uu=qu=Wu=0,He(t,Ye);var e=Uu,n=qu,r=Wu,o=e*e+n*n+r*r;return o<Bo&&(e=ts,n=es,r=ns,Qo<mt&&(e=Ko,n=Zo,r=Jo),o=e*e+n*n+r*r,o<Bo)?[NaN,NaN]:[ge(n,e)*Rt,me(r/Yt(o))*Rt]}function Li(t){return function(){return t}}function ju(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function Qu(t,e){return[Lt(t)>Ct?t+Math.round(-t/pe)*pe:t,e]}Qu.invert=Qu;function hf(t,e,n){return(t%=pe)?e||n?ju(Kd(t),Zd(e,n)):Kd(t):e||n?Zd(e,n):Qu}function Qd(t){return function(e,n){return e+=t,[e>Ct?e-pe:e<-Ct?e+pe:e,n]}}function Kd(t){var e=Qd(t);return e.invert=Qd(-t),e}function Zd(t,e){var n=dt(t),r=ut(t),o=dt(e),s=ut(e);function u(f,h){var p=dt(h),g=dt(f)*p,y=ut(f)*p,m=ut(h),x=m*n+g*r;return[ge(y*o-x*s,g*n-m*r),me(x*o+y*s)]}return u.invert=function(f,h){var p=dt(h),g=dt(f)*p,y=ut(f)*p,m=ut(h),x=m*o-y*s;return[ge(y*o+m*s,g*n+x*r),me(x*n-g*r)]},u}function Rm(t){t=hf(t[0]*yt,t[1]*yt,t.length>2?t[2]*yt:0);function e(n){return n=t(n[0]*yt,n[1]*yt),n[0]*=Rt,n[1]*=Rt,n}return e.invert=function(n){return n=t.invert(n[0]*yt,n[1]*yt),n[0]*=Rt,n[1]*=Rt,n},e}function Nm(t,e,n,r,o,s){if(n){var u=dt(e),f=ut(e),h=r*n;o==null?(o=e+r*pe,s=e-h/2):(o=Jd(u,o),s=Jd(u,s),(r>0?o<s:o>s)&&(o+=r*pe));for(var p,g=o;r>0?g>s:g<s;g-=h)p=Wo([u,-f*dt(g),-f*ut(g)]),t.point(p[0],p[1])}}function Jd(t,e){e=fi(e),e[0]-=t,jo(e);var n=Sm(-e[1]);return((-e[2]<0?-n:n)+pe-mt)%pe}function c3(){var t=Li([0,0]),e=Li(90),n=Li(6),r,o,s={point:u};function u(h,p){r.push(h=o(h,p)),h[0]*=Rt,h[1]*=Rt}function f(){var h=t.apply(this,arguments),p=e.apply(this,arguments)*yt,g=n.apply(this,arguments)*yt;return r=[],o=hf(-h[0]*yt,-h[1]*yt,0).invert,Nm(s,p,g,1),h={type:"Polygon",coordinates:[r]},r=o=null,h}return f.center=function(h){return arguments.length?(t=typeof h=="function"?h:Li([+h[0],+h[1]]),f):t},f.radius=function(h){return arguments.length?(e=typeof h=="function"?h:Li(+h),f):e},f.precision=function(h){return arguments.length?(n=typeof h=="function"?h:Li(+h),f):n},f}function Dm(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:Gt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ao(t,e){return Lt(t[0]-e[0])<mt&&Lt(t[1]-e[1])<mt}function eo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Im(t,e,n,r,o){var s=[],u=[],f,h;if(t.forEach(function(w){if(!((b=w.length-1)<=0)){var b,A=w[0],C=w[b],$;if(Ao(A,C)){if(!A[2]&&!C[2]){for(o.lineStart(),f=0;f<b;++f)o.point((A=w[f])[0],A[1]);o.lineEnd();return}C[0]+=2*mt}s.push($=new eo(A,w,null,!0)),u.push($.o=new eo(A,null,$,!1)),s.push($=new eo(C,w,null,!1)),u.push($.o=new eo(C,null,$,!0))}}),!!s.length){for(u.sort(e),tp(s),tp(u),f=0,h=u.length;f<h;++f)u[f].e=n=!n;for(var p=s[0],g,y;;){for(var m=p,x=!0;m.v;)if((m=m.n)===p)return;g=m.z,o.lineStart();do{if(m.v=m.o.v=!0,m.e){if(x)for(f=0,h=g.length;f<h;++f)o.point((y=g[f])[0],y[1]);else r(m.x,m.n.x,1,o);m=m.n}else{if(x)for(g=m.p.z,f=g.length-1;f>=0;--f)o.point((y=g[f])[0],y[1]);else r(m.x,m.p.x,-1,o);m=m.p}m=m.o,g=m.z,x=!x}while(!m.v);o.lineEnd()}}}function tp(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}var Uc=Bn();function qc(t){return Lt(t[0])<=Ct?t[0]:De(t[0])*((Lt(t[0])+Ct)%pe-Ct)}function Vm(t,e){var n=qc(e),r=e[1],o=ut(r),s=[ut(n),-dt(n),0],u=0,f=0;Uc.reset(),o===1?r=Bt+mt:o===-1&&(r=-Bt-mt);for(var h=0,p=t.length;h<p;++h)if(y=(g=t[h]).length)for(var g,y,m=g[y-1],x=qc(m),w=m[1]/2+Ho,b=ut(w),A=dt(w),C=0;C<y;++C,x=L,b=V,A=B,m=$){var $=g[C],L=qc($),O=$[1]/2+Ho,V=ut(O),B=dt(O),z=L-x,Q=z>=0?1:-1,X=Q*z,T=X>Ct,q=b*V;if(Uc.add(ge(q*Q*ut(X),A*B+q*dt(X))),u+=T?z+Q*pe:z,T^x>=n^L>=n){var k=Ji(fi(m),fi($));jo(k);var Y=Ji(s,k);jo(Y);var J=(T^z>=0?-1:1)*me(Y[2]);(r>J||r===J&&(k[0]||k[1]))&&(f+=T^z>=0?1:-1)}}return(u<-mt||u<mt&&Uc<-mt)^f&1}function Gm(t,e,n,r){return function(o){var s=e(o),u=Dm(),f=e(u),h=!1,p,g,y,m={point:x,lineStart:b,lineEnd:A,polygonStart:function(){m.point=C,m.lineStart=$,m.lineEnd=L,g=[],p=[]},polygonEnd:function(){m.point=x,m.lineStart=b,m.lineEnd=A,g=zl(g);var O=Vm(p,r);g.length?(h||(o.polygonStart(),h=!0),Im(g,l3,O,n,o)):O&&(h||(o.polygonStart(),h=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),h&&(o.polygonEnd(),h=!1),g=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function x(O,V){t(O,V)&&o.point(O,V)}function w(O,V){s.point(O,V)}function b(){m.point=w,s.lineStart()}function A(){m.point=x,s.lineEnd()}function C(O,V){y.push([O,V]),f.point(O,V)}function $(){f.lineStart(),y=[]}function L(){C(y[0][0],y[0][1]),f.lineEnd();var O=f.clean(),V=u.result(),B,z=V.length,Q,X,T;if(y.pop(),p.push(y),y=null,!!z){if(O&1){if(X=V[0],(Q=X.length-1)>0){for(h||(o.polygonStart(),h=!0),o.lineStart(),B=0;B<Q;++B)o.point((T=X[B])[0],T[1]);o.lineEnd()}return}z>1&&O&2&&V.push(V.pop().concat(V.shift())),g.push(V.filter(u3))}}return m}}function u3(t){return t.length>1}function l3(t,e){return((t=t.x)[0]<0?t[1]-Bt-mt:Bt-t[1])-((e=e.x)[0]<0?e[1]-Bt-mt:Bt-e[1])}const Ku=Gm(function(){return!0},f3,d3,[-Ct,-Bt]);function f3(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(s,u){var f=s>0?Ct:-Ct,h=Lt(s-e);Lt(h-Ct)<mt?(t.point(e,n=(n+u)/2>0?Bt:-Bt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(s,n),o=0):r!==f&&h>=Ct&&(Lt(e-r)<mt&&(e-=r*mt),Lt(s-f)<mt&&(s-=f*mt),n=h3(e,n,s,u),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=s,n=u),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function h3(t,e,n,r){var o,s,u=ut(t-n);return Lt(u)>mt?lr((ut(e)*(s=dt(r))*ut(n)-ut(r)*(o=dt(e))*ut(t))/(o*s*u)):(e+r)/2}function d3(t,e,n,r){var o;if(t==null)o=n*Bt,r.point(-Ct,o),r.point(0,o),r.point(Ct,o),r.point(Ct,0),r.point(Ct,-o),r.point(0,-o),r.point(-Ct,-o),r.point(-Ct,0),r.point(-Ct,o);else if(Lt(t[0]-e[0])>mt){var s=t[0]<e[0]?Ct:-Ct;o=n*s/2,r.point(-s,o),r.point(0,o),r.point(s,o)}else r.point(e[0],e[1])}function Fm(t){var e=dt(t),n=6*yt,r=e>0,o=Lt(e)>mt;function s(g,y,m,x){Nm(x,t,n,m,g,y)}function u(g,y){return dt(g)*dt(y)>e}function f(g){var y,m,x,w,b;return{lineStart:function(){w=x=!1,b=1},point:function(A,C){var $=[A,C],L,O=u(A,C),V=r?O?0:p(A,C):O?p(A+(A<0?Ct:-Ct),C):0;if(!y&&(w=x=O)&&g.lineStart(),O!==x&&(L=h(y,$),(!L||Ao(y,L)||Ao($,L))&&($[2]=1)),O!==x)b=0,O?(g.lineStart(),L=h($,y),g.point(L[0],L[1])):(L=h(y,$),g.point(L[0],L[1],2),g.lineEnd()),y=L;else if(o&&y&&r^O){var B;!(V&m)&&(B=h($,y,!0))&&(b=0,r?(g.lineStart(),g.point(B[0][0],B[0][1]),g.point(B[1][0],B[1][1]),g.lineEnd()):(g.point(B[1][0],B[1][1]),g.lineEnd(),g.lineStart(),g.point(B[0][0],B[0][1],3)))}O&&(!y||!Ao(y,$))&&g.point($[0],$[1]),y=$,x=O,m=V},lineEnd:function(){x&&g.lineEnd(),y=null},clean:function(){return b|(w&&x)<<1}}}function h(g,y,m){var x=fi(g),w=fi(y),b=[1,0,0],A=Ji(x,w),C=Ja(A,A),$=A[0],L=C-$*$;if(!L)return!m&&g;var O=e*C/L,V=-e*$/L,B=Ji(b,A),z=to(b,O),Q=to(A,V);Yc(z,Q);var X=B,T=Ja(z,X),q=Ja(X,X),k=T*T-q*(Ja(z,z)-1);if(!(k<0)){var Y=Yt(k),J=to(X,(-T-Y)/q);if(Yc(J,z),J=Wo(J),!m)return J;var U=g[0],K=y[0],rt=g[1],ot=y[1],i;K<U&&(i=U,U=K,K=i);var a=K-U,c=Lt(a-Ct)<mt,l=c||a<mt;if(!c&&ot<rt&&(i=rt,rt=ot,ot=i),l?c?rt+ot>0^J[1]<(Lt(J[0]-U)<mt?rt:ot):rt<=J[1]&&J[1]<=ot:a>Ct^(U<=J[0]&&J[0]<=K)){var d=to(X,(-T+Y)/q);return Yc(d,z),[J,Wo(d)]}}}function p(g,y){var m=r?t:Ct-t,x=0;return g<-m?x|=1:g>m&&(x|=2),y<-m?x|=4:y>m&&(x|=8),x}return Gm(u,f,s,r?[0,-t]:[-Ct,t-Ct])}function p3(t,e,n,r,o,s){var u=t[0],f=t[1],h=e[0],p=e[1],g=0,y=1,m=h-u,x=p-f,w;if(w=n-u,!(!m&&w>0)){if(w/=m,m<0){if(w<g)return;w<y&&(y=w)}else if(m>0){if(w>y)return;w>g&&(g=w)}if(w=o-u,!(!m&&w<0)){if(w/=m,m<0){if(w>y)return;w>g&&(g=w)}else if(m>0){if(w<g)return;w<y&&(y=w)}if(w=r-f,!(!x&&w>0)){if(w/=x,x<0){if(w<g)return;w<y&&(y=w)}else if(x>0){if(w>y)return;w>g&&(g=w)}if(w=s-f,!(!x&&w<0)){if(w/=x,x<0){if(w>y)return;w>g&&(g=w)}else if(x>0){if(w<g)return;w<y&&(y=w)}return g>0&&(t[0]=u+g*m,t[1]=f+g*x),y<1&&(e[0]=u+y*m,e[1]=f+y*x),!0}}}}}var Rr=1e9,no=-Rr;function Zs(t,e,n,r){function o(p,g){return t<=p&&p<=n&&e<=g&&g<=r}function s(p,g,y,m){var x=0,w=0;if(p==null||(x=u(p,y))!==(w=u(g,y))||h(p,g)<0^y>0)do m.point(x===0||x===3?t:n,x>1?r:e);while((x=(x+y+4)%4)!==w);else m.point(g[0],g[1])}function u(p,g){return Lt(p[0]-t)<mt?g>0?0:3:Lt(p[0]-n)<mt?g>0?2:1:Lt(p[1]-e)<mt?g>0?1:0:g>0?3:2}function f(p,g){return h(p.x,g.x)}function h(p,g){var y=u(p,1),m=u(g,1);return y!==m?y-m:y===0?g[1]-p[1]:y===1?p[0]-g[0]:y===2?p[1]-g[1]:g[0]-p[0]}return function(p){var g=p,y=Dm(),m,x,w,b,A,C,$,L,O,V,B,z={point:Q,lineStart:k,lineEnd:Y,polygonStart:T,polygonEnd:q};function Q(U,K){o(U,K)&&g.point(U,K)}function X(){for(var U=0,K=0,rt=x.length;K<rt;++K)for(var ot=x[K],i=1,a=ot.length,c=ot[0],l,d,v=c[0],S=c[1];i<a;++i)l=v,d=S,c=ot[i],v=c[0],S=c[1],d<=r?S>r&&(v-l)*(r-d)>(S-d)*(t-l)&&++U:S<=r&&(v-l)*(r-d)<(S-d)*(t-l)&&--U;return U}function T(){g=y,m=[],x=[],B=!0}function q(){var U=X(),K=B&&U,rt=(m=zl(m)).length;(K||rt)&&(p.polygonStart(),K&&(p.lineStart(),s(null,null,1,p),p.lineEnd()),rt&&Im(m,f,U,s,p),p.polygonEnd()),g=p,m=x=w=null}function k(){z.point=J,x&&x.push(w=[]),V=!0,O=!1,$=L=NaN}function Y(){m&&(J(b,A),C&&O&&y.rejoin(),m.push(y.result())),z.point=Q,O&&g.lineEnd()}function J(U,K){var rt=o(U,K);if(x&&w.push([U,K]),V)b=U,A=K,C=rt,V=!1,rt&&(g.lineStart(),g.point(U,K));else if(rt&&O)g.point(U,K);else{var ot=[$=Math.max(no,Math.min(Rr,$)),L=Math.max(no,Math.min(Rr,L))],i=[U=Math.max(no,Math.min(Rr,U)),K=Math.max(no,Math.min(Rr,K))];p3(ot,i,t,e,n,r)?(O||(g.lineStart(),g.point(ot[0],ot[1])),g.point(i[0],i[1]),rt||g.lineEnd(),B=!1):rt&&(g.lineStart(),g.point(U,K),B=!1)}$=U,L=K,O=rt}return z}}function g3(){var t=0,e=0,n=960,r=500,o,s,u;return u={stream:function(f){return o&&s===f?o:o=Zs(t,e,n,r)(s=f)},extent:function(f){return arguments.length?(t=+f[0][0],e=+f[0][1],n=+f[1][0],r=+f[1][1],o=s=null,u):[[t,e],[n,r]]}}}var Zu=Bn(),Ju,To,Co,tr={sphere:Gt,point:Gt,lineStart:m3,lineEnd:Gt,polygonStart:Gt,polygonEnd:Gt};function m3(){tr.point=_3,tr.lineEnd=y3}function y3(){tr.point=tr.lineEnd=Gt}function _3(t,e){t*=yt,e*=yt,Ju=t,To=ut(e),Co=dt(e),tr.point=v3}function v3(t,e){t*=yt,e*=yt;var n=ut(e),r=dt(e),o=Lt(t-Ju),s=dt(o),u=ut(o),f=r*u,h=Co*n-To*r*s,p=To*n+Co*r*s;Zu.add(ge(Yt(f*f+h*h),p)),Ju=t,To=n,Co=r}function zm(t){return Zu.reset(),He(t,tr),+Zu}var tl=[null,null],x3={type:"LineString",coordinates:tl};function is(t,e){return tl[0]=t,tl[1]=e,zm(x3)}var ep={Feature:function(t,e){return rs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(rs(n[r].geometry,e))return!0;return!1}},np={Sphere:function(){return!0},Point:function(t,e){return ip(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(ip(n[r],e))return!0;return!1},LineString:function(t,e){return rp(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(rp(n[r],e))return!0;return!1},Polygon:function(t,e){return ap(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(ap(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(rs(n[r],e))return!0;return!1}};function rs(t,e){return t&&np.hasOwnProperty(t.type)?np[t.type](t,e):!1}function ip(t,e){return is(t,e)===0}function rp(t,e){for(var n,r,o,s=0,u=t.length;s<u;s++){if(r=is(t[s],e),r===0||s>0&&(o=is(t[s],t[s-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<Bo*o))return!0;n=r}return!1}function ap(t,e){return!!Vm(t.map(b3),Bm(e))}function b3(t){return t=t.map(Bm),t.pop(),t}function Bm(t){return[t[0]*yt,t[1]*yt]}function w3(t,e){return(t&&ep.hasOwnProperty(t.type)?ep[t.type]:rs)(t,e)}function op(t,e,n){var r=Pe(t,e-mt,n).concat(e);return function(o){return r.map(function(s){return[o,s]})}}function sp(t,e,n){var r=Pe(t,e-mt,n).concat(e);return function(o){return r.map(function(s){return[s,o]})}}function Hm(){var t,e,n,r,o,s,u,f,h=10,p=h,g=90,y=360,m,x,w,b,A=2.5;function C(){return{type:"MultiLineString",coordinates:$()}}function $(){return Pe(Za(r/g)*g,n,g).map(w).concat(Pe(Za(f/y)*y,u,y).map(b)).concat(Pe(Za(e/h)*h,t,h).filter(function(L){return Lt(L%g)>mt}).map(m)).concat(Pe(Za(s/p)*p,o,p).filter(function(L){return Lt(L%y)>mt}).map(x))}return C.lines=function(){return $().map(function(L){return{type:"LineString",coordinates:L}})},C.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(b(u).slice(1),w(n).reverse().slice(1),b(f).reverse().slice(1))]}},C.extent=function(L){return arguments.length?C.extentMajor(L).extentMinor(L):C.extentMinor()},C.extentMajor=function(L){return arguments.length?(r=+L[0][0],n=+L[1][0],f=+L[0][1],u=+L[1][1],r>n&&(L=r,r=n,n=L),f>u&&(L=f,f=u,u=L),C.precision(A)):[[r,f],[n,u]]},C.extentMinor=function(L){return arguments.length?(e=+L[0][0],t=+L[1][0],s=+L[0][1],o=+L[1][1],e>t&&(L=e,e=t,t=L),s>o&&(L=s,s=o,o=L),C.precision(A)):[[e,s],[t,o]]},C.step=function(L){return arguments.length?C.stepMajor(L).stepMinor(L):C.stepMinor()},C.stepMajor=function(L){return arguments.length?(g=+L[0],y=+L[1],C):[g,y]},C.stepMinor=function(L){return arguments.length?(h=+L[0],p=+L[1],C):[h,p]},C.precision=function(L){return arguments.length?(A=+L,m=op(s,o,90),x=sp(e,t,A),w=op(f,u,90),b=sp(r,n,A),C):A},C.extentMajor([[-180,-90+mt],[180,90-mt]]).extentMinor([[-180,-80-mt],[180,80+mt]])}function S3(){return Hm()()}function A3(t,e){var n=t[0]*yt,r=t[1]*yt,o=e[0]*yt,s=e[1]*yt,u=dt(r),f=ut(r),h=dt(s),p=ut(s),g=u*dt(n),y=u*ut(n),m=h*dt(o),x=h*ut(o),w=2*me(Yt(zd(s-r)+u*h*zd(o-n))),b=ut(w),A=w?function(C){var $=ut(C*=w)/b,L=ut(w-C)/b,O=L*g+$*m,V=L*y+$*x,B=L*f+$*p;return[ge(V,O)*Rt,ge(B,Yt(O*O+V*V))*Rt]}:function(){return[n*Rt,r*Rt]};return A.distance=w,A}function da(t){return t}var Wc=Bn(),el=Bn(),Xm,Ym,nl,il,Ln={point:Gt,lineStart:Gt,lineEnd:Gt,polygonStart:function(){Ln.lineStart=T3,Ln.lineEnd=P3},polygonEnd:function(){Ln.lineStart=Ln.lineEnd=Ln.point=Gt,Wc.add(Lt(el)),el.reset()},result:function(){var t=Wc/2;return Wc.reset(),t}};function T3(){Ln.point=C3}function C3(t,e){Ln.point=Um,Xm=nl=t,Ym=il=e}function Um(t,e){el.add(il*t-nl*e),nl=t,il=e}function P3(){Um(Xm,Ym)}const cp=Ln;var er=1/0,as=er,pa=-er,os=pa,E3={point:L3,lineStart:Gt,lineEnd:Gt,polygonStart:Gt,polygonEnd:Gt,result:function(){var t=[[er,as],[pa,os]];return pa=os=-(as=er=1/0),t}};function L3(t,e){t<er&&(er=t),t>pa&&(pa=t),e<as&&(as=e),e>os&&(os=e)}const ss=E3;var rl=0,al=0,Nr=0,cs=0,us=0,ki=0,ol=0,sl=0,Dr=0,qm,Wm,tn,en,Xe={point:hi,lineStart:up,lineEnd:lp,polygonStart:function(){Xe.lineStart=O3,Xe.lineEnd=k3},polygonEnd:function(){Xe.point=hi,Xe.lineStart=up,Xe.lineEnd=lp},result:function(){var t=Dr?[ol/Dr,sl/Dr]:ki?[cs/ki,us/ki]:Nr?[rl/Nr,al/Nr]:[NaN,NaN];return rl=al=Nr=cs=us=ki=ol=sl=Dr=0,t}};function hi(t,e){rl+=t,al+=e,++Nr}function up(){Xe.point=M3}function M3(t,e){Xe.point=$3,hi(tn=t,en=e)}function $3(t,e){var n=t-tn,r=e-en,o=Yt(n*n+r*r);cs+=o*(tn+t)/2,us+=o*(en+e)/2,ki+=o,hi(tn=t,en=e)}function lp(){Xe.point=hi}function O3(){Xe.point=R3}function k3(){jm(qm,Wm)}function R3(t,e){Xe.point=jm,hi(qm=tn=t,Wm=en=e)}function jm(t,e){var n=t-tn,r=e-en,o=Yt(n*n+r*r);cs+=o*(tn+t)/2,us+=o*(en+e)/2,ki+=o,o=en*t-tn*e,ol+=o*(tn+t),sl+=o*(en+e),Dr+=o*3,hi(tn=t,en=e)}const fp=Xe;function Qm(t){this._context=t}Qm.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,pe);break}}},result:Gt};var cl=Bn(),jc,Km,Zm,Ir,Vr,ls={point:Gt,lineStart:function(){ls.point=N3},lineEnd:function(){jc&&Jm(Km,Zm),ls.point=Gt},polygonStart:function(){jc=!0},polygonEnd:function(){jc=null},result:function(){var t=+cl;return cl.reset(),t}};function N3(t,e){ls.point=Jm,Km=Ir=t,Zm=Vr=e}function Jm(t,e){Ir-=t,Vr-=e,cl.add(Yt(Ir*Ir+Vr*Vr)),Ir=t,Vr=e}const hp=ls;function ty(){this._string=[]}ty.prototype={_radius:4.5,_circle:dp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=dp(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function dp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function D3(t,e){var n=4.5,r,o;function s(u){return u&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),He(u,r(o))),o.result()}return s.area=function(u){return He(u,r(cp)),cp.result()},s.measure=function(u){return He(u,r(hp)),hp.result()},s.bounds=function(u){return He(u,r(ss)),ss.result()},s.centroid=function(u){return He(u,r(fp)),fp.result()},s.projection=function(u){return arguments.length?(r=u==null?(t=null,da):(t=u).stream,s):t},s.context=function(u){return arguments.length?(o=u==null?(e=null,new ty):new Qm(e=u),typeof n!="function"&&o.pointRadius(n),s):e},s.pointRadius=function(u){return arguments.length?(n=typeof u=="function"?u:(o.pointRadius(+u),+u),s):n},s.projection(t).context(e)}function I3(t){return{stream:Ma(t)}}function Ma(t){return function(e){var n=new ul;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ul(){}ul.prototype={constructor:ul,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function df(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),He(n,t.stream(ss)),e(ss.result()),r!=null&&t.clipExtent(r),t}function Js(t,e,n){return df(t,function(r){var o=e[1][0]-e[0][0],s=e[1][1]-e[0][1],u=Math.min(o/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),f=+e[0][0]+(o-u*(r[1][0]+r[0][0]))/2,h=+e[0][1]+(s-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([f,h])},n)}function pf(t,e,n){return Js(t,[[0,0],e],n)}function gf(t,e,n){return df(t,function(r){var o=+e,s=o/(r[1][0]-r[0][0]),u=(o-s*(r[1][0]+r[0][0]))/2,f=-s*r[0][1];t.scale(150*s).translate([u,f])},n)}function mf(t,e,n){return df(t,function(r){var o=+e,s=o/(r[1][1]-r[0][1]),u=-s*r[0][0],f=(o-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([u,f])},n)}var pp=16,V3=dt(30*yt);function gp(t,e){return+e?F3(t,e):G3(t)}function G3(t){return Ma({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function F3(t,e){function n(r,o,s,u,f,h,p,g,y,m,x,w,b,A){var C=p-r,$=g-o,L=C*C+$*$;if(L>4*e&&b--){var O=u+m,V=f+x,B=h+w,z=Yt(O*O+V*V+B*B),Q=me(B/=z),X=Lt(Lt(B)-1)<mt||Lt(s-y)<mt?(s+y)/2:ge(V,O),T=t(X,Q),q=T[0],k=T[1],Y=q-r,J=k-o,U=$*Y-C*J;(U*U/L>e||Lt((C*Y+$*J)/L-.5)>.3||u*m+f*x+h*w<V3)&&(n(r,o,s,u,f,h,q,k,X,O/=z,V/=z,B,b,A),A.point(q,k),n(q,k,X,O,V,B,p,g,y,m,x,w,b,A))}}return function(r){var o,s,u,f,h,p,g,y,m,x,w,b,A={point:C,lineStart:$,lineEnd:O,polygonStart:function(){r.polygonStart(),A.lineStart=V},polygonEnd:function(){r.polygonEnd(),A.lineStart=$}};function C(Q,X){Q=t(Q,X),r.point(Q[0],Q[1])}function $(){y=NaN,A.point=L,r.lineStart()}function L(Q,X){var T=fi([Q,X]),q=t(Q,X);n(y,m,g,x,w,b,y=q[0],m=q[1],g=Q,x=T[0],w=T[1],b=T[2],pp,r),r.point(y,m)}function O(){A.point=C,r.lineEnd()}function V(){$(),A.point=B,A.lineEnd=z}function B(Q,X){L(o=Q,X),s=y,u=m,f=x,h=w,p=b,A.point=L}function z(){n(y,m,g,x,w,b,s,u,o,f,h,p,pp,r),A.lineEnd=O,O()}return A}}var z3=Ma({point:function(t,e){this.stream.point(t*yt,e*yt)}});function B3(t){return Ma({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function H3(t,e,n,r,o){function s(u,f){return u*=r,f*=o,[e+t*u,n-t*f]}return s.invert=function(u,f){return[(u-e)/t*r,(n-f)/t*o]},s}function mp(t,e,n,r,o,s){var u=dt(s),f=ut(s),h=u*t,p=f*t,g=u/t,y=f/t,m=(f*n-u*e)/t,x=(f*e+u*n)/t;function w(b,A){return b*=r,A*=o,[h*b-p*A+e,n-p*b-h*A]}return w.invert=function(b,A){return[r*(g*b-y*A+m),o*(x-y*b-g*A)]},w}function fn(t){return yf(function(){return t})()}function yf(t){var e,n=150,r=480,o=250,s=0,u=0,f=0,h=0,p=0,g,y=0,m=1,x=1,w=null,b=Ku,A=null,C,$,L,O=da,V=.5,B,z,Q,X,T;function q(U){return Q(U[0]*yt,U[1]*yt)}function k(U){return U=Q.invert(U[0],U[1]),U&&[U[0]*Rt,U[1]*Rt]}q.stream=function(U){return X&&T===U?X:X=z3(B3(g)(b(B(O(T=U)))))},q.preclip=function(U){return arguments.length?(b=U,w=void 0,J()):b},q.postclip=function(U){return arguments.length?(O=U,A=C=$=L=null,J()):O},q.clipAngle=function(U){return arguments.length?(b=+U?Fm(w=U*yt):(w=null,Ku),J()):w*Rt},q.clipExtent=function(U){return arguments.length?(O=U==null?(A=C=$=L=null,da):Zs(A=+U[0][0],C=+U[0][1],$=+U[1][0],L=+U[1][1]),J()):A==null?null:[[A,C],[$,L]]},q.scale=function(U){return arguments.length?(n=+U,Y()):n},q.translate=function(U){return arguments.length?(r=+U[0],o=+U[1],Y()):[r,o]},q.center=function(U){return arguments.length?(s=U[0]%360*yt,u=U[1]%360*yt,Y()):[s*Rt,u*Rt]},q.rotate=function(U){return arguments.length?(f=U[0]%360*yt,h=U[1]%360*yt,p=U.length>2?U[2]%360*yt:0,Y()):[f*Rt,h*Rt,p*Rt]},q.angle=function(U){return arguments.length?(y=U%360*yt,Y()):y*Rt},q.reflectX=function(U){return arguments.length?(m=U?-1:1,Y()):m<0},q.reflectY=function(U){return arguments.length?(x=U?-1:1,Y()):x<0},q.precision=function(U){return arguments.length?(B=gp(z,V=U*U),J()):Yt(V)},q.fitExtent=function(U,K){return Js(q,U,K)},q.fitSize=function(U,K){return pf(q,U,K)},q.fitWidth=function(U,K){return gf(q,U,K)},q.fitHeight=function(U,K){return mf(q,U,K)};function Y(){var U=mp(n,0,0,m,x,y).apply(null,e(s,u)),K=(y?mp:H3)(n,r-U[0],o-U[1],m,x,y);return g=hf(f,h,p),z=ju(e,K),Q=ju(g,z),B=gp(z,V),J()}function J(){return X=T=null,q}return function(){return e=t.apply(this,arguments),q.invert=e.invert&&k,Y()}}function _f(t){var e=0,n=Ct/3,r=yf(t),o=r(e,n);return o.parallels=function(s){return arguments.length?r(e=s[0]*yt,n=s[1]*yt):[e*Rt,n*Rt]},o}function X3(t){var e=dt(t);function n(r,o){return[r*e,ut(o)/e]}return n.invert=function(r,o){return[r/e,me(o*e)]},n}function ey(t,e){var n=ut(t),r=(n+ut(e))/2;if(Lt(r)<mt)return X3(t);var o=1+n*(2*r-n),s=Yt(o)/r;function u(f,h){var p=Yt(o-2*r*ut(h))/r;return[p*ut(f*=r),s-p*dt(f)]}return u.invert=function(f,h){var p=s-h,g=ge(f,Lt(p))*De(p);return p*r<0&&(g-=Ct*De(f)*De(p)),[g/r,me((o-(f*f+p*p)*r*r)/(2*r))]},u}function fs(){return _f(ey).scale(155.424).center([0,33.6442])}function ny(){return fs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Y3(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function U3(){var t,e,n=ny(),r,o=fs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,u=fs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,h,p={point:function(m,x){h=[m,x]}};function g(m){var x=m[0],w=m[1];return h=null,r.point(x,w),h||(s.point(x,w),h)||(f.point(x,w),h)}g.invert=function(m){var x=n.scale(),w=n.translate(),b=(m[0]-w[0])/x,A=(m[1]-w[1])/x;return(A>=.12&&A<.234&&b>=-.425&&b<-.214?o:A>=.166&&A<.234&&b>=-.214&&b<-.115?u:n).invert(m)},g.stream=function(m){return t&&e===m?t:t=Y3([n.stream(e=m),o.stream(m),u.stream(m)])},g.precision=function(m){return arguments.length?(n.precision(m),o.precision(m),u.precision(m),y()):n.precision()},g.scale=function(m){return arguments.length?(n.scale(m),o.scale(m*.35),u.scale(m),g.translate(n.translate())):n.scale()},g.translate=function(m){if(!arguments.length)return n.translate();var x=n.scale(),w=+m[0],b=+m[1];return r=n.translate(m).clipExtent([[w-.455*x,b-.238*x],[w+.455*x,b+.238*x]]).stream(p),s=o.translate([w-.307*x,b+.201*x]).clipExtent([[w-.425*x+mt,b+.12*x+mt],[w-.214*x-mt,b+.234*x-mt]]).stream(p),f=u.translate([w-.205*x,b+.212*x]).clipExtent([[w-.214*x+mt,b+.166*x+mt],[w-.115*x-mt,b+.234*x-mt]]).stream(p),y()},g.fitExtent=function(m,x){return Js(g,m,x)},g.fitSize=function(m,x){return pf(g,m,x)},g.fitWidth=function(m,x){return gf(g,m,x)},g.fitHeight=function(m,x){return mf(g,m,x)};function y(){return t=e=null,g}return g.scale(1070)}function iy(t){return function(e,n){var r=dt(e),o=dt(n),s=t(r*o);return[s*o*ut(e),s*ut(n)]}}function $a(t){return function(e,n){var r=Yt(e*e+n*n),o=t(r),s=ut(o),u=dt(o);return[ge(e*s,r*u),me(r&&n*s/r)]}}var vf=iy(function(t){return Yt(2/(1+t))});vf.invert=$a(function(t){return 2*me(t/2)});function q3(){return fn(vf).scale(124.75).clipAngle(180-.001)}var xf=iy(function(t){return(t=Sm(t))&&t/ut(t)});xf.invert=$a(function(t){return t});function W3(){return fn(xf).scale(79.4188).clipAngle(180-.001)}function Oa(t,e){return[t,Xo(lf((Bt+e)/2))]}Oa.invert=function(t,e){return[t,2*lr(wm(e))-Bt]};function j3(){return ry(Oa).scale(961/pe)}function ry(t){var e=fn(t),n=e.center,r=e.scale,o=e.translate,s=e.clipExtent,u=null,f,h,p;e.scale=function(y){return arguments.length?(r(y),g()):r()},e.translate=function(y){return arguments.length?(o(y),g()):o()},e.center=function(y){return arguments.length?(n(y),g()):n()},e.clipExtent=function(y){return arguments.length?(y==null?u=f=h=p=null:(u=+y[0][0],f=+y[0][1],h=+y[1][0],p=+y[1][1]),g()):u==null?null:[[u,f],[h,p]]};function g(){var y=Ct*r(),m=e(Rm(e.rotate()).invert([0,0]));return s(u==null?[[m[0]-y,m[1]-y],[m[0]+y,m[1]+y]]:t===Oa?[[Math.max(m[0]-y,u),f],[Math.min(m[0]+y,h),p]]:[[u,Math.max(m[1]-y,f)],[h,Math.min(m[1]+y,p)]])}return g()}function io(t){return lf((Bt+t)/2)}function ay(t,e){var n=dt(t),r=t===e?ut(t):Xo(n/dt(e))/Xo(io(e)/io(t)),o=n*Xc(io(t),r)/r;if(!r)return Oa;function s(u,f){o>0?f<-Bt+mt&&(f=-Bt+mt):f>Bt-mt&&(f=Bt-mt);var h=o/Xc(io(f),r);return[h*ut(r*u),o-h*dt(r*u)]}return s.invert=function(u,f){var h=o-f,p=De(r)*Yt(u*u+h*h),g=ge(u,Lt(h))*De(h);return h*r<0&&(g-=Ct*De(u)*De(h)),[g/r,2*lr(Xc(o/p,1/r))-Bt]},s}function Q3(){return _f(ay).scale(109.5).parallels([30,30])}function ga(t,e){return[t,e]}ga.invert=ga;function K3(){return fn(ga).scale(152.63)}function oy(t,e){var n=dt(t),r=t===e?ut(t):(n-dt(e))/(e-t),o=n/r+t;if(Lt(r)<mt)return ga;function s(u,f){var h=o-f,p=r*u;return[h*ut(p),o-h*dt(p)]}return s.invert=function(u,f){var h=o-f,p=ge(u,Lt(h))*De(h);return h*r<0&&(p-=Ct*De(u)*De(h)),[p/r,o-De(r)*Yt(u*u+h*h)]},s}function Z3(){return _f(oy).scale(131.154).center([0,13.9389])}var Kr=1.340264,Zr=-.081106,Jr=893e-6,ta=.003796,hs=Yt(3)/2,J3=12;function bf(t,e){var n=me(hs*ut(e)),r=n*n,o=r*r*r;return[t*dt(n)/(hs*(Kr+3*Zr*r+o*(7*Jr+9*ta*r))),n*(Kr+Zr*r+o*(Jr+ta*r))]}bf.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,s=0,u,f,h;s<J3&&(f=n*(Kr+Zr*r+o*(Jr+ta*r))-e,h=Kr+3*Zr*r+o*(7*Jr+9*ta*r),n-=u=f/h,r=n*n,o=r*r*r,!(Lt(u)<Bo));++s);return[hs*t*(Kr+3*Zr*r+o*(7*Jr+9*ta*r))/dt(n),me(ut(n)/hs)]};function tP(){return fn(bf).scale(177.158)}function wf(t,e){var n=dt(e),r=dt(t)*n;return[n*ut(t)/r,ut(e)/r]}wf.invert=$a(lr);function eP(){return fn(wf).scale(144.049).clipAngle(60)}function nP(){var t=1,e=0,n=0,r=1,o=1,s=0,u,f,h=null,p,g,y,m=1,x=1,w=Ma({point:function(O,V){var B=L([O,V]);this.stream.point(B[0],B[1])}}),b=da,A,C;function $(){return m=t*r,x=t*o,A=C=null,L}function L(O){var V=O[0]*m,B=O[1]*x;if(s){var z=B*u-V*f;V=V*u+B*f,B=z}return[V+e,B+n]}return L.invert=function(O){var V=O[0]-e,B=O[1]-n;if(s){var z=B*u+V*f;V=V*u-B*f,B=z}return[V/m,B/x]},L.stream=function(O){return A&&C===O?A:A=w(b(C=O))},L.postclip=function(O){return arguments.length?(b=O,h=p=g=y=null,$()):b},L.clipExtent=function(O){return arguments.length?(b=O==null?(h=p=g=y=null,da):Zs(h=+O[0][0],p=+O[0][1],g=+O[1][0],y=+O[1][1]),$()):h==null?null:[[h,p],[g,y]]},L.scale=function(O){return arguments.length?(t=+O,$()):t},L.translate=function(O){return arguments.length?(e=+O[0],n=+O[1],$()):[e,n]},L.angle=function(O){return arguments.length?(s=O%360*yt,f=ut(s),u=dt(s),$()):s*Rt},L.reflectX=function(O){return arguments.length?(r=O?-1:1,$()):r<0},L.reflectY=function(O){return arguments.length?(o=O?-1:1,$()):o<0},L.fitExtent=function(O,V){return Js(L,O,V)},L.fitSize=function(O,V){return pf(L,O,V)},L.fitWidth=function(O,V){return gf(L,O,V)},L.fitHeight=function(O,V){return mf(L,O,V)},L}function Sf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Sf.invert=function(t,e){var n=e,r=25,o;do{var s=n*n,u=s*s;n-=o=(n*(1.007226+s*(.015085+u*(-.044475+.028874*s-.005916*u)))-e)/(1.007226+s*(.015085*3+u*(-.044475*7+.028874*9*s-.005916*11*u)))}while(Lt(o)>mt&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function iP(){return fn(Sf).scale(175.295)}function Af(t,e){return[dt(e)*ut(t),ut(e)]}Af.invert=$a(me);function rP(){return fn(Af).scale(249.5).clipAngle(90+mt)}function Tf(t,e){var n=dt(e),r=1+dt(t)*n;return[n*ut(t)/r,ut(e)/r]}Tf.invert=$a(function(t){return 2*lr(t)});function aP(){return fn(Tf).scale(250).clipAngle(142)}function Cf(t,e){return[Xo(lf((Bt+e)/2)),-t]}Cf.invert=function(t,e){return[-e,2*lr(wm(t))-Bt]};function oP(){var t=ry(Cf),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function sP(t,e){return t.parent===e.parent?1:2}function cP(t){return t.reduce(uP,0)/t.length}function uP(t,e){return t+e.x}function lP(t){return 1+t.reduce(fP,0)}function fP(t,e){return Math.max(t,e.y)}function hP(t){for(var e;e=t.children;)t=e[0];return t}function dP(t){for(var e;e=t.children;)t=e[e.length-1];return t}function pP(){var t=sP,e=1,n=1,r=!1;function o(s){var u,f=0;s.eachAfter(function(m){var x=m.children;x?(m.x=cP(x),m.y=lP(x)):(m.x=u?f+=t(m,u):0,m.y=0,u=m)});var h=hP(s),p=dP(s),g=h.x-t(h,p)/2,y=p.x+t(p,h)/2;return s.eachAfter(r?function(m){m.x=(m.x-s.x)*e,m.y=(s.y-m.y)*n}:function(m){m.x=(m.x-g)/(y-g)*e,m.y=(1-(s.y?m.y/s.y:1))*n})}return o.separation=function(s){return arguments.length?(t=s,o):t},o.size=function(s){return arguments.length?(r=!1,e=+s[0],n=+s[1],o):r?null:[e,n]},o.nodeSize=function(s){return arguments.length?(r=!0,e=+s[0],n=+s[1],o):r?[e,n]:null},o}function gP(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function mP(){return this.eachAfter(gP)}function yP(t){var e=this,n,r=[e],o,s,u;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),o=e.children,o)for(s=0,u=o.length;s<u;++s)r.push(o[s]);while(r.length);return this}function _P(t){for(var e=this,n=[e],r,o;e=n.pop();)if(t(e),r=e.children,r)for(o=r.length-1;o>=0;--o)n.push(r[o]);return this}function vP(t){for(var e=this,n=[e],r=[],o,s,u;e=n.pop();)if(r.push(e),o=e.children,o)for(s=0,u=o.length;s<u;++s)n.push(o[s]);for(;e=r.pop();)t(e);return this}function xP(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function bP(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function wP(t){for(var e=this,n=SP(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function SP(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function AP(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function TP(){var t=[];return this.each(function(e){t.push(e)}),t}function CP(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function PP(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Pf(t,e){var n=new nr(t),r=+t.value&&(n.value=t.value),o,s=[n],u,f,h,p;for(e==null&&(e=LP);o=s.pop();)if(r&&(o.value=+o.data.value),(f=e(o.data))&&(p=f.length))for(o.children=new Array(p),h=p-1;h>=0;--h)s.push(u=o.children[h]=new nr(f[h])),u.parent=o,u.depth=o.depth+1;return n.eachBefore(sy)}function EP(){return Pf(this).eachBefore(MP)}function LP(t){return t.children}function MP(t){t.data=t.data.data}function sy(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function nr(t){this.data=t,this.depth=this.height=0,this.parent=null}nr.prototype=Pf.prototype={constructor:nr,count:mP,each:yP,eachAfter:vP,eachBefore:_P,sum:xP,sort:bP,path:wP,ancestors:AP,descendants:TP,leaves:CP,links:PP,copy:EP};var $P=Array.prototype.slice;function OP(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function cy(t){for(var e=0,n=(t=OP($P.call(t))).length,r=[],o,s;e<n;)o=t[e],s&&uy(s,o)?++e:(s=RP(r=kP(r,o)),e=0);return s}function kP(t,e){var n,r;if(Qc(e,t))return[e];for(n=0;n<t.length;++n)if(ro(e,t[n])&&Qc(Gr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(ro(Gr(t[n],t[r]),e)&&ro(Gr(t[n],e),t[r])&&ro(Gr(t[r],e),t[n])&&Qc(ly(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function ro(t,e){var n=t.r-e.r,r=e.x-t.x,o=e.y-t.y;return n<0||n*n<r*r+o*o}function uy(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function Qc(t,e){for(var n=0;n<e.length;++n)if(!uy(t,e[n]))return!1;return!0}function RP(t){switch(t.length){case 1:return NP(t[0]);case 2:return Gr(t[0],t[1]);case 3:return ly(t[0],t[1],t[2])}}function NP(t){return{x:t.x,y:t.y,r:t.r}}function Gr(t,e){var n=t.x,r=t.y,o=t.r,s=e.x,u=e.y,f=e.r,h=s-n,p=u-r,g=f-o,y=Math.sqrt(h*h+p*p);return{x:(n+s+h/y*g)/2,y:(r+u+p/y*g)/2,r:(y+o+f)/2}}function ly(t,e,n){var r=t.x,o=t.y,s=t.r,u=e.x,f=e.y,h=e.r,p=n.x,g=n.y,y=n.r,m=r-u,x=r-p,w=o-f,b=o-g,A=h-s,C=y-s,$=r*r+o*o-s*s,L=$-u*u-f*f+h*h,O=$-p*p-g*g+y*y,V=x*w-m*b,B=(w*O-b*L)/(V*2)-r,z=(b*A-w*C)/V,Q=(x*L-m*O)/(V*2)-o,X=(m*C-x*A)/V,T=z*z+X*X-1,q=2*(s+B*z+Q*X),k=B*B+Q*Q-s*s,Y=-(T?(q+Math.sqrt(q*q-4*T*k))/(2*T):k/q);return{x:r+B+z*Y,y:o+Q+X*Y,r:Y}}function yp(t,e,n){var r=t.x-e.x,o,s,u=t.y-e.y,f,h,p=r*r+u*u;p?(s=e.r+n.r,s*=s,h=t.r+n.r,h*=h,s>h?(o=(p+h-s)/(2*p),f=Math.sqrt(Math.max(0,h/p-o*o)),n.x=t.x-o*r-f*u,n.y=t.y-o*u+f*r):(o=(p+s-h)/(2*p),f=Math.sqrt(Math.max(0,s/p-o*o)),n.x=e.x+o*r-f*u,n.y=e.y+o*u+f*r)):(n.x=e.x+n.r,n.y=e.y)}function _p(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,o=e.y-t.y;return n>0&&n*n>r*r+o*o}function vp(t){var e=t._,n=t.next._,r=e.r+n.r,o=(e.x*n.r+n.x*e.r)/r,s=(e.y*n.r+n.y*e.r)/r;return o*o+s*s}function ao(t){this._=t,this.next=null,this.previous=null}function fy(t){if(!(o=t.length))return 0;var e,n,r,o,s,u,f,h,p,g,y;if(e=t[0],e.x=0,e.y=0,!(o>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(o>2))return e.r+n.r;yp(n,e,r=t[2]),e=new ao(e),n=new ao(n),r=new ao(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(f=3;f<o;++f){yp(e._,n._,r=t[f]),r=new ao(r),h=n.next,p=e.previous,g=n._.r,y=e._.r;do if(g<=y){if(_p(h._,r._)){n=h,e.next=n,n.previous=e,--f;continue t}g+=h._.r,h=h.next}else{if(_p(p._,r._)){e=p,e.next=n,n.previous=e,--f;continue t}y+=p._.r,p=p.previous}while(h!==p.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,s=vp(e);(r=r.next)!==n;)(u=vp(r))<s&&(e=r,s=u);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=cy(e),f=0;f<o;++f)e=t[f],e.x-=r.x,e.y-=r.y;return r.r}function DP(t){return fy(t),t}function IP(t){return t==null?null:ds(t)}function ds(t){if(typeof t!="function")throw new Error;return t}function ti(){return 0}function Oi(t){return function(){return t}}function VP(t){return Math.sqrt(t.value)}function GP(){var t=null,e=1,n=1,r=ti;function o(s){return s.x=e/2,s.y=n/2,t?s.eachBefore(xp(t)).eachAfter(Kc(r,.5)).eachBefore(bp(1)):s.eachBefore(xp(VP)).eachAfter(Kc(ti,1)).eachAfter(Kc(r,s.r/Math.min(e,n))).eachBefore(bp(Math.min(e,n)/(2*s.r))),s}return o.radius=function(s){return arguments.length?(t=IP(s),o):t},o.size=function(s){return arguments.length?(e=+s[0],n=+s[1],o):[e,n]},o.padding=function(s){return arguments.length?(r=typeof s=="function"?s:Oi(+s),o):r},o}function xp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Kc(t,e){return function(n){if(r=n.children){var r,o,s=r.length,u=t(n)*e||0,f;if(u)for(o=0;o<s;++o)r[o].r+=u;if(f=fy(r),u)for(o=0;o<s;++o)r[o].r-=u;n.r=f+u}}}function bp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function hy(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ka(t,e,n,r,o){for(var s=t.children,u,f=-1,h=s.length,p=t.value&&(r-e)/t.value;++f<h;)u=s[f],u.y0=n,u.y1=o,u.x0=e,u.x1=e+=u.value*p}function FP(){var t=1,e=1,n=0,r=!1;function o(u){var f=u.height+1;return u.x0=u.y0=n,u.x1=t,u.y1=e/f,u.eachBefore(s(e,f)),r&&u.eachBefore(hy),u}function s(u,f){return function(h){h.children&&ka(h,h.x0,u*(h.depth+1)/f,h.x1,u*(h.depth+2)/f);var p=h.x0,g=h.y0,y=h.x1-n,m=h.y1-n;y<p&&(p=y=(p+y)/2),m<g&&(g=m=(g+m)/2),h.x0=p,h.y0=g,h.x1=y,h.y1=m}}return o.round=function(u){return arguments.length?(r=!!u,o):r},o.size=function(u){return arguments.length?(t=+u[0],e=+u[1],o):[t,e]},o.padding=function(u){return arguments.length?(n=+u,o):n},o}var wp="$",zP={depth:-1},Sp={};function BP(t){return t.id}function HP(t){return t.parentId}function XP(){var t=BP,e=HP;function n(r){var o,s,u=r.length,f,h,p,g=new Array(u),y,m,x={};for(s=0;s<u;++s)o=r[s],p=g[s]=new nr(o),(y=t(o,s,r))!=null&&(y+="")&&(m=wp+(p.id=y),x[m]=m in x?Sp:p);for(s=0;s<u;++s)if(p=g[s],y=e(r[s],s,r),y==null||!(y+="")){if(f)throw new Error("multiple roots");f=p}else{if(h=x[wp+y],!h)throw new Error("missing: "+y);if(h===Sp)throw new Error("ambiguous: "+y);h.children?h.children.push(p):h.children=[p],p.parent=h}if(!f)throw new Error("no root");if(f.parent=zP,f.eachBefore(function(w){w.depth=w.parent.depth+1,--u}).eachBefore(sy),f.parent=null,u>0)throw new Error("cycle");return f}return n.id=function(r){return arguments.length?(t=ds(r),n):t},n.parentId=function(r){return arguments.length?(e=ds(r),n):e},n}function YP(t,e){return t.parent===e.parent?1:2}function Zc(t){var e=t.children;return e?e[0]:t.t}function Jc(t){var e=t.children;return e?e[e.length-1]:t.t}function UP(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function qP(t){for(var e=0,n=0,r=t.children,o=r.length,s;--o>=0;)s=r[o],s.z+=e,s.m+=e,e+=s.s+(n+=s.c)}function WP(t,e,n){return t.a.parent===e.parent?t.a:n}function Po(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Po.prototype=Object.create(nr.prototype);function jP(t){for(var e=new Po(t,0),n,r=[e],o,s,u,f;n=r.pop();)if(s=n._.children)for(n.children=new Array(f=s.length),u=f-1;u>=0;--u)r.push(o=n.children[u]=new Po(s[u],u)),o.parent=n;return(e.parent=new Po(null,0)).children=[e],e}function QP(){var t=YP,e=1,n=1,r=null;function o(p){var g=jP(p);if(g.eachAfter(s),g.parent.m=-g.z,g.eachBefore(u),r)p.eachBefore(h);else{var y=p,m=p,x=p;p.eachBefore(function($){$.x<y.x&&(y=$),$.x>m.x&&(m=$),$.depth>x.depth&&(x=$)});var w=y===m?1:t(y,m)/2,b=w-y.x,A=e/(m.x+w+b),C=n/(x.depth||1);p.eachBefore(function($){$.x=($.x+b)*A,$.y=$.depth*C})}return p}function s(p){var g=p.children,y=p.parent.children,m=p.i?y[p.i-1]:null;if(g){qP(p);var x=(g[0].z+g[g.length-1].z)/2;m?(p.z=m.z+t(p._,m._),p.m=p.z-x):p.z=x}else m&&(p.z=m.z+t(p._,m._));p.parent.A=f(p,m,p.parent.A||y[0])}function u(p){p._.x=p.z+p.parent.m,p.m+=p.parent.m}function f(p,g,y){if(g){for(var m=p,x=p,w=g,b=m.parent.children[0],A=m.m,C=x.m,$=w.m,L=b.m,O;w=Jc(w),m=Zc(m),w&&m;)b=Zc(b),x=Jc(x),x.a=p,O=w.z+$-m.z-A+t(w._,m._),O>0&&(UP(WP(w,p,y),p,O),A+=O,C+=O),$+=w.m,A+=m.m,L+=b.m,C+=x.m;w&&!Jc(x)&&(x.t=w,x.m+=$-C),m&&!Zc(b)&&(b.t=m,b.m+=A-L,y=p)}return y}function h(p){p.x*=e,p.y=p.depth*n}return o.separation=function(p){return arguments.length?(t=p,o):t},o.size=function(p){return arguments.length?(r=!1,e=+p[0],n=+p[1],o):r?null:[e,n]},o.nodeSize=function(p){return arguments.length?(r=!0,e=+p[0],n=+p[1],o):r?[e,n]:null},o}function tc(t,e,n,r,o){for(var s=t.children,u,f=-1,h=s.length,p=t.value&&(o-n)/t.value;++f<h;)u=s[f],u.x0=e,u.x1=r,u.y0=n,u.y1=n+=u.value*p}var dy=(1+Math.sqrt(5))/2;function py(t,e,n,r,o,s){for(var u=[],f=e.children,h,p,g=0,y=0,m=f.length,x,w,b=e.value,A,C,$,L,O,V,B;g<m;){x=o-n,w=s-r;do A=f[y++].value;while(!A&&y<m);for(C=$=A,V=Math.max(w/x,x/w)/(b*t),B=A*A*V,O=Math.max($/B,B/C);y<m;++y){if(A+=p=f[y].value,p<C&&(C=p),p>$&&($=p),B=A*A*V,L=Math.max($/B,B/C),L>O){A-=p;break}O=L}u.push(h={value:A,dice:x<w,children:f.slice(g,y)}),h.dice?ka(h,n,r,o,b?r+=w*A/b:s):tc(h,n,r,b?n+=x*A/b:o,s),b-=A,g=y}return u}const gy=function t(e){function n(r,o,s,u,f){py(e,r,o,s,u,f)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(dy);function KP(){var t=gy,e=!1,n=1,r=1,o=[0],s=ti,u=ti,f=ti,h=ti,p=ti;function g(m){return m.x0=m.y0=0,m.x1=n,m.y1=r,m.eachBefore(y),o=[0],e&&m.eachBefore(hy),m}function y(m){var x=o[m.depth],w=m.x0+x,b=m.y0+x,A=m.x1-x,C=m.y1-x;A<w&&(w=A=(w+A)/2),C<b&&(b=C=(b+C)/2),m.x0=w,m.y0=b,m.x1=A,m.y1=C,m.children&&(x=o[m.depth+1]=s(m)/2,w+=p(m)-x,b+=u(m)-x,A-=f(m)-x,C-=h(m)-x,A<w&&(w=A=(w+A)/2),C<b&&(b=C=(b+C)/2),t(m,w,b,A,C))}return g.round=function(m){return arguments.length?(e=!!m,g):e},g.size=function(m){return arguments.length?(n=+m[0],r=+m[1],g):[n,r]},g.tile=function(m){return arguments.length?(t=ds(m),g):t},g.padding=function(m){return arguments.length?g.paddingInner(m).paddingOuter(m):g.paddingInner()},g.paddingInner=function(m){return arguments.length?(s=typeof m=="function"?m:Oi(+m),g):s},g.paddingOuter=function(m){return arguments.length?g.paddingTop(m).paddingRight(m).paddingBottom(m).paddingLeft(m):g.paddingTop()},g.paddingTop=function(m){return arguments.length?(u=typeof m=="function"?m:Oi(+m),g):u},g.paddingRight=function(m){return arguments.length?(f=typeof m=="function"?m:Oi(+m),g):f},g.paddingBottom=function(m){return arguments.length?(h=typeof m=="function"?m:Oi(+m),g):h},g.paddingLeft=function(m){return arguments.length?(p=typeof m=="function"?m:Oi(+m),g):p},g}function ZP(t,e,n,r,o){var s=t.children,u,f=s.length,h,p=new Array(f+1);for(p[0]=h=u=0;u<f;++u)p[u+1]=h+=s[u].value;g(0,f,t.value,e,n,r,o);function g(y,m,x,w,b,A,C){if(y>=m-1){var $=s[y];$.x0=w,$.y0=b,$.x1=A,$.y1=C;return}for(var L=p[y],O=x/2+L,V=y+1,B=m-1;V<B;){var z=V+B>>>1;p[z]<O?V=z+1:B=z}O-p[V-1]<p[V]-O&&y+1<V&&--V;var Q=p[V]-L,X=x-Q;if(A-w>C-b){var T=(w*X+A*Q)/x;g(y,V,Q,w,b,T,C),g(V,m,X,T,b,A,C)}else{var q=(b*X+C*Q)/x;g(y,V,Q,w,b,A,q),g(V,m,X,w,q,A,C)}}}function JP(t,e,n,r,o){(t.depth&1?tc:ka)(t,e,n,r,o)}const tE=function t(e){function n(r,o,s,u,f){if((h=r._squarify)&&h.ratio===e)for(var h,p,g,y,m=-1,x,w=h.length,b=r.value;++m<w;){for(p=h[m],g=p.children,y=p.value=0,x=g.length;y<x;++y)p.value+=g[y].value;p.dice?ka(p,o,s,u,s+=(f-s)*p.value/b):tc(p,o,s,o+=(u-o)*p.value/b,f),b-=p.value}else r._squarify=h=py(e,r,o,s,u,f),h.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(dy);function eE(t){for(var e=-1,n=t.length,r,o=t[n-1],s=0;++e<n;)r=o,o=t[e],s+=r[1]*o[0]-r[0]*o[1];return s/2}function nE(t){for(var e=-1,n=t.length,r=0,o=0,s,u=t[n-1],f,h=0;++e<n;)s=u,u=t[e],h+=f=s[0]*u[1]-u[0]*s[1],r+=(s[0]+u[0])*f,o+=(s[1]+u[1])*f;return h*=3,[r/h,o/h]}function iE(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function rE(t,e){return t[0]-e[0]||t[1]-e[1]}function Ap(t){for(var e=t.length,n=[0,1],r=2,o=2;o<e;++o){for(;r>1&&iE(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function aE(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),o=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(rE),e=0;e<n;++e)o[e]=[r[e][0],-r[e][1]];var s=Ap(r),u=Ap(o),f=u[0]===s[0],h=u[u.length-1]===s[s.length-1],p=[];for(e=s.length-1;e>=0;--e)p.push(t[r[s[e]][2]]);for(e=+f;e<u.length-h;++e)p.push(t[r[u[e]][2]]);return p}function oE(t,e){for(var n=t.length,r=t[n-1],o=e[0],s=e[1],u=r[0],f=r[1],h,p,g=!1,y=0;y<n;++y)r=t[y],h=r[0],p=r[1],p>s!=f>s&&o<(u-h)*(s-p)/(f-p)+h&&(g=!g),u=h,f=p;return g}function sE(t){for(var e=-1,n=t.length,r=t[n-1],o,s,u=r[0],f=r[1],h=0;++e<n;)o=u,s=f,r=t[e],u=r[0],f=r[1],o-=u,s-=f,h+=Math.sqrt(o*o+s*s);return h}function fr(){return Math.random()}const cE=function t(e){function n(r,o){return r=r==null?0:+r,o=o==null?1:+o,arguments.length===1?(o=r,r=0):o-=r,function(){return e()*o+r}}return n.source=t,n}(fr),my=function t(e){function n(r,o){var s,u;return r=r==null?0:+r,o=o==null?1:+o,function(){var f;if(s!=null)f=s,s=null;else do s=e()*2-1,f=e()*2-1,u=s*s+f*f;while(!u||u>1);return r+o*f*Math.sqrt(-2*Math.log(u)/u)}}return n.source=t,n}(fr),uE=function t(e){function n(){var r=my.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(fr),yy=function t(e){function n(r){return function(){for(var o=0,s=0;s<r;++s)o+=e();return o}}return n.source=t,n}(fr),lE=function t(e){function n(r){var o=yy.source(e)(r);return function(){return o()/r}}return n.source=t,n}(fr),fE=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(fr);function je(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wn(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var _y=Array.prototype,ps=_y.map,di=_y.slice,ll={name:"implicit"};function Ef(){var t=vn(),e=[],n=[],r=ll;function o(s){var u=s+"",f=t.get(u);if(!f){if(r!==ll)return r;t.set(u,f=e.push(s))}return n[(f-1)%n.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],t=vn();for(var u=-1,f=s.length,h,p;++u<f;)t.has(p=(h=s[u])+"")||t.set(p,e.push(h));return o},o.range=function(s){return arguments.length?(n=di.call(s),o):n.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return Ef(e,n).unknown(r)},je.apply(o,arguments),o}function Lf(){var t=Ef().unknown(void 0),e=t.domain,n=t.range,r=[0,1],o,s,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var y=e().length,m=r[1]<r[0],x=r[m-0],w=r[1-m];o=(w-x)/Math.max(1,y-f+h*2),u&&(o=Math.floor(o)),x+=(w-x-o*(y-f))*p,s=o*(1-f),u&&(x=Math.round(x),s=Math.round(s));var b=Pe(y).map(function(A){return x+o*A});return n(m?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?(r=[+y[0],+y[1]],g()):r.slice()},t.rangeRound=function(y){return r=[+y[0],+y[1]],u=!0,g()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return Lf(e(),r).round(u).paddingInner(f).paddingOuter(h).align(p)},je.apply(g(),arguments)}function vy(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vy(e())},t}function hE(){return vy(Lf.apply(null,arguments).paddingInner(1))}function dE(t){return function(){return t}}function fl(t){return+t}var Tp=[0,1];function Jt(t){return t}function hl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dE(isNaN(e)?NaN:.5)}function Cp(t){var e=t[0],n=t[t.length-1],r;return e>n&&(r=e,e=n,n=r),function(o){return Math.max(e,Math.min(n,o))}}function pE(t,e,n){var r=t[0],o=t[1],s=e[0],u=e[1];return o<r?(r=hl(o,r),s=n(u,s)):(r=hl(r,o),s=n(s,u)),function(f){return s(r(f))}}function gE(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)o[u]=hl(t[u],t[u+1]),s[u]=n(e[u],e[u+1]);return function(f){var h=On(t,f,1,r)-1;return s[h](o[h](f))}}function Ra(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ec(){var t=Tp,e=Tp,n=Ea,r,o,s,u=Jt,f,h,p;function g(){return f=Math.min(t.length,e.length)>2?gE:pE,h=p=null,y}function y(m){return isNaN(m=+m)?s:(h||(h=f(t.map(r),e,n)))(r(u(m)))}return y.invert=function(m){return u(o((p||(p=f(e,t.map(r),Ne)))(m)))},y.domain=function(m){return arguments.length?(t=ps.call(m,fl),u===Jt||(u=Cp(t)),g()):t.slice()},y.range=function(m){return arguments.length?(e=di.call(m),g()):e.slice()},y.rangeRound=function(m){return e=di.call(m),n=B0,g()},y.clamp=function(m){return arguments.length?(u=m?Cp(t):Jt,y):u!==Jt},y.interpolate=function(m){return arguments.length?(n=m,g()):n},y.unknown=function(m){return arguments.length?(s=m,y):s},function(m,x){return r=m,o=x,g()}}function xy(t,e){return ec()(t,e)}function by(t,e,n,r){var o=si(t,e,n),s;switch(r=ha(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=xm(o,u))&&(r.precision=s),uf(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=bm(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vm(o))&&(r.precision=s-(r.type==="%")*2);break}}return Ks(r)}function Si(t){var e=t.domain;return t.ticks=function(n){var r=e();return Gl(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var o=e();return by(o[0],o[o.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,s=r.length-1,u=r[o],f=r[s],h;return f<u&&(h=u,u=f,f=h,h=o,o=s,s=h),h=jr(u,f,n),h>0?(u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h,h=jr(u,f,n)):h<0&&(u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h,h=jr(u,f,n)),h>0?(r[o]=Math.floor(u/h)*h,r[s]=Math.ceil(f/h)*h,e(r)):h<0&&(r[o]=Math.ceil(u*h)/h,r[s]=Math.floor(f*h)/h,e(r)),t},t}function wy(){var t=xy(Jt,Jt);return t.copy=function(){return Ra(t,wy())},je.apply(t,arguments),Si(t)}function Sy(t){var e;function n(r){return isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=ps.call(r,fl),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Sy(t).unknown(e)},t=arguments.length?ps.call(t,fl):[0,1],Si(n)}function Ay(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],s=t[r],u;return s<o&&(u=n,n=r,r=u,u=o,o=s,s=u),t[n]=e.floor(o),t[r]=e.ceil(s),t}function Pp(t){return Math.log(t)}function Ep(t){return Math.exp(t)}function mE(t){return-Math.log(-t)}function yE(t){return-Math.exp(-t)}function _E(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vE(t){return t===10?_E:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function xE(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Lp(t){return function(e){return-t(-e)}}function Mf(t){var e=t(Pp,Ep),n=e.domain,r=10,o,s;function u(){return o=xE(r),s=vE(r),n()[0]<0?(o=Lp(o),s=Lp(s),t(mE,yE)):t(Pp,Ep),e}return e.base=function(f){return arguments.length?(r=+f,u()):r},e.domain=function(f){return arguments.length?(n(f),u()):n()},e.ticks=function(f){var h=n(),p=h[0],g=h[h.length-1],y;(y=g<p)&&(m=p,p=g,g=m);var m=o(p),x=o(g),w,b,A,C=f==null?10:+f,$=[];if(!(r%1)&&x-m<C){if(m=Math.round(m)-1,x=Math.round(x)+1,p>0){for(;m<x;++m)for(b=1,w=s(m);b<r;++b)if(A=w*b,!(A<p)){if(A>g)break;$.push(A)}}else for(;m<x;++m)for(b=r-1,w=s(m);b>=1;--b)if(A=w*b,!(A<p)){if(A>g)break;$.push(A)}}else $=Gl(m,x,Math.min(x-m,C)).map(s);return y?$.reverse():$},e.tickFormat=function(f,h){if(h==null&&(h=r===10?".0e":","),typeof h!="function"&&(h=Ks(h)),f===1/0)return h;f==null&&(f=10);var p=Math.max(1,r*f/e.ticks().length);return function(g){var y=g/s(Math.round(o(g)));return y*r<r-.5&&(y*=r),y<=p?h(g):""}},e.nice=function(){return n(Ay(n(),{floor:function(f){return s(Math.floor(o(f)))},ceil:function(f){return s(Math.ceil(o(f)))}}))},e}function Ty(){var t=Mf(ec()).domain([1,10]);return t.copy=function(){return Ra(t,Ty()).base(t.base())},je.apply(t,arguments),t}function Mp(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $p(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $f(t){var e=1,n=t(Mp(e),$p(e));return n.constant=function(r){return arguments.length?t(Mp(e=+r),$p(e)):e},Si(n)}function Cy(){var t=$f(ec());return t.copy=function(){return Ra(t,Cy()).constant(t.constant())},je.apply(t,arguments)}function Op(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bE(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wE(t){return t<0?-t*t:t*t}function Of(t){var e=t(Jt,Jt),n=1;function r(){return n===1?t(Jt,Jt):n===.5?t(bE,wE):t(Op(n),Op(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},Si(e)}function kf(){var t=Of(ec());return t.copy=function(){return Ra(t,kf()).exponent(t.exponent())},je.apply(t,arguments),t}function SE(){return kf.apply(null,arguments).exponent(.5)}function Py(){var t=[],e=[],n=[],r;function o(){var u=0,f=Math.max(1,e.length);for(n=new Array(f-1);++u<f;)n[u-1]=na(t,u/f);return s}function s(u){return isNaN(u=+u)?r:e[On(n,u)]}return s.invertExtent=function(u){var f=e.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},s.domain=function(u){if(!arguments.length)return t.slice();t=[];for(var f=0,h=u.length,p;f<h;++f)p=u[f],p!=null&&!isNaN(p=+p)&&t.push(p);return t.sort(Gn),o()},s.range=function(u){return arguments.length?(e=di.call(u),o()):e.slice()},s.unknown=function(u){return arguments.length?(r=u,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Py().domain(t).range(e).unknown(r)},je.apply(s,arguments)}function Ey(){var t=0,e=1,n=1,r=[.5],o=[0,1],s;function u(h){return h<=h?o[On(r,h,0,n)]:s}function f(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return u}return u.domain=function(h){return arguments.length?(t=+h[0],e=+h[1],f()):[t,e]},u.range=function(h){return arguments.length?(n=(o=di.call(h)).length-1,f()):o.slice()},u.invertExtent=function(h){var p=o.indexOf(h);return p<0?[NaN,NaN]:p<1?[t,r[0]]:p>=n?[r[n-1],e]:[r[p-1],r[p]]},u.unknown=function(h){return arguments.length&&(s=h),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Ey().domain([t,e]).range(o).unknown(s)},je.apply(Si(u),arguments)}function Ly(){var t=[.5],e=[0,1],n,r=1;function o(s){return s<=s?e[On(t,s,0,r)]:n}return o.domain=function(s){return arguments.length?(t=di.call(s),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(s){return arguments.length?(e=di.call(s),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(s){var u=e.indexOf(s);return[t[u-1],t[u]]},o.unknown=function(s){return arguments.length?(n=s,o):n},o.copy=function(){return Ly().domain(t).range(e).unknown(n)},je.apply(o,arguments)}var tu=new Date,eu=new Date;function Wt(t,e,n,r){function o(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return o.floor=function(s){return t(s=new Date(+s)),s},o.ceil=function(s){return t(s=new Date(s-1)),e(s,1),t(s),s},o.round=function(s){var u=o(s),f=o.ceil(s);return s-u<f-s?u:f},o.offset=function(s,u){return e(s=new Date(+s),u==null?1:Math.floor(u)),s},o.range=function(s,u,f){var h=[],p;if(s=o.ceil(s),f=f==null?1:Math.floor(f),!(s<u)||!(f>0))return h;do h.push(p=new Date(+s)),e(s,f),t(s);while(p<s&&s<u);return h},o.filter=function(s){return Wt(function(u){if(u>=u)for(;t(u),!s(u);)u.setTime(u-1)},function(u,f){if(u>=u)if(f<0)for(;++f<=0;)for(;e(u,-1),!s(u););else for(;--f>=0;)for(;e(u,1),!s(u););})},n&&(o.count=function(s,u){return tu.setTime(+s),eu.setTime(+u),t(tu),t(eu),Math.floor(n(tu,eu))},o.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?o.filter(r?function(u){return r(u)%s===0}:function(u){return o.count(0,u)%s===0}):o}),o}var gs=Wt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});gs.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):gs};const ms=gs;var kp=gs.range,ys=1e3,pi=6e4,_s=36e5,My=864e5,$y=6048e5,Oy=Wt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*ys)},function(t,e){return(e-t)/ys},function(t){return t.getUTCSeconds()});const vs=Oy;var Rp=Oy.range,ky=Wt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys)},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getMinutes()});const Ry=ky;var AE=ky.range,Ny=Wt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys-t.getMinutes()*pi)},function(t,e){t.setTime(+t+e*_s)},function(t,e){return(e-t)/_s},function(t){return t.getHours()});const Dy=Ny;var TE=Ny.range,Iy=Wt(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pi)/My},function(t){return t.getDate()-1});const nc=Iy;var CE=Iy.range;function Ai(t){return Wt(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pi)/$y})}var ma=Ai(0),ya=Ai(1),Vy=Ai(2),Gy=Ai(3),gi=Ai(4),Fy=Ai(5),zy=Ai(6),Np=ma.range,PE=ya.range,EE=Vy.range,LE=Gy.range,ME=gi.range,$E=Fy.range,OE=zy.range,By=Wt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const Hy=By;var kE=By.range,Rf=Wt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Rf.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const mi=Rf;var RE=Rf.range,Xy=Wt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getUTCMinutes()});const Yy=Xy;var NE=Xy.range,Uy=Wt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*_s)},function(t,e){return(e-t)/_s},function(t){return t.getUTCHours()});const qy=Uy;var DE=Uy.range,Wy=Wt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/My},function(t){return t.getUTCDate()-1});const ic=Wy;var IE=Wy.range;function Ti(t){return Wt(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/$y})}var _a=Ti(0),va=Ti(1),jy=Ti(2),Qy=Ti(3),yi=Ti(4),Ky=Ti(5),Zy=Ti(6),Dp=_a.range,VE=va.range,GE=jy.range,FE=Qy.range,zE=yi.range,BE=Ky.range,HE=Zy.range,Jy=Wt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const t_=Jy;var XE=Jy.range,Nf=Wt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Nf.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const _i=Nf;var YE=Nf.range;function nu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function e_(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,s=t.days,u=t.shortDays,f=t.months,h=t.shortMonths,p=Ar(o),g=Tr(o),y=Ar(s),m=Tr(s),x=Ar(u),w=Tr(u),b=Ar(f),A=Tr(f),C=Ar(h),$=Tr(h),L={a:rt,A:ot,b:i,B:a,c:null,d:Bp,e:Bp,f:pL,g:AL,G:CL,H:fL,I:hL,j:dL,L:n_,m:gL,M:mL,p:c,q:l,Q:Yp,s:Up,S:yL,u:_L,U:vL,V:xL,w:bL,W:wL,x:null,X:null,y:SL,Y:TL,Z:PL,"%":Xp},O={a:d,A:v,b:S,B:P,c:null,d:Hp,e:Hp,f:$L,g:zL,G:HL,H:EL,I:LL,j:ML,L:r_,m:OL,M:kL,p:R,q:M,Q:Yp,s:Up,S:RL,u:NL,U:DL,V:IL,w:VL,W:GL,x:null,X:null,y:FL,Y:BL,Z:XL,"%":Xp},V={a:T,A:q,b:k,B:Y,c:J,d:Fp,e:Fp,f:sL,g:Gp,G:Vp,H:zp,I:zp,j:iL,L:oL,m:nL,M:rL,p:X,q:eL,Q:uL,s:lL,S:aL,u:QE,U:KE,V:ZE,w:jE,W:JE,x:U,X:K,y:Gp,Y:Vp,Z:tL,"%":cL};L.x=B(n,L),L.X=B(r,L),L.c=B(e,L),O.x=B(n,O),O.X=B(r,O),O.c=B(e,O);function B(N,D){return function(H){var I=[],W=-1,j=0,tt=N.length,Z,pt,gt;for(H instanceof Date||(H=new Date(+H));++W<tt;)N.charCodeAt(W)===37&&(I.push(N.slice(j,W)),(pt=Ip[Z=N.charAt(++W)])!=null?Z=N.charAt(++W):pt=Z==="e"?" ":"0",(gt=D[Z])&&(Z=gt(H,pt)),I.push(Z),j=W+1);return I.push(N.slice(j,W)),I.join("")}}function z(N,D){return function(H){var I=Sr(1900,void 0,1),W=Q(I,N,H+="",0),j,tt;if(W!=H.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(D&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(j=iu(Sr(I.y,0,1)),tt=j.getUTCDay(),j=tt>4||tt===0?va.ceil(j):va(j),j=ic.offset(j,(I.V-1)*7),I.y=j.getUTCFullYear(),I.m=j.getUTCMonth(),I.d=j.getUTCDate()+(I.w+6)%7):(j=nu(Sr(I.y,0,1)),tt=j.getDay(),j=tt>4||tt===0?ya.ceil(j):ya(j),j=nc.offset(j,(I.V-1)*7),I.y=j.getFullYear(),I.m=j.getMonth(),I.d=j.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),tt="Z"in I?iu(Sr(I.y,0,1)).getUTCDay():nu(Sr(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(tt+5)%7:I.w+I.U*7-(tt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,iu(I)):nu(I)}}function Q(N,D,H,I){for(var W=0,j=D.length,tt=H.length,Z,pt;W<j;){if(I>=tt)return-1;if(Z=D.charCodeAt(W++),Z===37){if(Z=D.charAt(W++),pt=V[Z in Ip?D.charAt(W++):Z],!pt||(I=pt(N,H,I))<0)return-1}else if(Z!=H.charCodeAt(I++))return-1}return I}function X(N,D,H){var I=p.exec(D.slice(H));return I?(N.p=g[I[0].toLowerCase()],H+I[0].length):-1}function T(N,D,H){var I=x.exec(D.slice(H));return I?(N.w=w[I[0].toLowerCase()],H+I[0].length):-1}function q(N,D,H){var I=y.exec(D.slice(H));return I?(N.w=m[I[0].toLowerCase()],H+I[0].length):-1}function k(N,D,H){var I=C.exec(D.slice(H));return I?(N.m=$[I[0].toLowerCase()],H+I[0].length):-1}function Y(N,D,H){var I=b.exec(D.slice(H));return I?(N.m=A[I[0].toLowerCase()],H+I[0].length):-1}function J(N,D,H){return Q(N,e,D,H)}function U(N,D,H){return Q(N,n,D,H)}function K(N,D,H){return Q(N,r,D,H)}function rt(N){return u[N.getDay()]}function ot(N){return s[N.getDay()]}function i(N){return h[N.getMonth()]}function a(N){return f[N.getMonth()]}function c(N){return o[+(N.getHours()>=12)]}function l(N){return 1+~~(N.getMonth()/3)}function d(N){return u[N.getUTCDay()]}function v(N){return s[N.getUTCDay()]}function S(N){return h[N.getUTCMonth()]}function P(N){return f[N.getUTCMonth()]}function R(N){return o[+(N.getUTCHours()>=12)]}function M(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var D=B(N+="",L);return D.toString=function(){return N},D},parse:function(N){var D=z(N+="",!1);return D.toString=function(){return N},D},utcFormat:function(N){var D=B(N+="",O);return D.toString=function(){return N},D},utcParse:function(N){var D=z(N+="",!0);return D.toString=function(){return N},D}}}var Ip={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,UE=/^%/,qE=/[\\^$*+?|[\]().{}]/g;function $t(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",s=o.length;return r+(s<n?new Array(n-s+1).join(e)+o:o)}function WE(t){return t.replace(qE,"\\$&")}function Ar(t){return new RegExp("^(?:"+t.map(WE).join("|")+")","i")}function Tr(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function jE(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function QE(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function KE(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZE(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JE(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vp(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Gp(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tL(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eL(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nL(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Fp(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iL(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zp(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rL(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aL(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oL(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sL(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cL(t,e,n){var r=UE.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uL(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lL(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Bp(t,e){return $t(t.getDate(),e,2)}function fL(t,e){return $t(t.getHours(),e,2)}function hL(t,e){return $t(t.getHours()%12||12,e,2)}function dL(t,e){return $t(1+nc.count(mi(t),t),e,3)}function n_(t,e){return $t(t.getMilliseconds(),e,3)}function pL(t,e){return n_(t,e)+"000"}function gL(t,e){return $t(t.getMonth()+1,e,2)}function mL(t,e){return $t(t.getMinutes(),e,2)}function yL(t,e){return $t(t.getSeconds(),e,2)}function _L(t){var e=t.getDay();return e===0?7:e}function vL(t,e){return $t(ma.count(mi(t)-1,t),e,2)}function i_(t){var e=t.getDay();return e>=4||e===0?gi(t):gi.ceil(t)}function xL(t,e){return t=i_(t),$t(gi.count(mi(t),t)+(mi(t).getDay()===4),e,2)}function bL(t){return t.getDay()}function wL(t,e){return $t(ya.count(mi(t)-1,t),e,2)}function SL(t,e){return $t(t.getFullYear()%100,e,2)}function AL(t,e){return t=i_(t),$t(t.getFullYear()%100,e,2)}function TL(t,e){return $t(t.getFullYear()%1e4,e,4)}function CL(t,e){var n=t.getDay();return t=n>=4||n===0?gi(t):gi.ceil(t),$t(t.getFullYear()%1e4,e,4)}function PL(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$t(e/60|0,"0",2)+$t(e%60,"0",2)}function Hp(t,e){return $t(t.getUTCDate(),e,2)}function EL(t,e){return $t(t.getUTCHours(),e,2)}function LL(t,e){return $t(t.getUTCHours()%12||12,e,2)}function ML(t,e){return $t(1+ic.count(_i(t),t),e,3)}function r_(t,e){return $t(t.getUTCMilliseconds(),e,3)}function $L(t,e){return r_(t,e)+"000"}function OL(t,e){return $t(t.getUTCMonth()+1,e,2)}function kL(t,e){return $t(t.getUTCMinutes(),e,2)}function RL(t,e){return $t(t.getUTCSeconds(),e,2)}function NL(t){var e=t.getUTCDay();return e===0?7:e}function DL(t,e){return $t(_a.count(_i(t)-1,t),e,2)}function a_(t){var e=t.getUTCDay();return e>=4||e===0?yi(t):yi.ceil(t)}function IL(t,e){return t=a_(t),$t(yi.count(_i(t),t)+(_i(t).getUTCDay()===4),e,2)}function VL(t){return t.getUTCDay()}function GL(t,e){return $t(va.count(_i(t)-1,t),e,2)}function FL(t,e){return $t(t.getUTCFullYear()%100,e,2)}function zL(t,e){return t=a_(t),$t(t.getUTCFullYear()%100,e,2)}function BL(t,e){return $t(t.getUTCFullYear()%1e4,e,4)}function HL(t,e){var n=t.getUTCDay();return t=n>=4||n===0?yi(t):yi.ceil(t),$t(t.getUTCFullYear()%1e4,e,4)}function XL(){return"+0000"}function Xp(){return"%"}function Yp(t){return+t}function Up(t){return Math.floor(+t/1e3)}var Mi,Df,o_,rc,If;s_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function s_(t){return Mi=e_(t),Df=Mi.format,o_=Mi.parse,rc=Mi.utcFormat,If=Mi.utcParse,Mi}var c_="%Y-%m-%dT%H:%M:%S.%LZ";function YL(t){return t.toISOString()}var UL=Date.prototype.toISOString?YL:rc(c_);const qL=UL;function WL(t){var e=new Date(t);return isNaN(e)?null:e}var jL=+new Date("2000-01-01T00:00:00.000Z")?WL:If(c_);const QL=jL;var Fr=1e3,zr=Fr*60,Br=zr*60,xa=Br*24,KL=xa*7,qp=xa*30,ru=xa*365;function ZL(t){return new Date(t)}function JL(t){return t instanceof Date?+t:+new Date(+t)}function Vf(t,e,n,r,o,s,u,f,h){var p=xy(Jt,Jt),g=p.invert,y=p.domain,m=h(".%L"),x=h(":%S"),w=h("%I:%M"),b=h("%I %p"),A=h("%a %d"),C=h("%b %d"),$=h("%B"),L=h("%Y"),O=[[u,1,Fr],[u,5,5*Fr],[u,15,15*Fr],[u,30,30*Fr],[s,1,zr],[s,5,5*zr],[s,15,15*zr],[s,30,30*zr],[o,1,Br],[o,3,3*Br],[o,6,6*Br],[o,12,12*Br],[r,1,xa],[r,2,2*xa],[n,1,KL],[e,1,qp],[e,3,3*qp],[t,1,ru]];function V(z){return(u(z)<z?m:s(z)<z?x:o(z)<z?w:r(z)<z?b:e(z)<z?n(z)<z?A:C:t(z)<z?$:L)(z)}function B(z,Q,X,T){if(z==null&&(z=10),typeof z=="number"){var q=Math.abs(X-Q)/z,k=Il(function(Y){return Y[2]}).right(O,q);k===O.length?(T=si(Q/ru,X/ru,z),z=t):k?(k=O[q/O[k-1][2]<O[k][2]/q?k-1:k],T=k[1],z=k[0]):(T=Math.max(si(Q,X,z),1),z=f)}return T==null?z:z.every(T)}return p.invert=function(z){return new Date(g(z))},p.domain=function(z){return arguments.length?y(ps.call(z,JL)):y().map(ZL)},p.ticks=function(z,Q){var X=y(),T=X[0],q=X[X.length-1],k=q<T,Y;return k&&(Y=T,T=q,q=Y),Y=B(z,T,q,Q),Y=Y?Y.range(T,q+1):[],k?Y.reverse():Y},p.tickFormat=function(z,Q){return Q==null?V:h(Q)},p.nice=function(z,Q){var X=y();return(z=B(z,X[0],X[X.length-1],Q))?y(Ay(X,z)):p},p.copy=function(){return Ra(p,Vf(t,e,n,r,o,s,u,f,h))},p}function t5(){return je.apply(Vf(mi,Hy,ma,nc,Dy,Ry,vs,ms,Df).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function e5(){return je.apply(Vf(_i,t_,_a,ic,qy,Yy,vs,ms,rc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ac(){var t=0,e=1,n,r,o,s,u=Jt,f=!1,h;function p(g){return isNaN(g=+g)?h:u(o===0?.5:(g=(s(g)-n)*o,f?Math.max(0,Math.min(1,g)):g))}return p.domain=function(g){return arguments.length?(n=s(t=+g[0]),r=s(e=+g[1]),o=n===r?0:1/(r-n),p):[t,e]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u},p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return s=g,n=g(t),r=g(e),o=n===r?0:1/(r-n),p}}function Hn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function u_(){var t=Si(ac()(Jt));return t.copy=function(){return Hn(t,u_())},wn.apply(t,arguments)}function l_(){var t=Mf(ac()).domain([1,10]);return t.copy=function(){return Hn(t,l_()).base(t.base())},wn.apply(t,arguments)}function f_(){var t=$f(ac());return t.copy=function(){return Hn(t,f_()).constant(t.constant())},wn.apply(t,arguments)}function Gf(){var t=Of(ac());return t.copy=function(){return Hn(t,Gf()).exponent(t.exponent())},wn.apply(t,arguments)}function n5(){return Gf.apply(null,arguments).exponent(.5)}function h_(){var t=[],e=Jt;function n(r){if(!isNaN(r=+r))return e((On(t,r)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var o=0,s=r.length,u;o<s;++o)u=r[o],u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Gn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return h_(e).domain(t)},wn.apply(n,arguments)}function oc(){var t=0,e=.5,n=1,r,o,s,u,f,h=Jt,p,g=!1,y;function m(x){return isNaN(x=+x)?y:(x=.5+((x=+p(x))-o)*(x<o?u:f),h(g?Math.max(0,Math.min(1,x)):x))}return m.domain=function(x){return arguments.length?(r=p(t=+x[0]),o=p(e=+x[1]),s=p(n=+x[2]),u=r===o?0:.5/(o-r),f=o===s?0:.5/(s-o),m):[t,e,n]},m.clamp=function(x){return arguments.length?(g=!!x,m):g},m.interpolator=function(x){return arguments.length?(h=x,m):h},m.unknown=function(x){return arguments.length?(y=x,m):y},function(x){return p=x,r=x(t),o=x(e),s=x(n),u=r===o?0:.5/(o-r),f=o===s?0:.5/(s-o),m}}function d_(){var t=Si(oc()(Jt));return t.copy=function(){return Hn(t,d_())},wn.apply(t,arguments)}function p_(){var t=Mf(oc()).domain([.1,1,10]);return t.copy=function(){return Hn(t,p_()).base(t.base())},wn.apply(t,arguments)}function g_(){var t=$f(oc());return t.copy=function(){return Hn(t,g_()).constant(t.constant())},wn.apply(t,arguments)}function Ff(){var t=Of(oc());return t.copy=function(){return Hn(t,Ff()).exponent(t.exponent())},wn.apply(t,arguments)}function i5(){return Ff.apply(null,arguments).exponent(.5)}function Tt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const r5=Tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),a5=Tt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o5=Tt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s5=Tt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),c5=Tt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),u5=Tt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),l5=Tt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),f5=Tt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h5=Tt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),d5=Tt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Nt(t){return I0(t[t.length-1])}var m_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Tt);const p5=Nt(m_);var y_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Tt);const g5=Nt(y_);var __=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Tt);const m5=Nt(__);var v_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Tt);const y5=Nt(v_);var x_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Tt);const _5=Nt(x_);var b_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Tt);const v5=Nt(b_);var w_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Tt);const x5=Nt(w_);var S_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Tt);const b5=Nt(S_);var A_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Tt);const w5=Nt(A_);var T_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Tt);const S5=Nt(T_);var C_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Tt);const A5=Nt(C_);var P_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Tt);const T5=Nt(P_);var E_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Tt);const C5=Nt(E_);var L_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Tt);const P5=Nt(L_);var M_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Tt);const E5=Nt(M_);var $_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Tt);const L5=Nt($_);var O_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Tt);const M5=Nt(O_);var k_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Tt);const $5=Nt(k_);var R_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Tt);const O5=Nt(R_);var N_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Tt);const k5=Nt(N_);var D_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Tt);const R5=Nt(D_);var I_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Tt);const N5=Nt(I_);var V_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Tt);const D5=Nt(V_);var G_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Tt);const I5=Nt(G_);var F_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Tt);const V5=Nt(F_);var z_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Tt);const G5=Nt(z_);var B_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Tt);const F5=Nt(B_);function z5(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const B5=Hs(qe(300,.5,0),qe(-240,.5,1));var H5=Hs(qe(-100,.75,.35),qe(80,1.5,.8)),X5=Hs(qe(260,.75,.35),qe(80,1.5,.8)),oo=qe();function Y5(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return oo.h=360*t-100,oo.s=1.5-1.5*e,oo.l=.8-.9*e,oo+""}var so=ji(),U5=Math.PI/3,q5=Math.PI*2/3;function W5(t){var e;return t=(.5-t)*Math.PI,so.r=255*(e=Math.sin(t))*e,so.g=255*(e=Math.sin(t+U5))*e,so.b=255*(e=Math.sin(t+q5))*e,so+""}function j5(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function sc(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Q5=sc(Tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var K5=sc(Tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Z5=sc(Tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),J5=sc(Tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pt(t){return function(){return t}}var Wp=Math.abs,ee=Math.atan2,Kn=Math.cos,t6=Math.max,au=Math.min,Ze=Math.sin,Ri=Math.sqrt,ne=1e-12,Dn=Math.PI,xs=Dn/2,$n=2*Dn;function e6(t){return t>1?0:t<-1?Dn:Math.acos(t)}function jp(t){return t>=1?xs:t<=-1?-xs:Math.asin(t)}function n6(t){return t.innerRadius}function i6(t){return t.outerRadius}function r6(t){return t.startAngle}function a6(t){return t.endAngle}function o6(t){return t&&t.padAngle}function s6(t,e,n,r,o,s,u,f){var h=n-t,p=r-e,g=u-o,y=f-s,m=y*h-g*p;if(!(m*m<ne))return m=(g*(e-s)-y*(t-o))/m,[t+m*h,e+m*p]}function co(t,e,n,r,o,s,u){var f=t-n,h=e-r,p=(u?s:-s)/Ri(f*f+h*h),g=p*h,y=-p*f,m=t+g,x=e+y,w=n+g,b=r+y,A=(m+w)/2,C=(x+b)/2,$=w-m,L=b-x,O=$*$+L*L,V=o-s,B=m*b-w*x,z=(L<0?-1:1)*Ri(t6(0,V*V*O-B*B)),Q=(B*L-$*z)/O,X=(-B*$-L*z)/O,T=(B*L+$*z)/O,q=(-B*$+L*z)/O,k=Q-A,Y=X-C,J=T-A,U=q-C;return k*k+Y*Y>J*J+U*U&&(Q=T,X=q),{cx:Q,cy:X,x01:-g,y01:-y,x11:Q*(o/V-1),y11:X*(o/V-1)}}function c6(){var t=n6,e=i6,n=Pt(0),r=null,o=r6,s=a6,u=o6,f=null;function h(){var p,g,y=+t.apply(this,arguments),m=+e.apply(this,arguments),x=o.apply(this,arguments)-xs,w=s.apply(this,arguments)-xs,b=Wp(w-x),A=w>x;if(f||(f=p=zn()),m<y&&(g=m,m=y,y=g),!(m>ne))f.moveTo(0,0);else if(b>$n-ne)f.moveTo(m*Kn(x),m*Ze(x)),f.arc(0,0,m,x,w,!A),y>ne&&(f.moveTo(y*Kn(w),y*Ze(w)),f.arc(0,0,y,w,x,A));else{var C=x,$=w,L=x,O=w,V=b,B=b,z=u.apply(this,arguments)/2,Q=z>ne&&(r?+r.apply(this,arguments):Ri(y*y+m*m)),X=au(Wp(m-y)/2,+n.apply(this,arguments)),T=X,q=X,k,Y;if(Q>ne){var J=jp(Q/y*Ze(z)),U=jp(Q/m*Ze(z));(V-=J*2)>ne?(J*=A?1:-1,L+=J,O-=J):(V=0,L=O=(x+w)/2),(B-=U*2)>ne?(U*=A?1:-1,C+=U,$-=U):(B=0,C=$=(x+w)/2)}var K=m*Kn(C),rt=m*Ze(C),ot=y*Kn(O),i=y*Ze(O);if(X>ne){var a=m*Kn($),c=m*Ze($),l=y*Kn(L),d=y*Ze(L),v;if(b<Dn&&(v=s6(K,rt,l,d,a,c,ot,i))){var S=K-v[0],P=rt-v[1],R=a-v[0],M=c-v[1],N=1/Ze(e6((S*R+P*M)/(Ri(S*S+P*P)*Ri(R*R+M*M)))/2),D=Ri(v[0]*v[0]+v[1]*v[1]);T=au(X,(y-D)/(N-1)),q=au(X,(m-D)/(N+1))}}B>ne?q>ne?(k=co(l,d,K,rt,m,q,A),Y=co(a,c,ot,i,m,q,A),f.moveTo(k.cx+k.x01,k.cy+k.y01),q<X?f.arc(k.cx,k.cy,q,ee(k.y01,k.x01),ee(Y.y01,Y.x01),!A):(f.arc(k.cx,k.cy,q,ee(k.y01,k.x01),ee(k.y11,k.x11),!A),f.arc(0,0,m,ee(k.cy+k.y11,k.cx+k.x11),ee(Y.cy+Y.y11,Y.cx+Y.x11),!A),f.arc(Y.cx,Y.cy,q,ee(Y.y11,Y.x11),ee(Y.y01,Y.x01),!A))):(f.moveTo(K,rt),f.arc(0,0,m,C,$,!A)):f.moveTo(K,rt),!(y>ne)||!(V>ne)?f.lineTo(ot,i):T>ne?(k=co(ot,i,a,c,y,-T,A),Y=co(K,rt,l,d,y,-T,A),f.lineTo(k.cx+k.x01,k.cy+k.y01),T<X?f.arc(k.cx,k.cy,T,ee(k.y01,k.x01),ee(Y.y01,Y.x01),!A):(f.arc(k.cx,k.cy,T,ee(k.y01,k.x01),ee(k.y11,k.x11),!A),f.arc(0,0,y,ee(k.cy+k.y11,k.cx+k.x11),ee(Y.cy+Y.y11,Y.cx+Y.x11),A),f.arc(Y.cx,Y.cy,T,ee(Y.y11,Y.x11),ee(Y.y01,Y.x01),!A))):f.arc(0,0,y,O,L,A)}if(f.closePath(),p)return f=null,p+""||null}return h.centroid=function(){var p=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Dn/2;return[Kn(g)*p,Ze(g)*p]},h.innerRadius=function(p){return arguments.length?(t=typeof p=="function"?p:Pt(+p),h):t},h.outerRadius=function(p){return arguments.length?(e=typeof p=="function"?p:Pt(+p),h):e},h.cornerRadius=function(p){return arguments.length?(n=typeof p=="function"?p:Pt(+p),h):n},h.padRadius=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Pt(+p),h):r},h.startAngle=function(p){return arguments.length?(o=typeof p=="function"?p:Pt(+p),h):o},h.endAngle=function(p){return arguments.length?(s=typeof p=="function"?p:Pt(+p),h):s},h.padAngle=function(p){return arguments.length?(u=typeof p=="function"?p:Pt(+p),h):u},h.context=function(p){return arguments.length?(f=p??null,h):f},h}function H_(t){this._context=t}H_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cc(t){return new H_(t)}function zf(t){return t[0]}function Bf(t){return t[1]}function Hf(){var t=zf,e=Bf,n=Pt(!0),r=null,o=cc,s=null;function u(f){var h,p=f.length,g,y=!1,m;for(r==null&&(s=o(m=zn())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,h,f),+e(g,h,f));if(m)return s=null,m+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Pt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Pt(!!f),u):n},u.curve=function(f){return arguments.length?(o=f,r!=null&&(s=o(r)),u):o},u.context=function(f){return arguments.length?(f==null?r=s=null:s=o(r=f),u):r},u}function X_(){var t=zf,e=null,n=Pt(0),r=Bf,o=Pt(!0),s=null,u=cc,f=null;function h(g){var y,m,x,w=g.length,b,A=!1,C,$=new Array(w),L=new Array(w);for(s==null&&(f=u(C=zn())),y=0;y<=w;++y){if(!(y<w&&o(b=g[y],y,g))===A)if(A=!A)m=y,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),x=y-1;x>=m;--x)f.point($[x],L[x]);f.lineEnd(),f.areaEnd()}A&&($[y]=+t(b,y,g),L[y]=+n(b,y,g),f.point(e?+e(b,y,g):$[y],r?+r(b,y,g):L[y]))}if(C)return f=null,C+""||null}function p(){return Hf().defined(o).curve(u).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Pt(+g),e=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Pt(+g),h):t},h.x1=function(g){return arguments.length?(e=g==null?null:typeof g=="function"?g:Pt(+g),h):e},h.y=function(g){return arguments.length?(n=typeof g=="function"?g:Pt(+g),r=null,h):n},h.y0=function(g){return arguments.length?(n=typeof g=="function"?g:Pt(+g),h):n},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Pt(+g),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(n)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(e).y(n)},h.defined=function(g){return arguments.length?(o=typeof g=="function"?g:Pt(!!g),h):o},h.curve=function(g){return arguments.length?(u=g,s!=null&&(f=u(s)),h):u},h.context=function(g){return arguments.length?(g==null?s=f=null:f=u(s=g),h):s},h}function u6(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function l6(t){return t}function f6(){var t=l6,e=u6,n=null,r=Pt(0),o=Pt($n),s=Pt(0);function u(f){var h,p=f.length,g,y,m=0,x=new Array(p),w=new Array(p),b=+r.apply(this,arguments),A=Math.min($n,Math.max(-$n,o.apply(this,arguments)-b)),C,$=Math.min(Math.abs(A)/p,s.apply(this,arguments)),L=$*(A<0?-1:1),O;for(h=0;h<p;++h)(O=w[x[h]=h]=+t(f[h],h,f))>0&&(m+=O);for(e!=null?x.sort(function(V,B){return e(w[V],w[B])}):n!=null&&x.sort(function(V,B){return n(f[V],f[B])}),h=0,y=m?(A-p*L)/m:0;h<p;++h,b=C)g=x[h],O=w[g],C=b+(O>0?O*y:0)+L,w[g]={data:f[g],index:h,value:O,startAngle:b,endAngle:C,padAngle:$};return w}return u.value=function(f){return arguments.length?(t=typeof f=="function"?f:Pt(+f),u):t},u.sortValues=function(f){return arguments.length?(e=f,n=null,u):e},u.sort=function(f){return arguments.length?(n=f,e=null,u):n},u.startAngle=function(f){return arguments.length?(r=typeof f=="function"?f:Pt(+f),u):r},u.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:Pt(+f),u):o},u.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:Pt(+f),u):s},u}var Y_=Xf(cc);function U_(t){this._curve=t}U_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Xf(t){function e(n){return new U_(t(n))}return e._curve=t,e}function Hr(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(Xf(n)):e()._curve},t}function Qp(){return Hr(Hf().curve(Y_))}function Kp(){var t=X_().curve(Y_),e=t.curve,n=t.lineX0,r=t.lineX1,o=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Hr(n())},delete t.lineX0,t.lineEndAngle=function(){return Hr(r())},delete t.lineX1,t.lineInnerRadius=function(){return Hr(o())},delete t.lineY0,t.lineOuterRadius=function(){return Hr(s())},delete t.lineY1,t.curve=function(u){return arguments.length?e(Xf(u)):e()._curve},t}function Xr(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var dl=Array.prototype.slice;function h6(t){return t.source}function d6(t){return t.target}function Yf(t){var e=h6,n=d6,r=zf,o=Bf,s=null;function u(){var f,h=dl.call(arguments),p=e.apply(this,h),g=n.apply(this,h);if(s||(s=f=zn()),t(s,+r.apply(this,(h[0]=p,h)),+o.apply(this,h),+r.apply(this,(h[0]=g,h)),+o.apply(this,h)),f)return s=null,f+""||null}return u.source=function(f){return arguments.length?(e=f,u):e},u.target=function(f){return arguments.length?(n=f,u):n},u.x=function(f){return arguments.length?(r=typeof f=="function"?f:Pt(+f),u):r},u.y=function(f){return arguments.length?(o=typeof f=="function"?f:Pt(+f),u):o},u.context=function(f){return arguments.length?(s=f??null,u):s},u}function p6(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,o,r,o)}function g6(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+o)/2,r,n,r,o)}function m6(t,e,n,r,o){var s=Xr(e,n),u=Xr(e,n=(n+o)/2),f=Xr(r,n),h=Xr(r,o);t.moveTo(s[0],s[1]),t.bezierCurveTo(u[0],u[1],f[0],f[1],h[0],h[1])}function y6(){return Yf(p6)}function _6(){return Yf(g6)}function v6(){var t=Yf(m6);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Uf={draw:function(t,e){var n=Math.sqrt(e/Dn);t.moveTo(n,0),t.arc(0,0,n,0,$n)}},q_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var W_=Math.sqrt(1/3),x6=W_*2;const j_={draw:function(t,e){var n=Math.sqrt(e/x6),r=n*W_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var b6=.8908130915292852,Q_=Math.sin(Dn/10)/Math.sin(7*Dn/10),w6=Math.sin($n/10)*Q_,S6=-Math.cos($n/10)*Q_;const K_={draw:function(t,e){var n=Math.sqrt(e*b6),r=w6*n,o=S6*n;t.moveTo(0,-n),t.lineTo(r,o);for(var s=1;s<5;++s){var u=$n*s/5,f=Math.cos(u),h=Math.sin(u);t.lineTo(h*n,-f*n),t.lineTo(f*r-h*o,h*r+f*o)}t.closePath()}},Z_={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var ou=Math.sqrt(3);const J_={draw:function(t,e){var n=-Math.sqrt(e/(ou*3));t.moveTo(0,n*2),t.lineTo(-ou*n,-n),t.lineTo(ou*n,-n),t.closePath()}};var Oe=-.5,ke=Math.sqrt(3)/2,pl=1/Math.sqrt(12),A6=(pl/2+1)*3;const tv={draw:function(t,e){var n=Math.sqrt(e/A6),r=n/2,o=n*pl,s=r,u=n*pl+n,f=-s,h=u;t.moveTo(r,o),t.lineTo(s,u),t.lineTo(f,h),t.lineTo(Oe*r-ke*o,ke*r+Oe*o),t.lineTo(Oe*s-ke*u,ke*s+Oe*u),t.lineTo(Oe*f-ke*h,ke*f+Oe*h),t.lineTo(Oe*r+ke*o,Oe*o-ke*r),t.lineTo(Oe*s+ke*u,Oe*u-ke*s),t.lineTo(Oe*f+ke*h,Oe*h-ke*f),t.closePath()}};var T6=[Uf,q_,j_,Z_,K_,J_,tv];function C6(){var t=Pt(Uf),e=Pt(64),n=null;function r(){var o;if(n||(n=o=zn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return r.type=function(o){return arguments.length?(t=typeof o=="function"?o:Pt(o),r):t},r.size=function(o){return arguments.length?(e=typeof o=="function"?o:Pt(+o),r):e},r.context=function(o){return arguments.length?(n=o??null,r):n},r}function In(){}function bs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uc(t){this._context=t}uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function P6(t){return new uc(t)}function ev(t){this._context=t}ev.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E6(t){return new ev(t)}function nv(t){this._context=t}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:bs(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L6(t){return new nv(t)}function iv(t,e){this._basis=new uc(t),this._beta=e}iv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],s=t[n]-r,u=e[n]-o,f=-1,h;++f<=n;)h=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+h*s),this._beta*e[f]+(1-this._beta)*(o+h*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const M6=function t(e){function n(r){return e===1?new uc(r):new iv(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function ws(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function qf(t,e){this._context=t,this._k=(1-e)/6}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ws(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ws(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $6=function t(e){function n(r){return new qf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Wf(t,e){this._context=t,this._k=(1-e)/6}Wf.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ws(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const O6=function t(e){function n(r){return new Wf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function jf(t,e){this._context=t,this._k=(1-e)/6}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ws(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const k6=function t(e){function n(r){return new jf(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Qf(t,e,n){var r=t._x1,o=t._y1,s=t._x2,u=t._y2;if(t._l01_a>ne){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>ne){var p=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*p+t._x1*t._l23_2a-e*t._l12_2a)/g,u=(u*p+t._y1*t._l23_2a-n*t._l12_2a)/g}t._context.bezierCurveTo(r,o,s,u,t._x2,t._y2)}function rv(t,e){this._context=t,this._alpha=e}rv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Qf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const R6=function t(e){function n(r){return e?new rv(r,e):new qf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function av(t,e){this._context=t,this._alpha=e}av.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Qf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const N6=function t(e){function n(r){return e?new av(r,e):new Wf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ov(t,e){this._context=t,this._alpha=e}ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D6=function t(e){function n(r){return e?new ov(r,e):new jf(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function sv(t){this._context=t}sv.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function I6(t){return new sv(t)}function Zp(t){return t<0?-1:1}function Jp(t,e,n){var r=t._x1-t._x0,o=e-t._x1,s=(t._y1-t._y0)/(r||o<0&&-0),u=(n-t._y1)/(o||r<0&&-0),f=(s*o+u*r)/(r+o);return(Zp(s)+Zp(u))*Math.min(Math.abs(s),Math.abs(u),.5*Math.abs(f))||0}function tg(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function su(t,e,n){var r=t._x0,o=t._y0,s=t._x1,u=t._y1,f=(s-r)/3;t._context.bezierCurveTo(r+f,o+f*e,s-f,u-f*n,s,u)}function Ss(t){this._context=t}Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:su(this,this._t0,tg(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,su(this,tg(this,n=Jp(this,t,e)),n);break;default:su(this,this._t0,n=Jp(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cv(t){this._context=new uv(t)}(cv.prototype=Object.create(Ss.prototype)).point=function(t,e){Ss.prototype.point.call(this,e,t)};function uv(t){this._context=t}uv.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,s){this._context.bezierCurveTo(e,t,r,n,s,o)}};function V6(t){return new Ss(t)}function G6(t){return new cv(t)}function lv(t){this._context=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=eg(t),o=eg(e),s=0,u=1;u<n;++s,++u)this._context.bezierCurveTo(r[0][s],o[0][s],r[1][s],o[1][s],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eg(t){var e,n=t.length-1,r,o=new Array(n),s=new Array(n),u=new Array(n);for(o[0]=0,s[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,s[e]=4,u[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,s[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/s[e-1],s[e]-=r,u[e]-=r*u[e-1];for(o[n-1]=u[n-1]/s[n-1],e=n-2;e>=0;--e)o[e]=(u[e]-o[e+1])/s[e];for(s[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-o[e+1];return[o,s]}function F6(t){return new lv(t)}function lc(t,e){this._context=t,this._t=e}lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function z6(t){return new lc(t,.5)}function B6(t){return new lc(t,0)}function H6(t){return new lc(t,1)}function ir(t,e){if((u=t.length)>1)for(var n=1,r,o,s=t[e[0]],u,f=s.length;n<u;++n)for(o=s,s=t[e[n]],r=0;r<f;++r)s[r][1]+=s[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function rr(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function X6(t,e){return t[e]}function Y6(){var t=Pt([]),e=rr,n=ir,r=X6;function o(s){var u=t.apply(this,arguments),f,h=s.length,p=u.length,g=new Array(p),y;for(f=0;f<p;++f){for(var m=u[f],x=g[f]=new Array(h),w=0,b;w<h;++w)x[w]=b=[0,+r(s[w],m,w,s)],b.data=s[w];x.key=m}for(f=0,y=e(g);f<p;++f)g[y[f]].index=f;return n(g,y),g}return o.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pt(dl.call(s)),o):t},o.value=function(s){return arguments.length?(r=typeof s=="function"?s:Pt(+s),o):r},o.order=function(s){return arguments.length?(e=s==null?rr:typeof s=="function"?s:Pt(dl.call(s)),o):e},o.offset=function(s){return arguments.length?(n=s??ir,o):n},o}function U6(t,e){if((r=t.length)>0){for(var n,r,o=0,s=t[0].length,u;o<s;++o){for(u=n=0;n<r;++n)u+=t[n][o][1]||0;if(u)for(n=0;n<r;++n)t[n][o][1]/=u}ir(t,e)}}function q6(t,e){if((h=t.length)>0)for(var n,r=0,o,s,u,f,h,p=t[e[0]].length;r<p;++r)for(u=f=0,n=0;n<h;++n)(s=(o=t[e[n]][r])[1]-o[0])>0?(o[0]=u,o[1]=u+=s):s<0?(o[1]=f,o[0]=f+=s):(o[0]=0,o[1]=s)}function W6(t,e){if((o=t.length)>0){for(var n=0,r=t[e[0]],o,s=r.length;n<s;++n){for(var u=0,f=0;u<o;++u)f+=t[u][n][1]||0;r[n][1]+=r[n][0]=-f/2}ir(t,e)}}function j6(t,e){if(!(!((u=t.length)>0)||!((s=(o=t[e[0]]).length)>0))){for(var n=0,r=1,o,s,u;r<s;++r){for(var f=0,h=0,p=0;f<u;++f){for(var g=t[e[f]],y=g[r][1]||0,m=g[r-1][1]||0,x=(y-m)/2,w=0;w<f;++w){var b=t[e[w]],A=b[r][1]||0,C=b[r-1][1]||0;x+=A-C}h+=y,p+=x*y}o[r-1][1]+=o[r-1][0]=n,h&&(n-=p/h)}o[r-1][1]+=o[r-1][0]=n,ir(t,e)}}function fv(t){var e=t.map(Q6);return rr(t).sort(function(n,r){return e[n]-e[r]})}function Q6(t){for(var e=-1,n=0,r=t.length,o,s=-1/0;++e<r;)(o=+t[e][1])>s&&(s=o,n=e);return n}function hv(t){var e=t.map(dv);return rr(t).sort(function(n,r){return e[n]-e[r]})}function dv(t){for(var e=0,n=-1,r=t.length,o;++n<r;)(o=+t[n][1])&&(e+=o);return e}function K6(t){return hv(t).reverse()}function Z6(t){var e=t.length,n,r,o=t.map(dv),s=fv(t),u=0,f=0,h=[],p=[];for(n=0;n<e;++n)r=s[n],u<f?(u+=o[r],h.push(r)):(f+=o[r],p.push(r));return p.reverse().concat(h)}function J6(t){return rr(t).reverse()}function ng(t){return function(){return t}}function t8(t){return t[0]}function e8(t){return t[1]}function As(){this._=null}function fc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}As.prototype={constructor:As,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ig(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Cr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Pr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Pr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Cr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,o=t.R,s,u;if(r?o?s=ig(o):s=r:s=o,e?e.L===t?e.L=s:e.R=s:this._=s,r&&o?(u=s.C,s.C=t.C,s.L=r,r.U=s,s!==o?(e=s.U,s.U=t.U,t=s.R,e.L=t,s.R=o,o.U=s):(s.U=e,e=s,t=s.R)):(u=t.C,t=s),t&&(t.U=e),!u){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,Cr(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Pr(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,Cr(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,Pr(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Cr(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,Pr(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function Cr(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Pr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ig(t){for(;t.L;)t=t.L;return t}function Yr(t,e,n,r){var o=[null,null],s=ie.push(o)-1;return o.left=t,o.right=e,n&&Ts(o,t,e,n),r&&Ts(o,e,t,r),Ce[t.index].halfedges.push(s),Ce[e.index].halfedges.push(s),o}function Er(t,e,n){var r=[e,n];return r.left=t,r}function Ts(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function n8(t,e,n,r,o){var s=t[0],u=t[1],f=s[0],h=s[1],p=u[0],g=u[1],y=0,m=1,x=p-f,w=g-h,b;if(b=e-f,!(!x&&b>0)){if(b/=x,x<0){if(b<y)return;b<m&&(m=b)}else if(x>0){if(b>m)return;b>y&&(y=b)}if(b=r-f,!(!x&&b<0)){if(b/=x,x<0){if(b>m)return;b>y&&(y=b)}else if(x>0){if(b<y)return;b<m&&(m=b)}if(b=n-h,!(!w&&b>0)){if(b/=w,w<0){if(b<y)return;b<m&&(m=b)}else if(w>0){if(b>m)return;b>y&&(y=b)}if(b=o-h,!(!w&&b<0)){if(b/=w,w<0){if(b>m)return;b>y&&(y=b)}else if(w>0){if(b<y)return;b<m&&(m=b)}return!(y>0)&&!(m<1)||(y>0&&(t[0]=[f+y*x,h+y*w]),m<1&&(t[1]=[f+m*x,h+m*w])),!0}}}}}function i8(t,e,n,r,o){var s=t[1];if(s)return!0;var u=t[0],f=t.left,h=t.right,p=f[0],g=f[1],y=h[0],m=h[1],x=(p+y)/2,w=(g+m)/2,b,A;if(m===g){if(x<e||x>=r)return;if(p>y){if(!u)u=[x,n];else if(u[1]>=o)return;s=[x,o]}else{if(!u)u=[x,o];else if(u[1]<n)return;s=[x,n]}}else if(b=(p-y)/(m-g),A=w-b*x,b<-1||b>1)if(p>y){if(!u)u=[(n-A)/b,n];else if(u[1]>=o)return;s=[(o-A)/b,o]}else{if(!u)u=[(o-A)/b,o];else if(u[1]<n)return;s=[(n-A)/b,n]}else if(g<m){if(!u)u=[e,b*e+A];else if(u[0]>=r)return;s=[r,b*r+A]}else{if(!u)u=[r,b*r+A];else if(u[0]<e)return;s=[e,b*e+A]}return t[0]=u,t[1]=s,!0}function r8(t,e,n,r){for(var o=ie.length,s;o--;)(!i8(s=ie[o],t,e,n,r)||!n8(s,t,e,n,r)||!(Math.abs(s[0][0]-s[1][0])>kt||Math.abs(s[0][1]-s[1][1])>kt))&&delete ie[o]}function a8(t){return Ce[t.index]={site:t,halfedges:[]}}function o8(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function pv(t,e){return e[+(e.left!==t.site)]}function s8(t,e){return e[+(e.left===t.site)]}function c8(){for(var t=0,e=Ce.length,n,r,o,s;t<e;++t)if((n=Ce[t])&&(s=(r=n.halfedges).length)){var u=new Array(s),f=new Array(s);for(o=0;o<s;++o)u[o]=o,f[o]=o8(n,ie[r[o]]);for(u.sort(function(h,p){return f[p]-f[h]}),o=0;o<s;++o)f[o]=r[u[o]];for(o=0;o<s;++o)r[o]=f[o]}}function u8(t,e,n,r){var o=Ce.length,s,u,f,h,p,g,y,m,x,w,b,A,C=!0;for(s=0;s<o;++s)if(u=Ce[s]){for(f=u.site,p=u.halfedges,h=p.length;h--;)ie[p[h]]||p.splice(h,1);for(h=0,g=p.length;h<g;)w=s8(u,ie[p[h]]),b=w[0],A=w[1],y=pv(u,ie[p[++h%g]]),m=y[0],x=y[1],(Math.abs(b-m)>kt||Math.abs(A-x)>kt)&&(p.splice(h,0,ie.push(Er(f,w,Math.abs(b-t)<kt&&r-A>kt?[t,Math.abs(m-t)<kt?x:r]:Math.abs(A-r)<kt&&n-b>kt?[Math.abs(x-r)<kt?m:n,r]:Math.abs(b-n)<kt&&A-e>kt?[n,Math.abs(m-n)<kt?x:e]:Math.abs(A-e)<kt&&b-t>kt?[Math.abs(x-e)<kt?m:t,e]:null))-1),++g);g&&(C=!1)}if(C){var $,L,O,V=1/0;for(s=0,C=null;s<o;++s)(u=Ce[s])&&(f=u.site,$=f[0]-t,L=f[1]-e,O=$*$+L*L,O<V&&(V=O,C=u));if(C){var B=[t,e],z=[t,r],Q=[n,r],X=[n,e];C.halfedges.push(ie.push(Er(f=C.site,B,z))-1,ie.push(Er(f,z,Q))-1,ie.push(Er(f,Q,X))-1,ie.push(Er(f,X,B))-1)}}for(s=0;s<o;++s)(u=Ce[s])&&(u.halfedges.length||delete Ce[s])}var gv=[],Kf;function l8(){fc(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ni(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,o=t.site,s=n.site;if(r!==s){var u=o[0],f=o[1],h=r[0]-u,p=r[1]-f,g=s[0]-u,y=s[1]-f,m=2*(h*y-p*g);if(!(m>=-g8)){var x=h*h+p*p,w=g*g+y*y,b=(y*x-p*w)/m,A=(h*w-g*x)/m,C=gv.pop()||new l8;C.arc=t,C.site=o,C.x=b+u,C.y=(C.cy=A+f)+Math.sqrt(b*b+A*A),t.circle=C;for(var $=null,L=ba._;L;)if(C.y<L.y||C.y===L.y&&C.x<=L.x)if(L.L)L=L.L;else{$=L.P;break}else if(L.R)L=L.R;else{$=L;break}ba.insert($,C),$||(Kf=C)}}}}function Fi(t){var e=t.circle;e&&(e.P||(Kf=e.N),ba.remove(e),gv.push(e),fc(e),t.circle=null)}var mv=[];function f8(){fc(this),this.edge=this.site=this.circle=null}function rg(t){var e=mv.pop()||new f8;return e.site=t,e}function cu(t){Fi(t),zi.remove(t),mv.push(t),fc(t)}function h8(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],s=t.P,u=t.N,f=[t];cu(t);for(var h=s;h.circle&&Math.abs(n-h.circle.x)<kt&&Math.abs(r-h.circle.cy)<kt;)s=h.P,f.unshift(h),cu(h),h=s;f.unshift(h),Fi(h);for(var p=u;p.circle&&Math.abs(n-p.circle.x)<kt&&Math.abs(r-p.circle.cy)<kt;)u=p.N,f.push(p),cu(p),p=u;f.push(p),Fi(p);var g=f.length,y;for(y=1;y<g;++y)p=f[y],h=f[y-1],Ts(p.edge,h.site,p.site,o);h=f[0],p=f[g-1],p.edge=Yr(h.site,p.site,null,o),Ni(h),Ni(p)}function d8(t){for(var e=t[0],n=t[1],r,o,s,u,f=zi._;f;)if(s=yv(f,n)-e,s>kt)f=f.L;else if(u=e-p8(f,n),u>kt){if(!f.R){r=f;break}f=f.R}else{s>-kt?(r=f.P,o=f):u>-kt?(r=f,o=f.N):r=o=f;break}a8(t);var h=rg(t);if(zi.insert(r,h),!(!r&&!o)){if(r===o){Fi(r),o=rg(r.site),zi.insert(h,o),h.edge=o.edge=Yr(r.site,h.site),Ni(r),Ni(o);return}if(!o){h.edge=Yr(r.site,h.site);return}Fi(r),Fi(o);var p=r.site,g=p[0],y=p[1],m=t[0]-g,x=t[1]-y,w=o.site,b=w[0]-g,A=w[1]-y,C=2*(m*A-x*b),$=m*m+x*x,L=b*b+A*A,O=[(A*$-x*L)/C+g,(m*L-b*$)/C+y];Ts(o.edge,p,w,O),h.edge=Yr(p,t,null,O),o.edge=Yr(t,w,null,O),Ni(r),Ni(o)}}function yv(t,e){var n=t.site,r=n[0],o=n[1],s=o-e;if(!s)return r;var u=t.P;if(!u)return-1/0;n=u.site;var f=n[0],h=n[1],p=h-e;if(!p)return f;var g=f-r,y=1/s-1/p,m=g/p;return y?(-m+Math.sqrt(m*m-2*y*(g*g/(-2*p)-h+p/2+o-s/2)))/y+r:(r+f)/2}function p8(t,e){var n=t.N;if(n)return yv(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var kt=1e-6,g8=1e-12,zi,Ce,ba,ie;function m8(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function y8(t,e){return e[1]-t[1]||e[0]-t[0]}function gl(t,e){var n=t.sort(y8).pop(),r,o,s;for(ie=[],Ce=new Array(t.length),zi=new As,ba=new As;;)if(s=Kf,n&&(!s||n[1]<s.y||n[1]===s.y&&n[0]<s.x))(n[0]!==r||n[1]!==o)&&(d8(n),r=n[0],o=n[1]),n=t.pop();else if(s)h8(s.arc);else break;if(c8(),e){var u=+e[0][0],f=+e[0][1],h=+e[1][0],p=+e[1][1];r8(u,f,h,p),u8(u,f,h,p)}this.edges=ie,this.cells=Ce,zi=ba=ie=Ce=null}gl.prototype={constructor:gl,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return pv(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(f=(s=n.halfedges).length)for(var o=n.site,s,u=-1,f,h,p=e[s[f-1]],g=p.left===o?p.right:p.left;++u<f;)h=g,p=e[s[u]],g=p.left===o?p.right:p.left,h&&g&&r<h.index&&r<g.index&&m8(o,h,g)<0&&t.push([o.data,h.data,g.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,o,s=r._found||0,u=r.cells.length,f;!(f=r.cells[s]);)if(++s>=u)return null;var h=t-f.site[0],p=e-f.site[1],g=h*h+p*p;do f=r.cells[o=s],s=null,f.halfedges.forEach(function(y){var m=r.edges[y],x=m.left;if(!((x===f.site||!x)&&!(x=m.right))){var w=t-x[0],b=e-x[1],A=w*w+b*b;A<g&&(g=A,s=x.index)}});while(s!==null);return r._found=o,n==null||g<=n*n?f.site:null}};function _8(){var t=t8,e=e8,n=null;function r(o){return new gl(o.map(function(s,u){var f=[Math.round(t(s,u,o)/kt)*kt,Math.round(e(s,u,o)/kt)*kt];return f.index=u,f.data=s,f}),n)}return r.polygons=function(o){return r(o).polygons()},r.links=function(o){return r(o).links()},r.triangles=function(o){return r(o).triangles()},r.x=function(o){return arguments.length?(t=typeof o=="function"?o:ng(+o),r):t},r.y=function(o){return arguments.length?(e=typeof o=="function"?o:ng(+o),r):e},r.extent=function(o){return arguments.length?(n=o==null?null:[[+o[0][0],+o[0][1]],[+o[1][0],+o[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(o){return arguments.length?(n=o==null?null:[[0,0],[+o[0],+o[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function uo(t){return function(){return t}}function v8(t,e,n){this.target=t,this.type=e,this.transform=n}function mn(t,e,n){this.k=t,this.x=e,this.y=n}mn.prototype={constructor:mn,scale:function(t){return t===1?this:new mn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new mn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hc=new mn(1,0,0);_v.prototype=mn.prototype;function _v(t){for(;!t.__zoom;)if(!(t=t.parentNode))return hc;return t.__zoom}function uu(){ct.stopImmediatePropagation()}function Lr(){ct.preventDefault(),ct.stopImmediatePropagation()}function x8(){return!ct.ctrlKey&&!ct.button}function b8(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function ag(){return this.__zoom||hc}function w8(){return-ct.deltaY*(ct.deltaMode===1?.05:ct.deltaMode?1:.002)}function S8(){return navigator.maxTouchPoints||"ontouchstart"in this}function A8(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),u>s?(s+u)/2:Math.min(0,s)||Math.max(0,u))}function T8(){var t=x8,e=b8,n=A8,r=w8,o=S8,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,h=q0,p=vi("start","zoom","end"),g,y,m=500,x=150,w=0;function b(k){k.property("__zoom",ag).on("wheel.zoom",B).on("mousedown.zoom",z).on("dblclick.zoom",Q).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(k,Y,J){var U=k.selection?k.selection():k;U.property("__zoom",ag),k!==U?L(k,Y,J):U.interrupt().each(function(){O(this,arguments).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},b.scaleBy=function(k,Y,J){b.scaleTo(k,function(){var U=this.__zoom.k,K=typeof Y=="function"?Y.apply(this,arguments):Y;return U*K},J)},b.scaleTo=function(k,Y,J){b.transform(k,function(){var U=e.apply(this,arguments),K=this.__zoom,rt=J==null?$(U):typeof J=="function"?J.apply(this,arguments):J,ot=K.invert(rt),i=typeof Y=="function"?Y.apply(this,arguments):Y;return n(C(A(K,i),rt,ot),U,u)},J)},b.translateBy=function(k,Y,J){b.transform(k,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof J=="function"?J.apply(this,arguments):J),e.apply(this,arguments),u)})},b.translateTo=function(k,Y,J,U){b.transform(k,function(){var K=e.apply(this,arguments),rt=this.__zoom,ot=U==null?$(K):typeof U=="function"?U.apply(this,arguments):U;return n(hc.translate(ot[0],ot[1]).scale(rt.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof J=="function"?-J.apply(this,arguments):-J),K,u)},U)};function A(k,Y){return Y=Math.max(s[0],Math.min(s[1],Y)),Y===k.k?k:new mn(Y,k.x,k.y)}function C(k,Y,J){var U=Y[0]-J[0]*k.k,K=Y[1]-J[1]*k.k;return U===k.x&&K===k.y?k:new mn(k.k,U,K)}function $(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function L(k,Y,J){k.on("start.zoom",function(){O(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).end()}).tween("zoom",function(){var U=this,K=arguments,rt=O(U,K),ot=e.apply(U,K),i=J==null?$(ot):typeof J=="function"?J.apply(U,K):J,a=Math.max(ot[1][0]-ot[0][0],ot[1][1]-ot[0][1]),c=U.__zoom,l=typeof Y=="function"?Y.apply(U,K):Y,d=h(c.invert(i).concat(a/c.k),l.invert(i).concat(a/l.k));return function(v){if(v===1)v=l;else{var S=d(v),P=a/S[2];v=new mn(P,i[0]-S[0]*P,i[1]-S[1]*P)}rt.zoom(null,v)}})}function O(k,Y,J){return!J&&k.__zooming||new V(k,Y)}function V(k,Y){this.that=k,this.args=Y,this.active=0,this.extent=e.apply(k,Y),this.taps=0}V.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,Y){return this.mouse&&k!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){ia(new v8(b,k,this.that.__zoom),p.apply,p,[k,this.that,this.args])}};function B(){if(!t.apply(this,arguments))return;var k=O(this,arguments),Y=this.__zoom,J=Math.max(s[0],Math.min(s[1],Y.k*Math.pow(2,r.apply(this,arguments)))),U=ei(this);if(k.wheel)(k.mouse[0][0]!==U[0]||k.mouse[0][1]!==U[1])&&(k.mouse[1]=Y.invert(k.mouse[0]=U)),clearTimeout(k.wheel);else{if(Y.k===J)return;k.mouse=[U,Y.invert(U)],ri(this),k.start()}Lr(),k.wheel=setTimeout(K,x),k.zoom("mouse",n(C(A(Y,J),k.mouse[0],k.mouse[1]),k.extent,u));function K(){k.wheel=null,k.end()}}function z(){if(y||!t.apply(this,arguments))return;var k=O(this,arguments,!0),Y=be(ct.view).on("mousemove.zoom",rt,!0).on("mouseup.zoom",ot,!0),J=ei(this),U=ct.clientX,K=ct.clientY;Vs(ct.view),uu(),k.mouse=[J,this.__zoom.invert(J)],ri(this),k.start();function rt(){if(Lr(),!k.moved){var i=ct.clientX-U,a=ct.clientY-K;k.moved=i*i+a*a>w}k.zoom("mouse",n(C(k.that.__zoom,k.mouse[0]=ei(k.that),k.mouse[1]),k.extent,u))}function ot(){Y.on("mousemove.zoom mouseup.zoom",null),Gs(ct.view,k.moved),Lr(),k.end()}}function Q(){if(t.apply(this,arguments)){var k=this.__zoom,Y=ei(this),J=k.invert(Y),U=k.k*(ct.shiftKey?.5:2),K=n(C(A(k,U),Y,J),e.apply(this,arguments),u);Lr(),f>0?be(this).transition().duration(f).call(L,K,Y):be(this).call(b.transform,K)}}function X(){if(t.apply(this,arguments)){var k=ct.touches,Y=k.length,J=O(this,arguments,ct.changedTouches.length===Y),U,K,rt,ot;for(uu(),K=0;K<Y;++K)rt=k[K],ot=ra(this,k,rt.identifier),ot=[ot,this.__zoom.invert(ot),rt.identifier],J.touch0?!J.touch1&&J.touch0[2]!==ot[2]&&(J.touch1=ot,J.taps=0):(J.touch0=ot,U=!0,J.taps=1+!!g);g&&(g=clearTimeout(g)),U&&(J.taps<2&&(g=setTimeout(function(){g=null},m)),ri(this),J.start())}}function T(){if(this.__zooming){var k=O(this,arguments),Y=ct.changedTouches,J=Y.length,U,K,rt,ot;for(Lr(),g&&(g=clearTimeout(g)),k.taps=0,U=0;U<J;++U)K=Y[U],rt=ra(this,Y,K.identifier),k.touch0&&k.touch0[2]===K.identifier?k.touch0[0]=rt:k.touch1&&k.touch1[2]===K.identifier&&(k.touch1[0]=rt);if(K=k.that.__zoom,k.touch1){var i=k.touch0[0],a=k.touch0[1],c=k.touch1[0],l=k.touch1[1],d=(d=c[0]-i[0])*d+(d=c[1]-i[1])*d,v=(v=l[0]-a[0])*v+(v=l[1]-a[1])*v;K=A(K,Math.sqrt(d/v)),rt=[(i[0]+c[0])/2,(i[1]+c[1])/2],ot=[(a[0]+l[0])/2,(a[1]+l[1])/2]}else if(k.touch0)rt=k.touch0[0],ot=k.touch0[1];else return;k.zoom("touch",n(C(K,rt,ot),k.extent,u))}}function q(){if(this.__zooming){var k=O(this,arguments),Y=ct.changedTouches,J=Y.length,U,K;for(uu(),y&&clearTimeout(y),y=setTimeout(function(){y=null},m),U=0;U<J;++U)K=Y[U],k.touch0&&k.touch0[2]===K.identifier?delete k.touch0:k.touch1&&k.touch1[2]===K.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2){var rt=be(this).on("dblclick.zoom");rt&&rt.apply(this,arguments)}}}return b.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:uo(+k),b):r},b.filter=function(k){return arguments.length?(t=typeof k=="function"?k:uo(!!k),b):t},b.touchable=function(k){return arguments.length?(o=typeof k=="function"?k:uo(!!k),b):o},b.extent=function(k){return arguments.length?(e=typeof k=="function"?k:uo([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),b):e},b.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],b):[s[0],s[1]]},b.translateExtent=function(k){return arguments.length?(u[0][0]=+k[0][0],u[1][0]=+k[1][0],u[0][1]=+k[0][1],u[1][1]=+k[1][1],b):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},b.constrain=function(k){return arguments.length?(n=k,b):n},b.duration=function(k){return arguments.length?(f=+k,b):f},b.interpolate=function(k){return arguments.length?(h=k,b):h},b.on=function(){var k=p.on.apply(p,arguments);return k===p?b:k},b.clickDistance=function(k){return arguments.length?(w=(k=+k)*k,b):Math.sqrt(w)},b}const C8=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:Qs,active:YA,arc:c6,area:X_,areaRadial:Kp,ascending:Gn,autoType:jT,axisBottom:Zb,axisLeft:Jb,axisRight:Kb,axisTop:Qb,bisect:On,bisectLeft:Cb,bisectRight:On,bisector:Il,blob:ZT,brush:rT,brushSelection:eT,brushX:nT,brushY:iT,buffer:tC,chord:oT,clientPoint:Is,cluster:pP,color:Rn,contourDensity:kT,contours:lm,create:wS,creator:Ns,cross:Eb,csv:iC,csvFormat:VT,csvFormatBody:GT,csvFormatRow:zT,csvFormatRows:FT,csvFormatValue:BT,csvParse:hm,csvParseRows:IT,cubehelix:qe,curveBasis:P6,curveBasisClosed:E6,curveBasisOpen:L6,curveBundle:M6,curveCardinal:$6,curveCardinalClosed:O6,curveCardinalOpen:k6,curveCatmullRom:R6,curveCatmullRomClosed:N6,curveCatmullRomOpen:D6,curveLinear:cc,curveLinearClosed:I6,curveMonotoneX:V6,curveMonotoneY:G6,curveNatural:F6,curveStep:z6,curveStepAfter:H6,curveStepBefore:B6,customEvent:ia,descending:Lb,deviation:o0,dispatch:vi,drag:MS,dragDisable:Vs,dragEnable:Gs,dsv:nC,dsvFormat:qs,easeBack:_d,easeBackIn:VA,easeBackInOut:_d,easeBackOut:GA,easeBounce:la,easeBounceIn:DA,easeBounceInOut:IA,easeBounceOut:la,easeCircle:yd,easeCircleIn:CA,easeCircleInOut:yd,easeCircleOut:PA,easeCubic:Ru,easeCubicIn:_A,easeCubicInOut:Ru,easeCubicOut:vA,easeElastic:vd,easeElasticIn:FA,easeElasticInOut:zA,easeElasticOut:vd,easeExp:md,easeExpIn:AA,easeExpInOut:md,easeExpOut:TA,easeLinear:gA,easePoly:pd,easePolyIn:xA,easePolyInOut:pd,easePolyOut:bA,easeQuad:dd,easeQuadIn:mA,easeQuadInOut:dd,easeQuadOut:yA,easeSin:gd,easeSinIn:wA,easeSinInOut:gd,easeSinOut:SA,entries:xT,get event(){return ct},extent:Vl,forceCenter:fC,forceCollide:MC,forceLink:OC,forceManyBody:VC,forceRadial:GC,forceSimulation:IC,forceX:FC,forceY:zC,get format(){return Ks},formatDefaultLocale:_m,formatLocale:ym,get formatPrefix(){return uf},formatSpecifier:ha,geoAlbers:ny,geoAlbersUsa:U3,geoArea:KC,geoAzimuthalEqualArea:q3,geoAzimuthalEqualAreaRaw:vf,geoAzimuthalEquidistant:W3,geoAzimuthalEquidistantRaw:xf,geoBounds:e3,geoCentroid:s3,geoCircle:c3,geoClipAntimeridian:Ku,geoClipCircle:Fm,geoClipExtent:g3,geoClipRectangle:Zs,geoConicConformal:Q3,geoConicConformalRaw:ay,geoConicEqualArea:fs,geoConicEqualAreaRaw:ey,geoConicEquidistant:Z3,geoConicEquidistantRaw:oy,geoContains:w3,geoDistance:is,geoEqualEarth:tP,geoEqualEarthRaw:bf,geoEquirectangular:K3,geoEquirectangularRaw:ga,geoGnomonic:eP,geoGnomonicRaw:wf,geoGraticule:Hm,geoGraticule10:S3,geoIdentity:nP,geoInterpolate:A3,geoLength:zm,geoMercator:j3,geoMercatorRaw:Oa,geoNaturalEarth1:iP,geoNaturalEarth1Raw:Sf,geoOrthographic:rP,geoOrthographicRaw:Af,geoPath:D3,geoProjection:fn,geoProjectionMutator:yf,geoRotation:Rm,geoStereographic:aP,geoStereographicRaw:Tf,geoStream:He,geoTransform:I3,geoTransverseMercator:oP,geoTransverseMercatorRaw:Cf,gray:FS,hcl:No,hierarchy:Pf,histogram:kb,hsl:Oo,html:uC,image:aC,interpolate:Ea,interpolateArray:US,interpolateBasis:k0,interpolateBasisClosed:R0,interpolateBlues:N5,interpolateBrBG:p5,interpolateBuGn:S5,interpolateBuPu:A5,interpolateCividis:z5,interpolateCool:X5,interpolateCubehelix:s2,interpolateCubehelixDefault:B5,interpolateCubehelixLong:Hs,interpolateDate:F0,interpolateDiscrete:jS,interpolateGnBu:T5,interpolateGreens:D5,interpolateGreys:I5,interpolateHcl:a2,interpolateHclLong:o2,interpolateHsl:n2,interpolateHslLong:i2,interpolateHue:QS,interpolateInferno:Z5,interpolateLab:r2,interpolateMagma:K5,interpolateNumber:Ne,interpolateNumberArray:Kl,interpolateObject:z0,interpolateOrRd:C5,interpolateOranges:F5,interpolatePRGn:g5,interpolatePiYG:m5,interpolatePlasma:J5,interpolatePuBu:E5,interpolatePuBuGn:P5,interpolatePuOr:y5,interpolatePuRd:L5,interpolatePurples:V5,interpolateRainbow:Y5,interpolateRdBu:_5,interpolateRdGy:v5,interpolateRdPu:M5,interpolateRdYlBu:x5,interpolateRdYlGn:b5,interpolateReds:G5,interpolateRgb:sa,interpolateRgbBasis:I0,interpolateRgbBasisClosed:YS,interpolateRound:B0,interpolateSinebow:W5,interpolateSpectral:w5,interpolateString:Zl,interpolateTransformCss:Y0,interpolateTransformSvg:U0,interpolateTurbo:j5,interpolateViridis:Q5,interpolateWarm:H5,interpolateYlGn:O5,interpolateYlGnBu:$5,interpolateYlOrBr:k5,interpolateYlOrRd:R5,interpolateZoom:q0,interrupt:ri,interval:d2,isoFormat:qL,isoParse:QL,json:sC,keys:_T,lab:Ro,lch:zS,line:Hf,lineRadial:Qp,linkHorizontal:y6,linkRadial:v6,linkVertical:_6,local:v0,map:vn,matcher:Hl,max:c0,mean:Db,median:Ib,merge:zl,min:u0,mouse:ei,namespace:Ca,namespaces:Au,nest:gT,now:ur,pack:GP,packEnclose:cy,packSiblings:DP,pairs:Pb,partition:FP,path:zn,permute:Vb,pie:f6,piecewise:c2,pointRadial:Xr,polygonArea:eE,polygonCentroid:nE,polygonContains:oE,polygonHull:aE,polygonLength:sE,precisionFixed:vm,precisionPrefix:xm,precisionRound:bm,quadtree:js,quantile:na,quantize:u2,radialArea:Kp,radialLine:Qp,randomBates:lE,randomExponential:fE,randomIrwinHall:yy,randomLogNormal:uE,randomNormal:my,randomUniform:cE,range:Pe,rgb:ji,ribbon:pT,scaleBand:Lf,scaleDiverging:d_,scaleDivergingLog:p_,scaleDivergingPow:Ff,scaleDivergingSqrt:i5,scaleDivergingSymlog:g_,scaleIdentity:Sy,scaleImplicit:ll,scaleLinear:wy,scaleLog:Ty,scaleOrdinal:Ef,scalePoint:hE,scalePow:kf,scaleQuantile:Py,scaleQuantize:Ey,scaleSequential:u_,scaleSequentialLog:l_,scaleSequentialPow:Gf,scaleSequentialQuantile:h_,scaleSequentialSqrt:n5,scaleSequentialSymlog:f_,scaleSqrt:SE,scaleSymlog:Cy,scaleThreshold:Ly,scaleTime:t5,scaleUtc:e5,scan:Gb,schemeAccent:a5,schemeBlues:I_,schemeBrBG:m_,schemeBuGn:T_,schemeBuPu:C_,schemeCategory10:r5,schemeDark2:o5,schemeGnBu:P_,schemeGreens:V_,schemeGreys:G_,schemeOrRd:E_,schemeOranges:B_,schemePRGn:y_,schemePaired:s5,schemePastel1:c5,schemePastel2:u5,schemePiYG:__,schemePuBu:M_,schemePuBuGn:L_,schemePuOr:v_,schemePuRd:$_,schemePurples:F_,schemeRdBu:x_,schemeRdGy:b_,schemeRdPu:O_,schemeRdYlBu:w_,schemeRdYlGn:S_,schemeReds:z_,schemeSet1:l5,schemeSet2:f5,schemeSet3:h5,schemeSpectral:A_,schemeTableau10:d5,schemeYlGn:R_,schemeYlGnBu:k_,schemeYlOrBr:N_,schemeYlOrRd:D_,select:be,selectAll:AS,selection:xi,selector:Ds,selectorAll:Bl,set:cm,shuffle:Fb,stack:Y6,stackOffsetDiverging:q6,stackOffsetExpand:U6,stackOffsetNone:ir,stackOffsetSilhouette:W6,stackOffsetWiggle:j6,stackOrderAppearance:fv,stackOrderAscending:hv,stackOrderDescending:K6,stackOrderInsideOut:Z6,stackOrderNone:rr,stackOrderReverse:J6,stratify:XP,style:ci,sum:zb,svg:lC,symbol:C6,symbolCircle:Uf,symbolCross:q_,symbolDiamond:j_,symbolSquare:Z_,symbolStar:K_,symbolTriangle:J_,symbolWye:tv,symbols:T6,text:Ws,thresholdFreedmanDiaconis:Rb,thresholdScott:Nb,thresholdSturges:Fl,tickFormat:by,tickIncrement:jr,tickStep:si,ticks:Gl,timeDay:nc,timeDays:CE,get timeFormat(){return Df},timeFormatDefaultLocale:s_,timeFormatLocale:e_,timeFriday:Fy,timeFridays:$E,timeHour:Dy,timeHours:TE,timeInterval:Wt,timeMillisecond:ms,timeMilliseconds:kp,timeMinute:Ry,timeMinutes:AE,timeMonday:ya,timeMondays:PE,timeMonth:Hy,timeMonths:kE,get timeParse(){return o_},timeSaturday:zy,timeSaturdays:OE,timeSecond:vs,timeSeconds:Rp,timeSunday:ma,timeSundays:Np,timeThursday:gi,timeThursdays:ME,timeTuesday:Vy,timeTuesdays:EE,timeWednesday:Gy,timeWednesdays:LE,timeWeek:ma,timeWeeks:Np,timeYear:mi,timeYears:RE,timeout:Mu,timer:Ys,timerFlush:J0,touch:ra,touches:TS,transition:im,transpose:l0,tree:QP,treemap:KP,treemapBinary:ZP,treemapDice:ka,treemapResquarify:tE,treemapSlice:tc,treemapSliceDice:JP,treemapSquarify:gy,tsv:rC,tsvFormat:XT,tsvFormatBody:YT,tsvFormatRow:qT,tsvFormatRows:UT,tsvFormatValue:WT,tsvParse:dm,tsvParseRows:HT,utcDay:ic,utcDays:IE,get utcFormat(){return rc},utcFriday:Ky,utcFridays:BE,utcHour:qy,utcHours:DE,utcMillisecond:ms,utcMilliseconds:kp,utcMinute:Yy,utcMinutes:NE,utcMonday:va,utcMondays:VE,utcMonth:t_,utcMonths:XE,get utcParse(){return If},utcSaturday:Zy,utcSaturdays:HE,utcSecond:vs,utcSeconds:Rp,utcSunday:_a,utcSundays:Dp,utcThursday:yi,utcThursdays:zE,utcTuesday:jy,utcTuesdays:GE,utcWednesday:Qy,utcWednesdays:FE,utcWeek:_a,utcWeeks:Dp,utcYear:_i,utcYears:YE,values:vT,variance:a0,version:Ab,voronoi:_8,window:Xl,xml:cC,zip:Hb,zoom:T8,zoomIdentity:hc,zoomTransform:_v},Symbol.toStringTag,{value:"Module"})),P8=sg(C8);/* @license C3.js v0.7.20 | (c) C3 Team and other contributors | http://c3js.org/ */(function(t,e){(function(n,r){t.exports=r()})(og,function(){function n(i){var a=this;a.d3=window.d3?window.d3:typeof wb<"u"?P8:void 0,a.api=i,a.config=a.getDefaultConfig(),a.data={},a.cache={},a.axes={}}function r(i){this.internal=new n(this),this.internal.loadConfig(i),this.internal.beforeInit(i),this.internal.init(),this.internal.afterInit(i),function a(c,l,d){Object.keys(c).forEach(function(v){l[v]=c[v].bind(d),Object.keys(c[v]).length>0&&a(c[v],l[v],d)})}(r.prototype,this,this)}var o=function(i){return Math.ceil(i)+.5},s=function(i){return Math.ceil(i/10)*10},u=function(i){return i[1]-i[0]},f=function(i,a,c){return m(i[a])?i[a]:c},h=function(i){var a=p(i),c=[i.pathSegList.getItem(0),i.pathSegList.getItem(1)],l=c[0].x,d=Math.min(c[0].y,c[1].y);return{x:l,y:d,width:a.width,height:a.height}},p=function(i){try{return i.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},g=function(i,a){var c=!1;return Object.keys(i).forEach(function(l){i[l]===a&&(c=!0)}),c},y=function(i){return Array.isArray(i)},m=function(i){return typeof i<"u"},x=function(i){return typeof i>"u"||i===null||A(i)&&i.length===0||typeof i=="object"&&Object.keys(i).length===0},w=function(i){return typeof i=="function"},b=function(i){return typeof i=="number"},A=function(i){return typeof i=="string"},C=function(i){return typeof i>"u"},$=function(i){return i||i===0},L=function(i){return!x(i)},O=function(i){return typeof i=="string"?i.replace(/</g,"&lt;").replace(/>/g,"&gt;"):i},V=function(i){return Array.isArray(i)?[].concat.apply([],i):[]},B=function(i,a,c){c===void 0&&(c=0);var l=a.x-c,d=a.x+a.width+c,v=a.y+a.height+c,S=a.y-c;return l<i[0]&&i[0]<d&&S<i[1]&&i[1]<v},z=function(i){typeof i>"u"&&(i=window.navigator.userAgent);var a=i.indexOf("MSIE ");return a>0?parseInt(i.substring(a+5,i.indexOf(".",a)),10):(a=i.indexOf("Trident/"),a>0?(a=i.indexOf("rv:"),parseInt(i.substring(a+3,i.indexOf(".",a)),10)):!1)},Q=function(i){var a=z();return typeof i>"u"?!!a:i===a};function X(i,a){var c=this;c.component=i,c.params=a||{},c.d3=i.d3,c.scale=c.d3.scaleLinear(),c.range,c.orient="bottom",c.innerTickSize=6,c.outerTickSize=this.params.withOuterTick?6:0,c.tickPadding=3,c.tickValues=null,c.tickFormat,c.tickArguments,c.tickOffset=0,c.tickCulling=!0,c.tickCentered,c.tickTextCharSize,c.tickTextRotate=c.params.tickTextRotate,c.tickLength,c.axis=c.generateAxis()}X.prototype.axisX=function(i,a,c){i.attr("transform",function(l){return"translate("+Math.ceil(a(l)+c)+", 0)"})},X.prototype.axisY=function(i,a){i.attr("transform",function(c){return"translate(0,"+Math.ceil(a(c))+")"})},X.prototype.scaleExtent=function(i){var a=i[0],c=i[i.length-1];return a<c?[a,c]:[c,a]},X.prototype.generateTicks=function(i){var a=this,c,l,d=[];if(i.ticks)return i.ticks.apply(i,a.tickArguments);for(l=i.domain(),c=Math.ceil(l[0]);c<l[1];c++)d.push(c);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d},X.prototype.copyScale=function(){var i=this,a=i.scale.copy(),c;return i.params.isCategory&&(c=i.scale.domain(),a.domain([c[0],c[1]-1])),a},X.prototype.textFormatted=function(i){var a=this,c=a.tickFormat?a.tickFormat(i):i;return typeof c<"u"?c:""},X.prototype.updateRange=function(){var i=this;return i.range=i.scale.rangeExtent?i.scale.rangeExtent():i.scaleExtent(i.scale.range()),i.range},X.prototype.updateTickTextCharSize=function(i){var a=this;if(a.tickTextCharSize)return a.tickTextCharSize;var c={h:11.5,w:5.5};return i.select("text").text(function(l){return a.textFormatted(l)}).each(function(l){var d=p(this),v=a.textFormatted(l),S=d.height,P=v?d.width/v.length:void 0;S&&P&&(c.h=S,c.w=P)}).text(""),a.tickTextCharSize=c,c},X.prototype.isVertical=function(){return this.orient==="left"||this.orient==="right"},X.prototype.tspanData=function(i,a,c){var l=this,d=l.params.tickMultiline?l.splitTickText(i,c):[].concat(l.textFormatted(i));return l.params.tickMultiline&&l.params.tickMultilineMax>0&&(d=l.ellipsify(d,l.params.tickMultilineMax)),d.map(function(v){return{index:a,splitted:v,length:d.length}})},X.prototype.splitTickText=function(i,a){var c=this,l=c.textFormatted(i),d=c.params.tickWidth,v,S,P,R=[];if(Object.prototype.toString.call(l)==="[object Array]")return l;(!d||d<=0)&&(d=c.isVertical()?95:c.params.isCategory?Math.ceil(a(1)-a(0))-12:110);function M(N,D){S=void 0;for(var H=1;H<D.length;H++)if(D.charAt(H)===" "&&(S=H),v=D.substr(0,H+1),P=c.tickTextCharSize.w*v.length,d<P)return M(N.concat(D.substr(0,S||H)),D.slice(S?S+1:H));return N.concat(D)}return M(R,l+"")},X.prototype.ellipsify=function(i,a){if(i.length<=a)return i;for(var c=i.slice(0,a),l=3,d=a-1;d>=0;d--){var v=c[d].length;if(c[d]=c[d].substr(0,v-l).padEnd(v,"."),l-=v,l<=0)break}return c},X.prototype.updateTickLength=function(){var i=this;i.tickLength=Math.max(i.innerTickSize,0)+i.tickPadding},X.prototype.lineY2=function(i){var a=this,c=a.scale(i)+(a.tickCentered?0:a.tickOffset);return a.range[0]<c&&c<a.range[1]?a.innerTickSize:0},X.prototype.textY=function(){var i=this,a=i.tickTextRotate;return a?11.5-2.5*(a/15)*(a>0?1:-1):i.tickLength},X.prototype.textTransform=function(){var i=this,a=i.tickTextRotate;return a?"rotate("+a+")":""},X.prototype.textTextAnchor=function(){var i=this,a=i.tickTextRotate;return a?a>0?"start":"end":"middle"},X.prototype.tspanDx=function(){var i=this,a=i.tickTextRotate;return a?8*Math.sin(Math.PI*(a/180)):0},X.prototype.tspanDy=function(i,a){var c=this,l=c.tickTextCharSize.h;return a===0&&(c.isVertical()?l=-((i.length-1)*(c.tickTextCharSize.h/2)-3):l=".71em"),l},X.prototype.generateAxis=function(){var i=this,a=i.d3,c=i.params;function l(d,v){var S;return d.each(function(){var P=l.g=a.select(this),R=this.__chart__||i.scale,M=this.__chart__=i.copyScale(),N=i.tickValues?i.tickValues:i.generateTicks(M),D=P.selectAll(".tick").data(N,M),H=D.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),I=D.exit().remove(),W=D.merge(H),j,tt,Z;c.isCategory?(i.tickOffset=Math.ceil((M(1)-M(0))/2),tt=i.tickCentered?0:i.tickOffset,Z=i.tickCentered?i.tickOffset:0):i.tickOffset=tt=0,i.updateRange(),i.updateTickLength(),i.updateTickTextCharSize(P.select(".tick"));var pt=W.select("line").merge(H.append("line")),gt=W.select("text").merge(H.append("text")),wt=W.selectAll("text").selectAll("tspan").data(function(st,ht){return i.tspanData(st,ht,M)}),bt=wt.enter().append("tspan"),St=bt.merge(wt).text(function(st){return st.splitted});wt.exit().remove();var ft=P.selectAll(".domain").data([0]),At=ft.enter().append("path").merge(ft).attr("class","domain");switch(i.orient){case"bottom":{j=i.axisX,pt.attr("x1",tt).attr("x2",tt).attr("y2",function(st,ht){return i.lineY2(st,ht)}),gt.attr("x",0).attr("y",function(st,ht){return i.textY(st,ht)}).attr("transform",function(st,ht){return i.textTransform(st,ht)}).style("text-anchor",function(st,ht){return i.textTextAnchor(st,ht)}),St.attr("x",0).attr("dy",function(st,ht){return i.tspanDy(st,ht)}).attr("dx",function(st,ht){return i.tspanDx(st,ht)}),At.attr("d","M"+i.range[0]+","+i.outerTickSize+"V0H"+i.range[1]+"V"+i.outerTickSize);break}case"top":{j=i.axisX,pt.attr("x1",tt).attr("x2",tt).attr("y2",function(st,ht){return-1*i.lineY2(st,ht)}),gt.attr("x",0).attr("y",function(st,ht){return-1*i.textY(st,ht)-(c.isCategory?2:i.tickLength-2)}).attr("transform",function(st,ht){return i.textTransform(st,ht)}).style("text-anchor",function(st,ht){return i.textTextAnchor(st,ht)}),St.attr("x",0).attr("dy",function(st,ht){return i.tspanDy(st,ht)}).attr("dx",function(st,ht){return i.tspanDx(st,ht)}),At.attr("d","M"+i.range[0]+","+-i.outerTickSize+"V0H"+i.range[1]+"V"+-i.outerTickSize);break}case"left":{j=i.axisY,pt.attr("x2",-i.innerTickSize).attr("y1",Z).attr("y2",Z),gt.attr("x",-i.tickLength).attr("y",i.tickOffset).style("text-anchor","end"),St.attr("x",-i.tickLength).attr("dy",function(st,ht){return i.tspanDy(st,ht)}),At.attr("d","M"+-i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+-i.outerTickSize);break}case"right":{j=i.axisY,pt.attr("x2",i.innerTickSize).attr("y1",Z).attr("y2",Z),gt.attr("x",i.tickLength).attr("y",i.tickOffset).style("text-anchor","start"),St.attr("x",i.tickLength).attr("dy",function(st,ht){return i.tspanDy(st,ht)}),At.attr("d","M"+i.outerTickSize+","+i.range[0]+"H0V"+i.range[1]+"H"+i.outerTickSize);break}}if(M.rangeBand){var _t=M,vt=_t.rangeBand()/2;R=M=function(st){return _t(st)+vt}}else R.rangeBand?R=M:I.call(j,M,i.tickOffset);H.call(j,R,i.tickOffset),S=(v?W.transition(v):W).style("opacity",1).call(j,M,i.tickOffset)}),S}return l.scale=function(d){return arguments.length?(i.scale=d,l):i.scale},l.orient=function(d){return arguments.length?(i.orient=d in{top:1,right:1,bottom:1,left:1}?d+"":"bottom",l):i.orient},l.tickFormat=function(d){return arguments.length?(i.tickFormat=d,l):i.tickFormat},l.tickCentered=function(d){return arguments.length?(i.tickCentered=d,l):i.tickCentered},l.tickOffset=function(){return i.tickOffset},l.tickInterval=function(){var d,v;return c.isCategory?d=i.tickOffset*2:(v=l.g.select("path.domain").node().getTotalLength()-i.outerTickSize*2,d=v/l.g.selectAll("line").size()),d===1/0?0:d},l.ticks=function(){return arguments.length?(i.tickArguments=arguments,l):i.tickArguments},l.tickCulling=function(d){return arguments.length?(i.tickCulling=d,l):i.tickCulling},l.tickValues=function(d){if(typeof d=="function")i.tickValues=function(){return d(i.scale.domain())};else{if(!arguments.length)return i.tickValues;i.tickValues=d}return l},l};var T={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},q=function(){function i(a){this.owner=a,this.d3=a.d3,this.internal=X}return i}(),k=q;k.prototype.init=function(){var a=this.owner,c=a.config,l=a.main;a.axes.x=l.append("g").attr("class",T.axis+" "+T.axisX).attr("clip-path",c.axis_x_inner?"":a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",c.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",T.axisXLabel).attr("transform",c.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=l.append("g").attr("class",T.axis+" "+T.axisY).attr("clip-path",c.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",c.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",T.axisYLabel).attr("transform",c.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=l.append("g").attr("class",T.axis+" "+T.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",c.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",T.axisY2Label).attr("transform",c.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},k.prototype.getXAxis=function(a,c,l,d,v,S,P){var R=this.owner,M=R.config,N={isCategory:R.isCategorized(),withOuterTick:v,tickMultiline:M.axis_x_tick_multiline,tickMultilineMax:M.axis_x_tick_multiline?Number(M.axis_x_tick_multilineMax):0,tickWidth:M.axis_x_tick_width,tickTextRotate:P?0:M.axis_x_tick_rotate,withoutTransition:S},D=new this.internal(this,N).axis.scale(a).orient(c);return R.isTimeSeries()&&d&&typeof d!="function"&&(d=d.map(function(H){return R.parseDate(H)})),D.tickFormat(l).tickValues(d),R.isCategorized()&&(D.tickCentered(M.axis_x_tick_centered),x(M.axis_x_tick_culling)&&(M.axis_x_tick_culling=!1)),D},k.prototype.updateXAxisTickValues=function(a,c){var l=this.owner,d=l.config,v;return(d.axis_x_tick_fit||d.axis_x_tick_count)&&(v=this.generateTickValues(l.mapTargetsToUniqueXs(a),d.axis_x_tick_count,l.isTimeSeries())),c?c.tickValues(v):(l.xAxis.tickValues(v),l.subXAxis.tickValues(v)),v},k.prototype.getYAxis=function(a,c,l,d,v,S,P){var R=this.owner,M=R.config,N=M["axis_"+a+"_tick_format"];!N&&R.isAxisNormalized(a)&&(N=function(H){return H+"%"});var D=new this.internal(this,{withOuterTick:v,withoutTransition:S,tickTextRotate:P?0:M.axis_y_tick_rotate}).axis.scale(c).orient(l);return N&&D.tickFormat(N),R.isTimeSeriesY()?D.ticks(M.axis_y_tick_time_type,M.axis_y_tick_time_interval):D.tickValues(d),D},k.prototype.getId=function(a){var c=this.owner.config;return a in c.data_axes?c.data_axes[a]:"y"},k.prototype.getXAxisTickFormat=function(){var a=this.owner,c=a.config,l=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(d){return d};return c.axis_x_tick_format&&(w(c.axis_x_tick_format)?l=c.axis_x_tick_format:a.isTimeSeries()&&(l=function(d){return d?a.axisTimeFormat(c.axis_x_tick_format)(d):""})),w(l)?function(d){return l.call(a,d)}:l},k.prototype.getTickValues=function(a,c){return a||(c?c.tickValues():void 0)},k.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},k.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},k.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},k.prototype.getLabelOptionByAxisId=function(a){var c=this.owner,l=c.config,d;return a==="y"?d=l.axis_y_label:a==="y2"?d=l.axis_y2_label:a==="x"&&(d=l.axis_x_label),d},k.prototype.getLabelText=function(a){var c=this.getLabelOptionByAxisId(a);return A(c)?c:c?c.text:null},k.prototype.setLabelText=function(a,c){var l=this.owner,d=l.config,v=this.getLabelOptionByAxisId(a);A(v)?a==="y"?d.axis_y_label=c:a==="y2"?d.axis_y2_label=c:a==="x"&&(d.axis_x_label=c):v&&(v.text=c)},k.prototype.getLabelPosition=function(a,c){var l=this.getLabelOptionByAxisId(a),d=l&&typeof l=="object"&&l.position?l.position:c;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},k.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},k.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},k.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},k.prototype.getLabelPositionById=function(a){return a==="y2"?this.getY2AxisLabelPosition():a==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},k.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},k.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},k.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},k.prototype.xForAxisLabel=function(a,c){var l=this.owner;return a?c.isLeft?0:c.isCenter?l.width/2:l.width:c.isBottom?-l.height:c.isMiddle?-l.height/2:0},k.prototype.dxForAxisLabel=function(a,c){return a?c.isLeft?"0.5em":c.isRight?"-0.5em":"0":c.isTop?"-0.5em":c.isBottom?"0.5em":"0"},k.prototype.textAnchorForAxisLabel=function(a,c){return a?c.isLeft?"start":c.isCenter?"middle":"end":c.isBottom?"start":c.isMiddle?"middle":"end"},k.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},k.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},k.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},k.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},k.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},k.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},k.prototype.dyForXAxisLabel=function(){var a=this.owner,c=a.config,l=this.getXAxisLabelPosition();return c.axis_rotated?l.isInner?"1.2em":-25-(a.config.axis_x_inner?0:this.getMaxTickWidth("x")):l.isInner?"-0.5em":a.getHorizontalAxisHeight("x")-10},k.prototype.dyForYAxisLabel=function(){var a=this.owner,c=this.getYAxisLabelPosition();return a.config.axis_rotated?c.isInner?"-0.5em":"3em":c.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},k.prototype.dyForY2AxisLabel=function(){var a=this.owner,c=this.getY2AxisLabelPosition();return a.config.axis_rotated?c.isInner?"1.2em":"-2.2em":c.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},k.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},k.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},k.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},k.prototype.getMaxTickWidth=function(a,c){var l=this.owner,d=0,v,S,P,R,M;return c&&l.currentMaxTickWidths[a]||(l.svg&&(v=l.filterTargetsToShow(l.data.targets),a==="y"?(S=l.y.copy().domain(l.getYDomain(v,"y")),P=this.getYAxis(a,S,l.yOrient,l.yAxisTickValues,!1,!0,!0)):a==="y2"?(S=l.y2.copy().domain(l.getYDomain(v,"y2")),P=this.getYAxis(a,S,l.y2Orient,l.y2AxisTickValues,!1,!0,!0)):(S=l.x.copy().domain(l.getXDomain(v)),P=this.getXAxis(S,l.xOrient,l.xAxisTickFormat,l.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(v,P)),R=l.d3.select("body").append("div").classed("c3",!0),M=R.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),M.append("g").call(P).each(function(){l.d3.select(this).selectAll("text").each(function(){var N=p(this);d<N.width&&(d=N.width)}),R.remove()})),l.currentMaxTickWidths[a]=d<=0?l.currentMaxTickWidths[a]:d),l.currentMaxTickWidths[a]},k.prototype.updateLabels=function(a){var c=this.owner,l=c.main.select("."+T.axisX+" ."+T.axisXLabel),d=c.main.select("."+T.axisY+" ."+T.axisYLabel),v=c.main.select("."+T.axisY2+" ."+T.axisY2Label);(a?l.transition():l).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?v.transition():v).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},k.prototype.getPadding=function(a,c,l,d){var v=typeof a=="number"?a:a[c];return $(v)?a.unit==="ratio"?a[c]*d:this.convertPixelsToAxisPadding(v,d):l},k.prototype.convertPixelsToAxisPadding=function(a,c){var l=this.owner,d=l.config.axis_rotated?l.width:l.height;return c*(a/d)},k.prototype.generateTickValues=function(a,c,l){var d=a,v,S,P,R,M,N,D;if(c){if(v=w(c)?c():c,v===1)d=[a[0]];else if(v===2)d=[a[0],a[a.length-1]];else if(v>2){for(R=v-2,S=a[0],P=a[a.length-1],M=(P-S)/(R+1),d=[S],N=0;N<R;N++)D=+S+M*(N+1),d.push(l?new Date(D):D);d.push(P)}}return l||(d=d.sort(function(H,I){return H-I})),d},k.prototype.generateTransitions=function(a){var c=this.owner,l=c.axes;return{axisX:a?l.x.transition().duration(a):l.x,axisY:a?l.y.transition().duration(a):l.y,axisY2:a?l.y2.transition().duration(a):l.y2,axisSubX:a?l.subx.transition().duration(a):l.subx}},k.prototype.redraw=function(a,c){var l=this.owner,d=a?l.d3.transition().duration(a):null;l.axes.x.style("opacity",c?0:1).call(l.xAxis,d),l.axes.y.style("opacity",c?0:1).call(l.yAxis,d),l.axes.y2.style("opacity",c?0:1).call(l.y2Axis,d),l.axes.subx.style("opacity",c?0:1).call(l.subXAxis,d)};var Y={version:"0.7.20",chart:{fn:r.prototype,internal:{fn:n.prototype,axis:{fn:q.prototype,internal:{fn:X.prototype}}}},generate:function(i){return new r(i)}};n.prototype.beforeInit=function(){},n.prototype.afterInit=function(){},n.prototype.init=function(){var i=this,a=i.config;if(i.initParams(),a.data_url)i.convertUrlToData(a.data_url,a.data_mimeType,a.data_headers,a.data_keys,i.initWithData);else if(a.data_json)i.initWithData(i.convertJsonToData(a.data_json,a.data_keys));else if(a.data_rows)i.initWithData(i.convertRowsToData(a.data_rows));else if(a.data_columns)i.initWithData(i.convertColumnsToData(a.data_columns));else throw Error("url or json or rows or columns is required.")},n.prototype.initParams=function(){var i=this,a=i.d3,c=i.config;i.clipId="c3-"+new Date().valueOf()+"-clip",i.clipIdForXAxis=i.clipId+"-xaxis",i.clipIdForYAxis=i.clipId+"-yaxis",i.clipIdForGrid=i.clipId+"-grid",i.clipIdForSubchart=i.clipId+"-subchart",i.clipPath=i.getClipPath(i.clipId),i.clipPathForXAxis=i.getClipPath(i.clipIdForXAxis),i.clipPathForYAxis=i.getClipPath(i.clipIdForYAxis),i.clipPathForGrid=i.getClipPath(i.clipIdForGrid),i.clipPathForSubchart=i.getClipPath(i.clipIdForSubchart),i.dragStart=null,i.dragging=!1,i.flowing=!1,i.cancelClick=!1,i.mouseover=void 0,i.transiting=!1,i.color=i.generateColor(),i.levelColor=i.generateLevelColor(),i.dataTimeParse=(c.data_xLocaltime?a.timeParse:a.utcParse)(i.config.data_xFormat),i.axisTimeFormat=c.axis_x_localtime?a.timeFormat:a.utcFormat,i.defaultAxisTimeFormat=function(l){return l.getMilliseconds()?a.timeFormat(".%L")(l):l.getSeconds()?a.timeFormat(":%S")(l):l.getMinutes()?a.timeFormat("%I:%M")(l):l.getHours()?a.timeFormat("%I %p")(l):l.getDay()&&l.getDate()!==1||l.getDate()!==1||l.getMonth()?a.timeFormat("%-m/%-d")(l):a.timeFormat("%Y/%-m/%-d")(l)},i.hiddenTargetIds=[],i.hiddenLegendIds=[],i.focusedTargetIds=[],i.defocusedTargetIds=[],i.xOrient=c.axis_rotated?c.axis_x_inner?"right":"left":c.axis_x_inner?"top":"bottom",i.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",i.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",i.subXOrient=c.axis_rotated?"left":"bottom",i.isLegendRight=c.legend_position==="right",i.isLegendInset=c.legend_position==="inset",i.isLegendTop=c.legend_inset_anchor==="top-left"||c.legend_inset_anchor==="top-right",i.isLegendLeft=c.legend_inset_anchor==="top-left"||c.legend_inset_anchor==="bottom-left",i.legendStep=0,i.legendItemWidth=0,i.legendItemHeight=0,i.currentMaxTickWidths={x:0,y:0,y2:0},i.rotated_padding_left=30,i.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,i.rotated_padding_top=5,i.withoutFadeIn={},i.intervalForObserveInserted=void 0,i.axes.subx=a.selectAll([])},n.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},n.prototype.initWithData=function(i){var a=this,c=a.d3,l=a.config,d,v,S=!0;a.axis=new q(a),l.bindto?typeof l.bindto.node=="function"?a.selectChart=l.bindto:a.selectChart=c.select(l.bindto):a.selectChart=c.selectAll([]),a.selectChart.empty()&&(a.selectChart=c.select(document.createElement("div")).style("opacity",0),a.observeInserted(a.selectChart),S=!1),a.selectChart.html("").classed("c3",!0),a.data.xs={},a.data.targets=a.convertDataToTargets(i),l.data_filter&&(a.data.targets=a.data.targets.filter(l.data_filter)),l.data_hide&&a.addHiddenTargetIds(l.data_hide===!0?a.mapToIds(a.data.targets):l.data_hide),l.legend_hide&&a.addHiddenLegendIds(l.legend_hide===!0?a.mapToIds(a.data.targets):l.legend_hide),a.isStanfordGraphType()&&a.initStanfordData(),a.updateSizes(),a.updateScales(),a.x.domain(c.extent(a.getXDomain(a.data.targets))),a.y.domain(a.getYDomain(a.data.targets,"y")),a.y2.domain(a.getYDomain(a.data.targets,"y2")),a.subX.domain(a.x.domain()),a.subY.domain(a.y.domain()),a.subY2.domain(a.y2.domain()),a.orgXDomain=a.x.domain(),a.svg=a.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return l.onmouseover.call(a)}).on("mouseleave",function(){return l.onmouseout.call(a)}),a.config.svg_classname&&a.svg.attr("class",a.config.svg_classname),d=a.svg.append("defs"),a.clipChart=a.appendClip(d,a.clipId),a.clipXAxis=a.appendClip(d,a.clipIdForXAxis),a.clipYAxis=a.appendClip(d,a.clipIdForYAxis),a.clipGrid=a.appendClip(d,a.clipIdForGrid),a.clipSubchart=a.appendClip(d,a.clipIdForSubchart),a.updateSvgSize(),v=a.main=a.svg.append("g").attr("transform",a.getTranslate("main")),a.initPie&&a.initPie(),a.initDragZoom&&a.initDragZoom(),l.subchart_show&&a.initSubchart&&a.initSubchart(),a.initTooltip&&a.initTooltip(),a.initLegend&&a.initLegend(),a.initTitle&&a.initTitle(),a.initZoom&&a.initZoom(),a.isStanfordGraphType()&&a.drawColorScale(),l.subchart_show&&a.initSubchartBrush&&a.initSubchartBrush(),v.append("text").attr("class",T.text+" "+T.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),a.initRegion(),a.initGrid(),v.append("g").attr("clip-path",a.clipPath).attr("class",T.chart),l.grid_lines_front&&a.initGridLines(),a.initStanfordElements(),a.initEventRect(),a.initChartElements(),a.axis.init(),a.updateTargets(a.data.targets),l.axis_x_selection&&a.brush.selectionAsValue(a.getDefaultSelection()),S&&(a.updateDimension(),a.config.oninit.call(a),a.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),a.bindResize(),a.bindWindowFocus(),a.api.element=a.selectChart.node()},n.prototype.smoothLines=function(i,a){var c=this;a==="grid"&&i.each(function(){var l=c.d3.select(this),d=l.attr("x1"),v=l.attr("x2"),S=l.attr("y1"),P=l.attr("y2");l.attr({x1:Math.ceil(d),x2:Math.ceil(v),y1:Math.ceil(S),y2:Math.ceil(P)})})},n.prototype.updateSizes=function(){var i=this,a=i.config,c=i.legend?i.getLegendHeight():0,l=i.legend?i.getLegendWidth():0,d=i.isLegendRight||i.isLegendInset?0:c,v=i.hasArcType(),S=a.axis_rotated||v?0:i.getHorizontalAxisHeight("x"),P=a.axis_rotated||v?0:i.getHorizontalAxisHeight("x",!0),R=a.subchart_show&&!v?a.subchart_size_height+P:0;i.currentWidth=i.getCurrentWidth(),i.currentHeight=i.getCurrentHeight(),i.margin=a.axis_rotated?{top:i.getHorizontalAxisHeight("y2")+i.getCurrentPaddingTop(),right:v?0:i.getCurrentPaddingRight(),bottom:i.getHorizontalAxisHeight("y")+d+i.getCurrentPaddingBottom(),left:R+(v?0:i.getCurrentPaddingLeft())}:{top:4+i.getCurrentPaddingTop(),right:v?0:i.getCurrentPaddingRight(),bottom:S+R+d+i.getCurrentPaddingBottom(),left:v?0:i.getCurrentPaddingLeft()},i.margin2=a.axis_rotated?{top:i.margin.top,right:NaN,bottom:20+d,left:i.rotated_padding_left}:{top:i.currentHeight-R-d,right:NaN,bottom:P+d,left:i.margin.left},i.margin3={top:0,right:NaN,bottom:0,left:0},i.updateSizeForLegend&&i.updateSizeForLegend(c,l),i.width=i.currentWidth-i.margin.left-i.margin.right,i.height=i.currentHeight-i.margin.top-i.margin.bottom,i.width<0&&(i.width=0),i.height<0&&(i.height=0),i.width2=a.axis_rotated?i.margin.left-i.rotated_padding_left-i.rotated_padding_right:i.width,i.height2=a.axis_rotated?i.height:i.currentHeight-i.margin2.top-i.margin2.bottom,i.width2<0&&(i.width2=0),i.height2<0&&(i.height2=0),i.arcWidth=i.width-(i.isLegendRight?l+10:0),i.arcHeight=i.height-(i.isLegendRight?0:10),i.hasType("gauge")&&!a.gauge_fullCircle&&(i.arcHeight+=i.height-i.getGaugeLabelHeight()),i.updateRadius&&i.updateRadius(),i.isLegendRight&&v&&(i.margin3.left=i.arcWidth/2+i.radiusExpanded*1.1)},n.prototype.updateTargets=function(i){var a=this,c=a.config;a.updateTargetsForText(i),a.updateTargetsForBar(i),a.updateTargetsForLine(i),a.hasArcType()&&a.updateTargetsForArc&&a.updateTargetsForArc(i),c.subchart_show&&a.updateTargetsForSubchart&&a.updateTargetsForSubchart(i),a.showTargets()},n.prototype.showTargets=function(){var i=this;i.svg.selectAll("."+T.target).filter(function(a){return i.isTargetToShow(a.id)}).transition().duration(i.config.transition_duration).style("opacity",1)},n.prototype.redraw=function(i,a){var c=this,l=c.main,d=c.d3,v=c.config,S=c.getShapeIndices(c.isAreaType),P=c.getShapeIndices(c.isBarType),R=c.getShapeIndices(c.isLineType),M,N,D,H,I,W,j,tt,Z,pt,gt,wt,bt,St=c.hasArcType(),ft,At,_t,vt,st,ht,It,te,Ft,re,Ht,Ut,Ot=c.filterTargetsToShow(c.data.targets),it,xt,Kt,Sn,hr=c.xv.bind(c),Ge,we;if(i=i||{},M=f(i,"withY",!0),N=f(i,"withSubchart",!0),D=f(i,"withTransition",!0),W=f(i,"withTransform",!1),j=f(i,"withUpdateXDomain",!1),tt=f(i,"withUpdateOrgXDomain",!1),Z=f(i,"withTrimXDomain",!0),bt=f(i,"withUpdateXAxis",j),pt=f(i,"withLegend",!1),gt=f(i,"withEventRect",!0),wt=f(i,"withDimension",!0),H=f(i,"withTransitionForExit",D),I=f(i,"withTransitionForAxis",D),ht=D?v.transition_duration:0,It=H?ht:0,te=I?ht:0,a=a||c.axis.generateTransitions(te),pt&&v.legend_show?c.updateLegend(c.mapToIds(c.data.targets),i,a):wt&&c.updateDimension(!0),c.isCategorized()&&Ot.length===0&&c.x.domain([0,c.axes.x.selectAll(".tick").size()]),Ot.length?(c.updateXDomain(Ot,j,tt,Z),v.axis_x_tick_values||(it=c.axis.updateXAxisTickValues(Ot))):(c.xAxis.tickValues([]),c.subXAxis.tickValues([])),v.zoom_rescale&&!i.flow&&(Sn=c.x.orgDomain()),c.y.domain(c.getYDomain(Ot,"y",Sn)),c.y2.domain(c.getYDomain(Ot,"y2",Sn)),!v.axis_y_tick_values&&v.axis_y_tick_count&&c.yAxis.tickValues(c.axis.generateTickValues(c.y.domain(),v.axis_y_tick_count)),!v.axis_y2_tick_values&&v.axis_y2_tick_count&&c.y2Axis.tickValues(c.axis.generateTickValues(c.y2.domain(),v.axis_y2_tick_count)),c.axis.redraw(te,St),c.axis.updateLabels(D),(j||bt)&&Ot.length)if(v.axis_x_tick_culling&&it){for(xt=1;xt<it.length;xt++)if(it.length/xt<v.axis_x_tick_culling_max){Kt=xt;break}c.svg.selectAll("."+T.axisX+" .tick text").each(function(ae){var _e=it.indexOf(ae);_e>=0&&d.select(this).style("display",_e%Kt?"none":"block")})}else c.svg.selectAll("."+T.axisX+" .tick text").style("display","block");ft=c.generateDrawArea?c.generateDrawArea(S,!1):void 0,At=c.generateDrawBar?c.generateDrawBar(P):void 0,_t=c.generateDrawLine?c.generateDrawLine(R,!1):void 0,vt=c.generateXYForText(S,P,R,!0),st=c.generateXYForText(S,P,R,!1),c.updateCircleY(),Ge=(c.config.axis_rotated?c.circleY:c.circleX).bind(c),we=(c.config.axis_rotated?c.circleX:c.circleY).bind(c),M&&(c.subY.domain(c.getYDomain(Ot,"y")),c.subY2.domain(c.getYDomain(Ot,"y2"))),c.updateXgridFocus(),l.select("text."+T.text+"."+T.empty).attr("x",c.width/2).attr("y",c.height/2).text(v.data_empty_label_text).transition().style("opacity",Ot.length?0:1),gt&&c.redrawEventRect(),c.updateGrid(ht),c.updateStanfordElements(ht),c.updateRegion(ht),c.updateBar(It),c.updateLine(It),c.updateArea(It),c.updateCircle(Ge,we),c.hasDataLabel()&&c.updateText(vt,st,It),c.redrawTitle&&c.redrawTitle(),c.redrawArc&&c.redrawArc(ht,It,W),v.subchart_show&&c.redrawSubchart&&c.redrawSubchart(N,a,ht,It,S,P,R),c.isStanfordGraphType()&&c.drawColorScale(),l.selectAll("."+T.selectedCircles).filter(c.isBarType.bind(c)).selectAll("circle").remove(),i.flow&&(Ht=c.generateFlow({targets:Ot,flow:i.flow,duration:i.flow.duration,drawBar:At,drawLine:_t,drawArea:ft,cx:Ge,cy:we,xv:hr,xForText:vt,yForText:st})),ht&&c.isTabVisible()?(Ut=d.transition().duration(ht),Ft=[],[c.redrawBar(At,!0,Ut),c.redrawLine(_t,!0,Ut),c.redrawArea(ft,!0,Ut),c.redrawCircle(Ge,we,!0,Ut),c.redrawText(vt,st,i.flow,!0,Ut),c.redrawRegion(!0,Ut),c.redrawGrid(!0,Ut)].forEach(function(ae){ae.forEach(function(_e){Ft.push(_e)})}),re=c.generateWait(),Ft.forEach(function(ae){re.add(ae)}),re(function(){Ht&&Ht(),v.onrendered&&v.onrendered.call(c)})):(c.redrawBar(At),c.redrawLine(_t),c.redrawArea(ft),c.redrawCircle(Ge,we),c.redrawText(vt,st,i.flow),c.redrawRegion(),c.redrawGrid(),Ht&&Ht(),v.onrendered&&v.onrendered.call(c)),c.mapToIds(c.data.targets).forEach(function(ae){c.withoutFadeIn[ae]=!0})},n.prototype.updateAndRedraw=function(i){var a=this,c=a.config,l;i=i||{},i.withTransition=f(i,"withTransition",!0),i.withTransform=f(i,"withTransform",!1),i.withLegend=f(i,"withLegend",!1),i.withUpdateXDomain=f(i,"withUpdateXDomain",!0),i.withUpdateOrgXDomain=f(i,"withUpdateOrgXDomain",!0),i.withTransitionForExit=!1,i.withTransitionForTransform=f(i,"withTransitionForTransform",i.withTransition),a.updateSizes(),i.withLegend&&c.legend_show||(l=a.axis.generateTransitions(i.withTransitionForAxis?c.transition_duration:0),a.updateScales(),a.updateSvgSize(),a.transformAll(i.withTransitionForTransform,l)),a.redraw(i,l)},n.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},n.prototype.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"},n.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},n.prototype.isCustomX=function(){var i=this,a=i.config;return!i.isTimeSeries()&&(a.data_x||L(a.data_xs))},n.prototype.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"},n.prototype.getTranslate=function(i){var a=this,c=a.config,l,d;return i==="main"?(l=o(a.margin.left),d=o(a.margin.top)):i==="context"?(l=o(a.margin2.left),d=o(a.margin2.top)):i==="legend"?(l=a.margin3.left,d=a.margin3.top):i==="x"?(l=0,d=c.axis_rotated?0:a.height):i==="y"?(l=0,d=c.axis_rotated?a.height:0):i==="y2"?(l=c.axis_rotated?0:a.width,d=c.axis_rotated?1:0):i==="subx"?(l=0,d=c.axis_rotated?0:a.height2):i==="arc"&&(l=a.arcWidth/2,d=a.arcHeight/2-(a.hasType("gauge")?6:0)),"translate("+l+","+d+")"},n.prototype.initialOpacity=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?1:0},n.prototype.initialOpacityForCircle=function(i){return i.value!==null&&this.withoutFadeIn[i.id]?this.opacityForCircle(i):0},n.prototype.opacityForCircle=function(i){var a=w(this.config.point_show)?this.config.point_show(i):this.config.point_show,c=a||this.isStanfordType(i)?1:0;return $(i.value)?this.isScatterType(i)?.5:c:0},n.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},n.prototype.xx=function(i){return i?this.x(i.x):null},n.prototype.xvCustom=function(i,a){var c=this,l=a?i[a]:i.value;return c.isTimeSeries()?l=c.parseDate(i.value):c.isCategorized()&&typeof i.value=="string"&&(l=c.config.axis_x_categories.indexOf(i.value)),Math.ceil(c.x(l))},n.prototype.yvCustom=function(i,a){var c=this,l=i.axis&&i.axis==="y2"?c.y2:c.y,d=a?i[a]:i.value;return Math.ceil(l(d))},n.prototype.xv=function(i){var a=this,c=i.value;return a.isTimeSeries()?c=a.parseDate(i.value):a.isCategorized()&&typeof i.value=="string"&&(c=a.config.axis_x_categories.indexOf(i.value)),Math.ceil(a.x(c))},n.prototype.yv=function(i){var a=this,c=i.axis&&i.axis==="y2"?a.y2:a.y;return Math.ceil(c(i.value))},n.prototype.subxx=function(i){return i?this.subX(i.x):null},n.prototype.transformMain=function(i,a){var c=this,l,d,v;a&&a.axisX?l=a.axisX:(l=c.main.select("."+T.axisX),i&&(l=l.transition())),a&&a.axisY?d=a.axisY:(d=c.main.select("."+T.axisY),i&&(d=d.transition())),a&&a.axisY2?v=a.axisY2:(v=c.main.select("."+T.axisY2),i&&(v=v.transition())),(i?c.main.transition():c.main).attr("transform",c.getTranslate("main")),l.attr("transform",c.getTranslate("x")),d.attr("transform",c.getTranslate("y")),v.attr("transform",c.getTranslate("y2")),c.main.select("."+T.chartArcs).attr("transform",c.getTranslate("arc"))},n.prototype.transformAll=function(i,a){var c=this;c.transformMain(i,a),c.config.subchart_show&&c.transformContext(i,a),c.legend&&c.transformLegend(i)},n.prototype.updateSvgSize=function(){var i=this,a=i.svg.select("."+T.brush+" .overlay");i.svg.attr("width",i.currentWidth).attr("height",i.currentHeight),i.svg.selectAll(["#"+i.clipId,"#"+i.clipIdForGrid]).select("rect").attr("width",i.width).attr("height",i.height),i.svg.select("#"+i.clipIdForXAxis).select("rect").attr("x",i.getXAxisClipX.bind(i)).attr("y",i.getXAxisClipY.bind(i)).attr("width",i.getXAxisClipWidth.bind(i)).attr("height",i.getXAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForYAxis).select("rect").attr("x",i.getYAxisClipX.bind(i)).attr("y",i.getYAxisClipY.bind(i)).attr("width",i.getYAxisClipWidth.bind(i)).attr("height",i.getYAxisClipHeight.bind(i)),i.svg.select("#"+i.clipIdForSubchart).select("rect").attr("width",i.width).attr("height",a.size()&&a.attr("height")||0),i.selectChart.style("max-height",i.currentHeight+"px")},n.prototype.updateDimension=function(i){var a=this;i||(a.config.axis_rotated?(a.axes.x.call(a.xAxis),a.axes.subx.call(a.subXAxis)):(a.axes.y.call(a.yAxis),a.axes.y2.call(a.y2Axis))),a.updateSizes(),a.updateScales(),a.updateSvgSize(),a.transformAll(!1)},n.prototype.observeInserted=function(i){var a=this,c;if(typeof MutationObserver>"u"){window.console.error("MutationObserver not defined.");return}c=new MutationObserver(function(l){l.forEach(function(d){d.type==="childList"&&d.previousSibling&&(c.disconnect(),a.intervalForObserveInserted=window.setInterval(function(){i.node().parentNode&&(window.clearInterval(a.intervalForObserveInserted),a.updateDimension(),a.brush&&a.brush.update(),a.config.oninit.call(a),a.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.transition().style("opacity",1))},10))})}),c.observe(i.node(),{attributes:!0,childList:!0,characterData:!0})},n.prototype.bindResize=function(){var i=this,a=i.config;i.resizeFunction=i.generateResize(),i.resizeFunction.add(function(){a.onresize.call(i)}),a.resize_auto&&i.resizeFunction.add(function(){i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),i.resizeTimeout=window.setTimeout(function(){delete i.resizeTimeout,i.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),i.brush&&i.brush.update()},100)}),i.resizeFunction.add(function(){a.onresized.call(i)}),i.resizeIfElementDisplayed=function(){i.api==null||!i.api.element.offsetParent||i.resizeFunction()},window.addEventListener("resize",i.resizeIfElementDisplayed,!1)},n.prototype.bindWindowFocus=function(){var i=this;this.windowFocusHandler||(this.windowFocusHandler=function(){i.redraw()},window.addEventListener("focus",this.windowFocusHandler))},n.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},n.prototype.generateResize=function(){var i=[];function a(){i.forEach(function(c){c()})}return a.add=function(c){i.push(c)},a.remove=function(c){for(var l=0;l<i.length;l++)if(i[l]===c){i.splice(l,1);break}},a},n.prototype.endall=function(i,a){var c=0;i.each(function(){++c}).on("end",function(){--c||a.apply(this,arguments)})},n.prototype.generateWait=function(){var i=this,a=[],c=function(l){var d=setInterval(function(){if(i.isTabVisible()){var v=0;a.forEach(function(S){if(S.empty()){v+=1;return}try{S.transition()}catch{v+=1}}),v===a.length&&(clearInterval(d),l&&l())}},50)};return c.add=function(l){a.push(l)},c},n.prototype.parseDate=function(i){var a=this,c;return i instanceof Date?c=i:typeof i=="string"?c=a.dataTimeParse(i):typeof i=="object"?c=new Date(+i):typeof i=="number"&&!isNaN(i)&&(c=new Date(+i)),(!c||isNaN(+c))&&window.console.error("Failed to parse x '"+i+"' to Date object"),c},n.prototype.isTabVisible=function(){return!document.hidden},n.prototype.getPathBox=h,n.prototype.CLASS=T,function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(i,a,c){this.pathSegType=i,this.pathSegTypeAsLetter=a,this._owningPathSegList=c},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",i)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",i),this._x=a,this._y=c},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",i),this._x=a,this._y=c},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",i),this._x=a,this._y=c},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",i),this._x=a,this._y=c},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(i,a,c,l,d,v,S){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",i),this._x=a,this._y=c,this._x1=l,this._y1=d,this._x2=v,this._y2=S},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(i,a,c,l,d,v,S){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",i),this._x=a,this._y=c,this._x1=l,this._y1=d,this._x2=v,this._y2=S},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(i,a,c,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",i),this._x=a,this._y=c,this._x1=l,this._y1=d},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(i,a,c,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",i),this._x=a,this._y=c,this._x1=l,this._y1=d},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(i){this._x1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(i){this._y1=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(i,a,c,l,d,v,S,P){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",i),this._x=a,this._y=c,this._r1=l,this._r2=d,this._angle=v,this._largeArcFlag=S,this._sweepFlag=P},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(i,a,c,l,d,v,S,P){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",i),this._x=a,this._y=c,this._r1=l,this._r2=d,this._angle=v,this._largeArcFlag=S,this._sweepFlag=P},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(i){this._r1=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(i){this._r2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(i){this._angle=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(i){this._largeArcFlag=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(i){this._sweepFlag=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",i),this._x=a},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",i),this._x=a},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",i),this._y=a},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",i),this._y=a},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(i,a,c,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",i),this._x=a,this._y=c,this._x2=l,this._y2=d},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(i,a,c,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",i),this._x=a,this._y=c,this._x2=l,this._y2=d},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(i){this._x2=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(i){this._y2=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",i),this._x=a,this._y=c},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(i,a,c){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",i),this._x=a,this._y=c},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(i){this._x=i,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(i){this._y=i,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(i,a){return new window.SVGPathSegMovetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(i,a){return new window.SVGPathSegMovetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(i,a){return new window.SVGPathSegLinetoAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(i,a){return new window.SVGPathSegLinetoRel(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(i,a,c,l,d,v){return new window.SVGPathSegCurvetoCubicAbs(void 0,i,a,c,l,d,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(i,a,c,l,d,v){return new window.SVGPathSegCurvetoCubicRel(void 0,i,a,c,l,d,v)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(i,a,c,l){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,i,a,c,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(i,a,c,l){return new window.SVGPathSegCurvetoQuadraticRel(void 0,i,a,c,l)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(i,a,c,l,d,v,S){return new window.SVGPathSegArcAbs(void 0,i,a,c,l,d,v,S)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(i,a,c,l,d,v,S){return new window.SVGPathSegArcRel(void 0,i,a,c,l,d,v,S)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(i){return new window.SVGPathSegLinetoHorizontalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(i){return new window.SVGPathSegLinetoHorizontalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(i){return new window.SVGPathSegLinetoVerticalAbs(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(i){return new window.SVGPathSegLinetoVerticalRel(void 0,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(i,a,c,l){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,i,a,c,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(i,a,c,l){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,i,a,c,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,i,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(i,a){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,i,a)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(i){if(i===void 0||!isFinite(i))throw"Invalid arguments.";var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.getAttribute("d"));var c=a.pathSegList.numberOfItems-1;if(c<=0)return 0;do{if(a.pathSegList.removeItem(c),i>a.getTotalLength())break;c--}while(c>0);return c})),"SVGPathSegList"in window||(window.SVGPathSegList=function(i){this._pathElement=i,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(i){if(this._pathElement){var a=!1;i.forEach(function(c){c.attributeName=="d"&&(a=!0)}),a&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(i){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(i){i._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(i){return this._checkPathSynchronizedToList(),this._list=[i],i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype._checkValidIndex=function(i){if(isNaN(i)||i<0||i>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(i){return this._checkPathSynchronizedToList(),this._checkValidIndex(i),this._list[i]},window.SVGPathSegList.prototype.insertItemBefore=function(i,a){return this._checkPathSynchronizedToList(),a>this.numberOfItems&&(a=this.numberOfItems),i._owningPathSegList&&(i=i.clone()),this._list.splice(a,0,i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.replaceItem=function(i,a){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._checkValidIndex(a),this._list[a]=i,i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList.prototype.removeItem=function(i){this._checkPathSynchronizedToList(),this._checkValidIndex(i);var a=this._list[i];return this._list.splice(i,1),this._writeListToPath(),a},window.SVGPathSegList.prototype.appendItem=function(i){return this._checkPathSynchronizedToList(),i._owningPathSegList&&(i=i.clone()),this._list.push(i),i._owningPathSegList=this,this._writeListToPath(),i},window.SVGPathSegList._pathSegArrayAsString=function(i){var a="",c=!0;return i.forEach(function(l){c?(c=!1,a+=l._asPathString()):a+=" "+l._asPathString()}),a},window.SVGPathSegList.prototype._parsePath=function(i){if(!i||i.length==0)return[];var a=this,c=function(){this.pathSegList=[]};c.prototype.appendSegment=function(P){this.pathSegList.push(P)};var l=function(P){this._string=P,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};l.prototype._isCurrentSpace=function(){var P=this._string[this._currentIndex];return P<=" "&&(P==" "||P==`
`||P=="	"||P=="\r"||P=="\f")},l.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},l.prototype._skipOptionalSpacesOrDelimiter=function(){return this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","?!1:(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},l.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},l.prototype.peekSegmentType=function(){var P=this._string[this._currentIndex];return this._pathSegTypeFromChar(P)},l.prototype._pathSegTypeFromChar=function(P){switch(P){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},l.prototype._nextCommandHelper=function(P,R){return(P=="+"||P=="-"||P=="."||P>="0"&&P<="9")&&R!=window.SVGPathSeg.PATHSEG_CLOSEPATH?R==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:R==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:R:window.SVGPathSeg.PATHSEG_UNKNOWN},l.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var P=this.peekSegmentType();return P==window.SVGPathSeg.PATHSEG_MOVETO_ABS||P==window.SVGPathSeg.PATHSEG_MOVETO_REL},l.prototype._parseNumber=function(){var P=0,R=0,M=1,N=0,D=1,H=1,I=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,D=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){for(var W=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=W)for(var j=this._currentIndex-1,tt=1;j>=W;)R+=tt*(this._string.charAt(j--)-"0"),tt*=10;if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)M*=10,N+=(this._string.charAt(this._currentIndex)-"0")/M,this._currentIndex+=1}if(this._currentIndex!=I&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m"){if(this._currentIndex++,this._string.charAt(this._currentIndex)=="+"?this._currentIndex++:this._string.charAt(this._currentIndex)=="-"&&(this._currentIndex++,H=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)P*=10,P+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var Z=R+N;if(Z*=D,P&&(Z*=Math.pow(10,H*P)),I!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),Z}},l.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var P=!1,R=this._string.charAt(this._currentIndex++);if(R=="0")P=!1;else if(R=="1")P=!0;else return;return this._skipOptionalSpacesOrDelimiter(),P}},l.prototype.parseSegment=function(){var P=this._string[this._currentIndex],R=this._pathSegTypeFromChar(P);if(R==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(R=this._nextCommandHelper(P,this._previousCommand),R==window.SVGPathSeg.PATHSEG_UNKNOWN))return null}else this._currentIndex++;switch(this._previousCommand=R,R){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(a,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(a);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(a,M.x,M.y,M.x1,M.y1,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(a,M.x,M.y,M.x1,M.y1,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var M={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(a,M.x,M.y,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var M={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(a,M.x,M.y,M.x2,M.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(a,M.x,M.y,M.x1,M.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(a,M.x,M.y,M.x1,M.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(a,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:var M={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(a,M.x,M.y,M.x1,M.y1,M.arcAngle,M.arcLarge,M.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:var M={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(a,M.x,M.y,M.x1,M.y1,M.arcAngle,M.arcLarge,M.arcSweep);default:throw"Unknown path seg type."}};var d=new c,v=new l(i);if(!v.initialCommandIsMoveTo())return[];for(;v.hasMoreData();){var S=v.parseSegment();if(!S)return[];d.appendSegment(S)}return d.pathSegList})}(),String.prototype.padEnd||(String.prototype.padEnd=function(a,c){return a=a>>0,c=String(typeof c<"u"?c:" "),this.length>a?String(this):(a=a-this.length,a>c.length&&(c+=c.repeat(a/c.length)),String(this)+c.slice(0,a))}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(a,c){if(a==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),d=1;d<arguments.length;d++){var v=arguments[d];if(v!=null)for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])}return l},writable:!0,configurable:!0}),r.prototype.axis=function(){},r.prototype.axis.labels=function(i){var a=this.internal;arguments.length&&(Object.keys(i).forEach(function(c){a.axis.setLabelText(c,i[c])}),a.axis.updateLabels())},r.prototype.axis.max=function(i){var a=this.internal,c=a.config;if(arguments.length)typeof i=="object"?($(i.x)&&(c.axis_x_max=i.x),$(i.y)&&(c.axis_y_max=i.y),$(i.y2)&&(c.axis_y2_max=i.y2)):c.axis_y_max=c.axis_y2_max=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},r.prototype.axis.min=function(i){var a=this.internal,c=a.config;if(arguments.length)typeof i=="object"?($(i.x)&&(c.axis_x_min=i.x),$(i.y)&&(c.axis_y_min=i.y),$(i.y2)&&(c.axis_y2_min=i.y2)):c.axis_y_min=c.axis_y2_min=i,a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},r.prototype.axis.range=function(i){if(arguments.length)m(i.max)&&this.axis.max(i.max),m(i.min)&&this.axis.min(i.min);else return{max:this.axis.max(),min:this.axis.min()}},r.prototype.axis.types=function(i){var a=this.internal;if(i===void 0)return{y:a.config.axis_y_type,y2:a.config.axis_y2_type};m(i.y)&&(a.config.axis_y_type=i.y),m(i.y2)&&(a.config.axis_y2_type=i.y2),a.updateScales(),a.redraw()},r.prototype.category=function(i,a){var c=this.internal,l=c.config;return arguments.length>1&&(l.axis_x_categories[i]=a,c.redraw()),l.axis_x_categories[i]},r.prototype.categories=function(i){var a=this.internal,c=a.config;return arguments.length&&(c.axis_x_categories=i,a.redraw()),c.axis_x_categories},r.prototype.resize=function(i){var a=this.internal,c=a.config;c.size_width=i?i.width:null,c.size_height=i?i.height:null,this.flush()},r.prototype.flush=function(){var i=this.internal;i.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},r.prototype.destroy=function(){var i=this.internal;return window.clearInterval(i.intervalForObserveInserted),i.resizeTimeout!==void 0&&window.clearTimeout(i.resizeTimeout),window.removeEventListener("resize",i.resizeIfElementDisplayed),i.resizeFunction.remove(),i.unbindWindowFocus(),i.selectChart.classed("c3",!1).html(""),Object.keys(i).forEach(function(a){i[a]=null}),null},r.prototype.color=function(i){var a=this.internal;return a.color(i)},r.prototype.data=function(i){var a=this.internal.data.targets;return typeof i>"u"?a:a.filter(function(c){return[].concat(i).indexOf(c.id)>=0})},r.prototype.data.shown=function(i){return this.internal.filterTargetsToShow(this.data(i))},r.prototype.data.values=function(i,a){a===void 0&&(a=!0);var c=null;if(i){var l=this.data(i);l&&y(l)&&(c=l.reduce(function(d,v){var S=v.values.map(function(P){return P.value});return a?d=d.concat(S):d.push(S),d},[]))}return c},r.prototype.data.names=function(i){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",i)},r.prototype.data.colors=function(i){return this.internal.updateDataAttributes("colors",i)},r.prototype.data.axes=function(i){return this.internal.updateDataAttributes("axes",i)},r.prototype.data.stackNormalized=function(i){if(i===void 0)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!i,this.internal.redraw()},r.prototype.donut=function(){},r.prototype.donut.padAngle=function(i){if(i===void 0)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=i,this.flush()},r.prototype.flow=function(i){var a=this.internal,c,l,d=[],v=a.getMaxDataCount(),S,P,R,M=0,N=0,D,H;if(i.json)l=a.convertJsonToData(i.json,i.keys);else if(i.rows)l=a.convertRowsToData(i.rows);else if(i.columns)l=a.convertColumnsToData(i.columns);else return;c=a.convertDataToTargets(l,!0),a.data.targets.forEach(function(I){var W=!1,j,tt;for(j=0;j<c.length;j++)if(I.id===c[j].id){for(W=!0,I.values[I.values.length-1]&&(N=I.values[I.values.length-1].index+1),M=c[j].values.length,tt=0;tt<M;tt++)c[j].values[tt].index=N+tt,a.isTimeSeries()||(c[j].values[tt].x=N+tt);I.values=I.values.concat(c[j].values),c.splice(j,1);break}W||d.push(I.id)}),a.data.targets.forEach(function(I){var W,j;for(W=0;W<d.length;W++)if(I.id===d[W])for(N=I.values[I.values.length-1].index+1,j=0;j<M;j++)I.values.push({id:I.id,index:N+j,x:a.isTimeSeries()?a.getOtherTargetX(N+j):N+j,value:null})}),a.data.targets.length&&c.forEach(function(I){var W,j=[];for(W=a.data.targets[0].values[0].index;W<N;W++)j.push({id:I.id,index:W,x:a.isTimeSeries()?a.getOtherTargetX(W):W,value:null});I.values.forEach(function(tt){tt.index+=N,a.isTimeSeries()||(tt.x+=N)}),I.values=j.concat(I.values)}),a.data.targets=a.data.targets.concat(c),a.getMaxDataCount(),P=a.data.targets[0],R=P.values[0],m(i.to)?(M=0,H=a.isTimeSeries()?a.parseDate(i.to):i.to,P.values.forEach(function(I){I.x<H&&M++})):m(i.length)&&(M=i.length),v?v===1&&a.isTimeSeries()&&(D=(P.values[P.values.length-1].x-R.x)/2,S=[new Date(+R.x-D),new Date(+R.x+D)],a.updateXDomain(null,!0,!0,!1,S)):(a.isTimeSeries()?P.values.length>1?D=P.values[P.values.length-1].x-R.x:D=R.x-a.getXDomain(a.data.targets)[0]:D=1,S=[R.x-D,R.x],a.updateXDomain(null,!0,!0,!1,S)),a.updateTargets(a.data.targets),a.redraw({flow:{index:R.index,length:M,duration:$(i.duration)?i.duration:a.config.transition_duration,done:i.done,orgDataCount:v},withLegend:!0,withTransition:v>1,withTrimXDomain:!1,withUpdateXAxis:!0})},n.prototype.generateFlow=function(i){var a=this,c=a.config,l=a.d3;return function(){var d=i.targets,v=i.flow,S=i.drawBar,P=i.drawLine,R=i.drawArea,M=i.cx,N=i.cy,D=i.xv,H=i.xForText,I=i.yForText,W=i.duration,j,tt=1,Z,pt=v.index,gt=v.length,wt=a.getValueOnIndex(a.data.targets[0].values,pt),bt=a.getValueOnIndex(a.data.targets[0].values,pt+gt),St=a.x.domain(),ft,At=v.duration||W,_t=v.done||function(){},vt=a.generateWait(),st,ht,It,te,Ft,re,Ht,Ut;a.flowing=!0,a.data.targets.forEach(function(it){it.values.splice(0,gt)}),ft=a.updateXDomain(d,!0,!0),a.updateXGrid&&a.updateXGrid(!0),st=a.xgrid||l.selectAll([]),ht=a.xgridLines||l.selectAll([]),It=a.mainRegion||l.selectAll([]),te=a.mainText||l.selectAll([]),Ft=a.mainBar||l.selectAll([]),re=a.mainLine||l.selectAll([]),Ht=a.mainArea||l.selectAll([]),Ut=a.mainCircle||l.selectAll([]),v.orgDataCount?v.orgDataCount===1||(wt&&wt.x)===(bt&&bt.x)||a.isTimeSeries()?j=a.x(St[0])-a.x(ft[0]):j=a.x(wt.x)-a.x(bt.x):a.data.targets[0].values.length!==1?j=a.x(St[0])-a.x(ft[0]):a.isTimeSeries()?(wt=a.getValueOnIndex(a.data.targets[0].values,0),bt=a.getValueOnIndex(a.data.targets[0].values,a.data.targets[0].values.length-1),j=a.x(wt.x)-a.x(bt.x)):j=u(ft)/2,tt=u(St)/u(ft),Z="translate("+j+",0) scale("+tt+",1)",a.hideXGridFocus();var Ot=l.transition().ease(l.easeLinear).duration(At);vt.add(a.xAxis(a.axes.x,Ot)),vt.add(Ft.transition(Ot).attr("transform",Z)),vt.add(re.transition(Ot).attr("transform",Z)),vt.add(Ht.transition(Ot).attr("transform",Z)),vt.add(Ut.transition(Ot).attr("transform",Z)),vt.add(te.transition(Ot).attr("transform",Z)),vt.add(It.filter(a.isRegionOnX).transition(Ot).attr("transform",Z)),vt.add(st.transition(Ot).attr("transform",Z)),vt.add(ht.transition(Ot).attr("transform",Z)),vt(function(){var it,xt=[],Kt=[];if(gt){for(it=0;it<gt;it++)xt.push("."+T.shape+"-"+(pt+it)),Kt.push("."+T.text+"-"+(pt+it));a.svg.selectAll("."+T.shapes).selectAll(xt).remove(),a.svg.selectAll("."+T.texts).selectAll(Kt).remove(),a.svg.select("."+T.xgrid).remove()}st.attr("transform",null).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),ht.attr("transform",null),ht.select("line").attr("x1",c.axis_rotated?0:D).attr("x2",c.axis_rotated?a.width:D),ht.select("text").attr("x",c.axis_rotated?a.width:0).attr("y",D),Ft.attr("transform",null).attr("d",S),re.attr("transform",null).attr("d",P),Ht.attr("transform",null).attr("d",R),Ut.attr("transform",null).attr("cx",M).attr("cy",N),te.attr("transform",null).attr("x",H).attr("y",I).style("fill-opacity",a.opacityForText.bind(a)),It.attr("transform",null),It.filter(a.isRegionOnX).attr("x",a.regionX.bind(a)).attr("width",a.regionWidth.bind(a)),_t(),a.flowing=!1})}},r.prototype.focus=function(i){var a=this.internal,c;i=a.mapToTargetIds(i),c=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),this.revert(),this.defocus(),c.classed(T.focused,!0).classed(T.defocused,!1),a.hasArcType()&&a.expandArc(i),a.toggleFocusLegend(i,!0),a.focusedTargetIds=i,a.defocusedTargetIds=a.defocusedTargetIds.filter(function(l){return i.indexOf(l)<0})},r.prototype.defocus=function(i){var a=this.internal,c;i=a.mapToTargetIds(i),c=a.svg.selectAll(a.selectorTargets(i.filter(a.isTargetToShow,a))),c.classed(T.focused,!1).classed(T.defocused,!0),a.hasArcType()&&a.unexpandArc(i),a.toggleFocusLegend(i,!1),a.focusedTargetIds=a.focusedTargetIds.filter(function(l){return i.indexOf(l)<0}),a.defocusedTargetIds=i},r.prototype.revert=function(i){var a=this.internal,c;i=a.mapToTargetIds(i),c=a.svg.selectAll(a.selectorTargets(i)),c.classed(T.focused,!1).classed(T.defocused,!1),a.hasArcType()&&a.unexpandArc(i),a.config.legend_show&&(a.showLegend(i.filter(a.isLegendToShow.bind(a))),a.legend.selectAll(a.selectorLegends(i)).filter(function(){return a.d3.select(this).classed(T.legendItemFocused)}).classed(T.legendItemFocused,!1)),a.focusedTargetIds=[],a.defocusedTargetIds=[]},r.prototype.xgrids=function(i){var a=this.internal,c=a.config;return i&&(c.grid_x_lines=i,a.redrawWithoutRescale()),c.grid_x_lines},r.prototype.xgrids.add=function(i){var a=this.internal;return this.xgrids(a.config.grid_x_lines.concat(i||[]))},r.prototype.xgrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!0)},r.prototype.ygrids=function(i){var a=this.internal,c=a.config;return i&&(c.grid_y_lines=i,a.redrawWithoutRescale()),c.grid_y_lines},r.prototype.ygrids.add=function(i){var a=this.internal;return this.ygrids(a.config.grid_y_lines.concat(i||[]))},r.prototype.ygrids.remove=function(i){var a=this.internal;a.removeGridLines(i,!1)},r.prototype.groups=function(i){var a=this.internal,c=a.config;return C(i)||(c.data_groups=i,a.redraw()),c.data_groups},r.prototype.legend=function(){},r.prototype.legend.show=function(i){var a=this.internal;a.showLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!0})},r.prototype.legend.hide=function(i){var a=this.internal;a.hideLegend(a.mapToTargetIds(i)),a.updateAndRedraw({withLegend:!1})},r.prototype.load=function(i){var a=this.internal,c=a.config;if(i.xs&&a.addXs(i.xs),"names"in i&&r.prototype.data.names.bind(this)(i.names),"classes"in i&&Object.keys(i.classes).forEach(function(l){c.data_classes[l]=i.classes[l]}),"categories"in i&&a.isCategorized()&&(c.axis_x_categories=i.categories),"axes"in i&&Object.keys(i.axes).forEach(function(l){c.data_axes[l]=i.axes[l]}),"colors"in i&&Object.keys(i.colors).forEach(function(l){c.data_colors[l]=i.colors[l]}),"cacheIds"in i&&a.hasCaches(i.cacheIds)){a.load(a.getCaches(i.cacheIds),i.done);return}i.unload?a.unload(a.mapToTargetIds(i.unload===!0?null:i.unload),function(){a.loadFromArgs(i)}):a.loadFromArgs(i)},r.prototype.unload=function(i){var a=this.internal;i=i||{},i instanceof Array?i={ids:i}:typeof i=="string"&&(i={ids:[i]}),a.unload(a.mapToTargetIds(i.ids),function(){a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()})},r.prototype.pie=function(){},r.prototype.pie.padAngle=function(i){if(i===void 0)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=i,this.flush()},r.prototype.regions=function(i){var a=this.internal,c=a.config;return i&&(c.regions=i,a.redrawWithoutRescale()),c.regions},r.prototype.regions.add=function(i){var a=this.internal,c=a.config;return i&&(c.regions=c.regions.concat(i),a.redrawWithoutRescale()),c.regions},r.prototype.regions.remove=function(i){var a=this.internal,c=a.config,l,d,v;return i=i||{},l=f(i,"duration",c.transition_duration),d=f(i,"classes",[T.region]),v=a.main.select("."+T.regions).selectAll(d.map(function(S){return"."+S})),(l?v.transition().duration(l):v).style("opacity",0).remove(),c.regions=c.regions.filter(function(S){var P=!1;return S.class?(S.class.split(" ").forEach(function(R){d.indexOf(R)>=0&&(P=!0)}),!P):!0}),c.regions},r.prototype.selected=function(i){var a=this.internal,c=a.d3;return a.main.selectAll("."+T.shapes+a.getTargetSelectorSuffix(i)).selectAll("."+T.shape).filter(function(){return c.select(this).classed(T.SELECTED)}).nodes().map(function(l){var d=l.__data__;return d.data?d.data:d})},r.prototype.select=function(i,a,c){var l=this.internal,d=l.d3,v=l.config;v.data_selection_enabled&&l.main.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(S,P){var R=d.select(this),M=S.data?S.data.id:S.id,N=l.getToggle(this,S).bind(l),D=v.data_selection_grouped||!i||i.indexOf(M)>=0,H=!a||a.indexOf(P)>=0,I=R.classed(T.SELECTED);R.classed(T.line)||R.classed(T.area)||(D&&H?v.data_selection_isselectable(S)&&!I&&N(!0,R.classed(T.SELECTED,!0),S,P):m(c)&&c&&I&&N(!1,R.classed(T.SELECTED,!1),S,P))})},r.prototype.unselect=function(i,a){var c=this.internal,l=c.d3,d=c.config;d.data_selection_enabled&&c.main.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(v,S){var P=l.select(this),R=v.data?v.data.id:v.id,M=c.getToggle(this,v).bind(c),N=d.data_selection_grouped||!i||i.indexOf(R)>=0,D=!a||a.indexOf(S)>=0,H=P.classed(T.SELECTED);P.classed(T.line)||P.classed(T.area)||N&&D&&d.data_selection_isselectable(v)&&H&&M(!1,P.classed(T.SELECTED,!1),v,S)})},r.prototype.show=function(i,a){var c=this.internal,l;i=c.mapToTargetIds(i),a=a||{},c.removeHiddenTargetIds(i),l=c.svg.selectAll(c.selectorTargets(i)),l.transition().style("display",Q()?"block":"initial","important").style("opacity",1,"important").call(c.endall,function(){l.style("opacity",null).style("opacity",1)}),a.withLegend&&c.showLegend(i),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.hide=function(i,a){var c=this.internal,l;i=c.mapToTargetIds(i),a=a||{},c.addHiddenTargetIds(i),l=c.svg.selectAll(c.selectorTargets(i)),l.transition().style("opacity",0,"important").call(c.endall,function(){l.style("opacity",null).style("opacity",0),l.style("display","none")}),a.withLegend&&c.hideLegend(i),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},r.prototype.toggle=function(i,a){var c=this,l=this.internal;l.mapToTargetIds(i).forEach(function(d){l.isTargetToShow(d)?c.hide(d,a):c.show(d,a)})},r.prototype.subchart=function(){},r.prototype.subchart.isShown=function(){var i=this.internal;return i.config.subchart_show},r.prototype.subchart.show=function(){var i=this.internal;i.config.subchart_show||(i.config.subchart_show=!0,i.initSubchart(),i.updateDimension(),i.initSubchartBrush(),i.updateTargetsForSubchart(i.getTargets()),i.mapToIds(i.data.targets).forEach(function(a){i.withoutFadeIn[a]=!1}),i.updateAndRedraw(),i.showTargets())},r.prototype.subchart.hide=function(){var i=this.internal;i.config.subchart_show&&(i.config.subchart_show=!1,i.removeSubchart(),i.redraw())},r.prototype.tooltip=function(){},r.prototype.tooltip.show=function(i){var a=this.internal,c,l,d={};i.mouse?d=i.mouse:(i.data?l=i.data:typeof i.x<"u"&&(i.id?c=a.data.targets.filter(function(v){return v.id===i.id}):c=a.data.targets,l=a.filterByX(c,i.x).slice(0,1)[0]),d=l?a.getMousePosition(l):null),a.dispatchEvent("mousemove",d),a.config.tooltip_onshow.call(a,l)},r.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},r.prototype.transform=function(i,a){var c=this.internal,l=["pie","donut"].indexOf(i)>=0?{withTransform:!0}:null;c.transformTo(a,i,l)},n.prototype.transformTo=function(i,a,c){var l=this,d=!l.hasArcType(),v=c||{withTransitionForAxis:d};v.withTransitionForTransform=!1,l.transiting=!1,l.setTargetType(i,a),l.updateTargets(l.data.targets),l.updateAndRedraw(v)},r.prototype.x=function(i){var a=this.internal;return arguments.length&&(a.updateTargetX(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.xs=function(i){var a=this.internal;return arguments.length&&(a.updateTargetXs(a.data.targets,i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),a.data.xs},r.prototype.zoom=function(i){var a=this.internal;return i?(a.isTimeSeries()&&(i=i.map(function(c){return a.parseDate(c)})),a.config.subchart_show?a.brush.selectionAsValue(i,!0):(a.updateXDomain(null,!0,!1,!1,i),a.redraw({withY:a.config.zoom_rescale,withSubchart:!1})),a.config.zoom_onzoom.call(this,a.x.orgDomain()),i):a.x.domain()},r.prototype.zoom.enable=function(i){var a=this.internal;a.config.zoom_enabled=i,a.updateAndRedraw()},r.prototype.unzoom=function(){var i=this.internal;i.config.subchart_show?i.brush.clear():(i.updateXDomain(null,!0,!1,!1,i.subX.domain()),i.redraw({withY:i.config.zoom_rescale,withSubchart:!1}))},r.prototype.zoom.max=function(i){var a=this.internal,c=a.config,l=a.d3;if(i===0||i)c.zoom_x_max=l.max([a.orgXDomain[1],i]);else return c.zoom_x_max},r.prototype.zoom.min=function(i){var a=this.internal,c=a.config,l=a.d3;if(i===0||i)c.zoom_x_min=l.min([a.orgXDomain[0],i]);else return c.zoom_x_min},r.prototype.zoom.range=function(i){if(arguments.length)m(i.max)&&this.domain.max(i.max),m(i.min)&&this.domain.min(i.min);else return{max:this.domain.max(),min:this.domain.min()}},n.prototype.initPie=function(){var i=this,a=i.d3;i.pie=a.pie().padAngle(this.getPadAngle.bind(this)).value(function(d){return d.values.reduce(function(v,S){return v+S.value},0)});var c=i.getOrderFunction();if(c&&(i.isOrderAsc()||i.isOrderDesc())){var l=c;c=function(d,v){return l(d,v)*-1}}i.pie.sort(c||null)},n.prototype.updateRadius=function(){var i=this,a=i.config,c=a.gauge_width||a.donut_width,l=i.filterTargetsToShow(i.data.targets).length*i.config.gauge_arcs_minWidth;i.radiusExpanded=Math.min(i.arcWidth,i.arcHeight)/2*(i.hasType("gauge")?.85:1),i.radius=i.radiusExpanded*.95,i.innerRadiusRatio=c?(i.radius-c)/i.radius:.6,i.innerRadius=i.hasType("donut")||i.hasType("gauge")?i.radius*i.innerRadiusRatio:0,i.gaugeArcWidth=c||(l<=i.radius-i.innerRadius?i.radius-i.innerRadius:l<=i.radius?l:i.radius)},n.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},n.prototype.updateArc=function(){var i=this;i.svgArc=i.getSvgArc(),i.svgArcExpanded=i.getSvgArcExpanded(),i.svgArcExpandedSub=i.getSvgArcExpanded(.98)},n.prototype.updateAngle=function(i){var a=this,c=a.config,l=!1,d=0,v,S,P,R;return c?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach(function(M){!l&&M.data.id===i.data.id&&(l=!0,i=M,i.index=d),d++}),isNaN(i.startAngle)&&(i.startAngle=0),isNaN(i.endAngle)&&(i.endAngle=i.startAngle),a.isGaugeType(i.data)&&(v=c.gauge_min,S=c.gauge_max,P=Math.PI*(c.gauge_fullCircle?2:1)/(S-v),R=i.value<v?0:i.value<S?i.value-v:S-v,i.startAngle=c.gauge_startingAngle,i.endAngle=i.startAngle+P*R),l?i:null):null},n.prototype.getSvgArc=function(){var i=this,a=i.hasType("gauge"),c=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,l=i.d3.arc().outerRadius(function(v){return a?i.radius-c*v.index:i.radius}).innerRadius(function(v){return a?i.radius-c*(v.index+1):i.innerRadius}),d=function(v,S){var P;return S?l(v):(P=i.updateAngle(v),P?l(P):"M 0 0")};return d.centroid=l.centroid,d},n.prototype.getSvgArcExpanded=function(i){i=i||1;var a=this,c=a.hasType("gauge"),l=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,d=Math.min(a.radiusExpanded*i-a.radius,l*.8-(1-i)*100),v=a.d3.arc().outerRadius(function(S){return c?a.radius-l*S.index+d:a.radiusExpanded*i}).innerRadius(function(S){return c?a.radius-l*(S.index+1):a.innerRadius});return function(S){var P=a.updateAngle(S);return P?v(P):"M 0 0"}},n.prototype.getArc=function(i,a,c){return c||this.isArcType(i.data)?this.svgArc(i,a):"M 0 0"},n.prototype.transformForArcLabel=function(i){var a=this,c=a.config,l=a.updateAngle(i),d,v,S,P,R,M="",N=a.hasType("gauge");if(l&&!N)d=this.svgArc.centroid(l),v=isNaN(d[0])?0:d[0],S=isNaN(d[1])?0:d[1],P=Math.sqrt(v*v+S*S),a.hasType("donut")&&c.donut_label_ratio?R=w(c.donut_label_ratio)?c.donut_label_ratio(i,a.radius,P):c.donut_label_ratio:a.hasType("pie")&&c.pie_label_ratio?R=w(c.pie_label_ratio)?c.pie_label_ratio(i,a.radius,P):c.pie_label_ratio:R=a.radius&&P?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/P:0,M="translate("+v*R+","+S*R+")";else if(l&&N&&a.filterTargetsToShow(a.data.targets).length>1){var D=Math.sin(l.endAngle-Math.PI/2);v=Math.cos(l.endAngle-Math.PI/2)*(a.radiusExpanded+25),S=D*(a.radiusExpanded+15-Math.abs(D*10))+3,M="translate("+v+","+S+")"}return M},n.prototype.getArcRatio=function(i){return this.getRatio("arc",i)},n.prototype.convertToArcData=function(i){return this.addName({id:i.data.id,value:i.value,ratio:this.getRatio("arc",i),index:i.index})},n.prototype.textForArcLabel=function(i){var a=this,c,l,d,v,S;return!a.shouldShowArcLabel()||(c=a.updateAngle(i),l=c?c.value:null,d=a.getRatio("arc",c),v=i.data.id,!a.hasType("gauge")&&!a.meetsArcLabelThreshold(d))?"":(S=a.getArcLabelFormat(),S?S(l,d,v):a.defaultArcValueFormat(l,d))},n.prototype.textForGaugeMinMax=function(i,a){var c=this,l=c.getGaugeLabelExtents();return l?l(i,a):i},n.prototype.expandArc=function(i){var a=this,c;if(a.transiting){c=window.setInterval(function(){a.transiting||(window.clearInterval(c),a.legend.selectAll(".c3-legend-item-focused").size()>0&&a.expandArc(i))},10);return}i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+T.chartArc)).each(function(l){a.shouldExpand(l.data.id)&&a.d3.select(this).selectAll("path").transition().duration(a.expandDuration(l.data.id)).attr("d",a.svgArcExpanded).transition().duration(a.expandDuration(l.data.id)*2).attr("d",a.svgArcExpandedSub).each(function(d){a.isDonutType(d.data)})})},n.prototype.unexpandArc=function(i){var a=this;a.transiting||(i=a.mapToTargetIds(i),a.svg.selectAll(a.selectorTargets(i,"."+T.chartArc)).selectAll("path").transition().duration(function(c){return a.expandDuration(c.data.id)}).attr("d",a.svgArc),a.svg.selectAll("."+T.arc))},n.prototype.expandDuration=function(i){var a=this,c=a.config;return a.isDonutType(i)?c.donut_expand_duration:a.isGaugeType(i)?c.gauge_expand_duration:a.isPieType(i)?c.pie_expand_duration:50},n.prototype.shouldExpand=function(i){var a=this,c=a.config;return a.isDonutType(i)&&c.donut_expand||a.isGaugeType(i)&&c.gauge_expand||a.isPieType(i)&&c.pie_expand},n.prototype.shouldShowArcLabel=function(){var i=this,a=i.config,c=!0;return i.hasType("donut")?c=a.donut_label_show:i.hasType("pie")&&(c=a.pie_label_show),c},n.prototype.meetsArcLabelThreshold=function(i){var a=this,c=a.config,l=a.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold;return i>=l},n.prototype.getArcLabelFormat=function(){var i=this,a=i.config,c=a.pie_label_format;return i.hasType("gauge")?c=a.gauge_label_format:i.hasType("donut")&&(c=a.donut_label_format),c},n.prototype.getGaugeLabelExtents=function(){var i=this,a=i.config;return a.gauge_label_extents},n.prototype.getArcTitle=function(){var i=this;return i.hasType("donut")?i.config.donut_title:""},n.prototype.updateTargetsForArc=function(i){var a=this,c=a.main,l,d,v=a.classChartArc.bind(a),S=a.classArcs.bind(a),P=a.classFocus.bind(a);l=c.select("."+T.chartArcs).selectAll("."+T.chartArc).data(a.pie(i)).attr("class",function(R){return v(R)+P(R.data)}),d=l.enter().append("g").attr("class",v),d.append("g").attr("class",S),d.append("text").attr("dy",a.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},n.prototype.initArc=function(){var i=this;i.arcs=i.main.select("."+T.chart).append("g").attr("class",T.chartArcs).attr("transform",i.getTranslate("arc")),i.arcs.append("text").attr("class",T.chartArcsTitle).style("text-anchor","middle").text(i.getArcTitle())},n.prototype.redrawArc=function(i,a,c){var l=this,d=l.d3,v=l.config,S=l.main,P,R,M,N,D=l.hasType("gauge");if(P=S.selectAll("."+T.arcs).selectAll("."+T.arc).data(l.arcData.bind(l)),R=P.enter().append("path").attr("class",l.classArc.bind(l)).style("fill",function(W){return l.color(W.data)}).style("cursor",function(W){return v.interaction_enabled&&v.data_selection_isselectable(W)?"pointer":null}).each(function(W){l.isGaugeType(W.data)&&(W.startAngle=W.endAngle=v.gauge_startingAngle),this._current=W}).merge(P),D&&(M=S.selectAll("."+T.arcs).selectAll("."+T.arcLabelLine).data(l.arcData.bind(l)),N=M.enter().append("rect").attr("class",function(W){return T.arcLabelLine+" "+T.target+" "+T.target+"-"+W.data.id}).merge(M),l.filterTargetsToShow(l.data.targets).length===1?N.style("display","none"):N.style("fill",function(W){return l.levelColor?l.levelColor(W.data.values.reduce(function(j,tt){return j+tt.value},0)):l.color(W.data)}).style("display",v.gauge_labelLine_show?"":"none").each(function(W){var j=0,tt=2,Z=0,pt=0,gt="";if(l.hiddenTargetIds.indexOf(W.data.id)<0){var wt=l.updateAngle(W),bt=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(wt.index+1),St=wt.endAngle-Math.PI/2,ft=l.radius-bt,At=St-(ft===0?0:1/ft);j=l.radiusExpanded-l.radius+bt,Z=Math.cos(At)*ft,pt=Math.sin(At)*ft,gt="rotate("+St*180/Math.PI+", "+Z+", "+pt+")"}d.select(this).attr("x",Z).attr("y",pt).attr("width",j).attr("height",tt).attr("transform",gt).style("stroke-dasharray","0, "+(j+tt)+", 0")})),R.attr("transform",function(W){return!l.isGaugeType(W.data)&&c?"scale(0)":""}).on("mouseover",v.interaction_enabled?function(W){var j,tt;l.transiting||(j=l.updateAngle(W),j&&(tt=l.convertToArcData(j),l.expandArc(j.data.id),l.api.focus(j.data.id),l.toggleFocusLegend(j.data.id,!0),l.config.data_onmouseover(tt,this)))}:null).on("mousemove",v.interaction_enabled?function(W){var j=l.updateAngle(W),tt,Z;j&&(tt=l.convertToArcData(j),Z=[tt],l.showTooltip(Z,this))}:null).on("mouseout",v.interaction_enabled?function(W){var j,tt;l.transiting||(j=l.updateAngle(W),j&&(tt=l.convertToArcData(j),l.unexpandArc(j.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(tt,this)))}:null).on("click",v.interaction_enabled?function(W,j){var tt=l.updateAngle(W),Z;tt&&(Z=l.convertToArcData(tt),l.toggleShape&&l.toggleShape(this,Z,j),l.config.data_onclick.call(l.api,Z,this))}:null).each(function(){l.transiting=!0}).transition().duration(i).attrTween("d",function(W){var j=l.updateAngle(W),tt;return j?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),tt=d.interpolate(this._current,j),this._current=tt(0),function(Z){if(l.config===null)return"M 0 0";var pt=tt(Z);return pt.data=W.data,l.getArc(pt,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(W){return l.levelColor?l.levelColor(W.data.values.reduce(function(j,tt){return j+tt.value},0)):l.color(W.data.id)}).call(l.endall,function(){l.transiting=!1}),P.exit().transition().duration(a).style("opacity",0).remove(),S.selectAll("."+T.chartArc).select("text").style("opacity",0).attr("class",function(W){return l.isGaugeType(W.data)?T.gaugeValue:""}).text(l.textForArcLabel.bind(l)).attr("transform",l.transformForArcLabel.bind(l)).style("font-size",function(W){return l.isGaugeType(W.data)&&l.filterTargetsToShow(l.data.targets).length===1?Math.round(l.radius/5)+"px":""}).transition().duration(i).style("opacity",function(W){return l.isTargetToShow(W.data.id)&&l.isArcType(W.data)?1:0}),S.select("."+T.chartArcsTitle).style("opacity",l.hasType("donut")||D?1:0),D){var H=0,I=l.arcs.select("g."+T.chartArcsBackground).selectAll("path."+T.chartArcsBackground).data(l.data.targets);I.enter().append("path").attr("class",function(W,j){return T.chartArcsBackground+" "+T.chartArcsBackground+"-"+j}).merge(I).attr("d",function(W){if(l.hiddenTargetIds.indexOf(W.id)>=0)return"M 0 0";var j={data:[{value:v.gauge_max}],startAngle:v.gauge_startingAngle,endAngle:-1*v.gauge_startingAngle*(v.gauge_fullCircle?Math.PI:1),index:H++};return l.getArc(j,!0,!0)}),I.exit().remove(),l.arcs.select("."+T.chartArcsGaugeUnit).attr("dy",".75em").text(v.gauge_label_show?v.gauge_units:""),l.arcs.select("."+T.chartArcsGaugeMin).attr("dx",-1*(l.innerRadius+(l.radius-l.innerRadius)/(v.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(v.gauge_label_show?l.textForGaugeMinMax(v.gauge_min,!1):""),l.arcs.select("."+T.chartArcsGaugeMax).attr("dx",l.innerRadius+(l.radius-l.innerRadius)/(v.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(v.gauge_label_show?l.textForGaugeMinMax(v.gauge_max,!0):"")}},n.prototype.initGauge=function(){var i=this.arcs;this.hasType("gauge")&&(i.append("g").attr("class",T.chartArcsBackground),i.append("text").attr("class",T.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",T.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),i.append("text").attr("class",T.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},n.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},n.prototype.addToCache=function(i,a){this.cache["$"+i]=a},n.prototype.getFromCache=function(i){return this.cache["$"+i]},n.prototype.resetCache=function(){var i=this;Object.keys(this.cache).filter(function(a){return/^\$/.test(a)}).forEach(function(a){delete i.cache[a]})},n.prototype.hasCaches=function(i){for(var a=0;a<i.length;a++)if(!(i[a]in this.cache))return!1;return!0},n.prototype.addCache=function(i,a){this.cache[i]=this.cloneTarget(a)},n.prototype.getCaches=function(i){var a=[],c;for(c=0;c<i.length;c++)i[c]in this.cache&&a.push(this.cloneTarget(this.cache[i[c]]));return a},n.prototype.categoryName=function(i){var a=this.config;return i<a.axis_x_categories.length?a.axis_x_categories[i]:i},n.prototype.generateTargetClass=function(i){return i||i===0?("-"+i).replace(/\s/g,"-"):""},n.prototype.generateClass=function(i,a){return" "+i+" "+i+this.generateTargetClass(a)},n.prototype.classText=function(i){return this.generateClass(T.text,i.index)},n.prototype.classTexts=function(i){return this.generateClass(T.texts,i.id)},n.prototype.classShape=function(i){return this.generateClass(T.shape,i.index)},n.prototype.classShapes=function(i){return this.generateClass(T.shapes,i.id)},n.prototype.classLine=function(i){return this.classShape(i)+this.generateClass(T.line,i.id)},n.prototype.classLines=function(i){return this.classShapes(i)+this.generateClass(T.lines,i.id)},n.prototype.classCircle=function(i){return this.classShape(i)+this.generateClass(T.circle,i.index)},n.prototype.classCircles=function(i){return this.classShapes(i)+this.generateClass(T.circles,i.id)},n.prototype.classBar=function(i){return this.classShape(i)+this.generateClass(T.bar,i.index)},n.prototype.classBars=function(i){return this.classShapes(i)+this.generateClass(T.bars,i.id)},n.prototype.classArc=function(i){return this.classShape(i.data)+this.generateClass(T.arc,i.data.id)},n.prototype.classArcs=function(i){return this.classShapes(i.data)+this.generateClass(T.arcs,i.data.id)},n.prototype.classArea=function(i){return this.classShape(i)+this.generateClass(T.area,i.id)},n.prototype.classAreas=function(i){return this.classShapes(i)+this.generateClass(T.areas,i.id)},n.prototype.classRegion=function(i,a){return this.generateClass(T.region,a)+" "+("class"in i?i.class:"")},n.prototype.classEvent=function(i){return this.generateClass(T.eventRect,i.index)},n.prototype.classTarget=function(i){var a=this,c=a.config.data_classes[i],l="";return c&&(l=" "+T.target+"-"+c),a.generateClass(T.target,i)+l},n.prototype.classFocus=function(i){return this.classFocused(i)+this.classDefocused(i)},n.prototype.classFocused=function(i){return" "+(this.focusedTargetIds.indexOf(i.id)>=0?T.focused:"")},n.prototype.classDefocused=function(i){return" "+(this.defocusedTargetIds.indexOf(i.id)>=0?T.defocused:"")},n.prototype.classChartText=function(i){return T.chartText+this.classTarget(i.id)},n.prototype.classChartLine=function(i){return T.chartLine+this.classTarget(i.id)},n.prototype.classChartBar=function(i){return T.chartBar+this.classTarget(i.id)},n.prototype.classChartArc=function(i){return T.chartArc+this.classTarget(i.data.id)},n.prototype.getTargetSelectorSuffix=function(i){var a=this.generateTargetClass(i);return window.CSS&&window.CSS.escape?window.CSS.escape(a):a.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},n.prototype.selectorTarget=function(i,a){return(a||"")+"."+T.target+this.getTargetSelectorSuffix(i)},n.prototype.selectorTargets=function(i,a){var c=this;return i=i||[],i.length?i.map(function(l){return c.selectorTarget(l,a)}):null},n.prototype.selectorLegend=function(i){return"."+T.legendItem+this.getTargetSelectorSuffix(i)},n.prototype.selectorLegends=function(i){var a=this;return i&&i.length?i.map(function(c){return a.selectorLegend(c)}):null},n.prototype.getClipPath=function(i){return"url("+(Q(9)?"":document.URL.split("#")[0])+"#"+i+")"},n.prototype.appendClip=function(i,a){return i.append("clipPath").attr("id",a).append("rect")},n.prototype.getAxisClipX=function(i){var a=Math.max(30,this.margin.left);return i?-(1+a):-(a-1)},n.prototype.getAxisClipY=function(i){return i?-20:-this.margin.top},n.prototype.getXAxisClipX=function(){var i=this;return i.getAxisClipX(!i.config.axis_rotated)},n.prototype.getXAxisClipY=function(){var i=this;return i.getAxisClipY(!i.config.axis_rotated)},n.prototype.getYAxisClipX=function(){var i=this;return i.config.axis_y_inner?-1:i.getAxisClipX(i.config.axis_rotated)},n.prototype.getYAxisClipY=function(){var i=this;return i.getAxisClipY(i.config.axis_rotated)},n.prototype.getAxisClipWidth=function(i){var a=this,c=Math.max(30,a.margin.left),l=Math.max(30,a.margin.right);return i?a.width+2+c+l:a.margin.left+20},n.prototype.getAxisClipHeight=function(i){return(i?this.margin.bottom:this.margin.top+this.height)+20},n.prototype.getXAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(!i.config.axis_rotated)},n.prototype.getXAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(!i.config.axis_rotated)},n.prototype.getYAxisClipWidth=function(){var i=this;return i.getAxisClipWidth(i.config.axis_rotated)+(i.config.axis_y_inner?20:0)},n.prototype.getYAxisClipHeight=function(){var i=this;return i.getAxisClipHeight(i.config.axis_rotated)},n.prototype.generateColor=function(){var i=this,a=i.config,c=i.d3,l=a.data_colors,d=L(a.color_pattern)?a.color_pattern:c.schemeCategory10,v=a.data_color,S=[];return function(P){var R=P.id||P.data&&P.data.id||P,M;return l[R]instanceof Function?M=l[R](P):l[R]?M=l[R]:(S.indexOf(R)<0&&S.push(R),M=d[S.indexOf(R)%d.length],l[R]=M),v instanceof Function?v(M,P):M}},n.prototype.generateLevelColor=function(){var i=this,a=i.config,c=a.color_pattern,l=a.color_threshold,d=l.unit==="value",v=l.values&&l.values.length?l.values:[],S=l.max||100;return L(l)&&L(c)?function(P){var R,M,N=c[c.length-1];for(R=0;R<v.length;R++)if(M=d?P:P*100/S,M<v[R]){N=c[R];break}return N}:null},n.prototype.getDefaultConfig=function(){var i={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(a,c,l,d){return this.getTooltipContent?this.getTooltipContent(a,c,l,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(a){i[a]=this.additionalConfig[a]},this),i},n.prototype.additionalConfig={},n.prototype.loadConfig=function(i){var a=this.config,c,l,d;function v(){var S=l.shift();return S&&c&&typeof c=="object"&&S in c?(c=c[S],v()):S?void 0:c}Object.keys(a).forEach(function(S){c=i,l=S.split("_"),d=v(),m(d)&&(a[S]=d)})},n.prototype.convertUrlToData=function(i,a,c,l,d){var v=this,S=a||"csv",P,R;S==="json"?(P=v.d3.json,R=v.convertJsonToData):S==="tsv"?(P=v.d3.tsv,R=v.convertXsvToData):(P=v.d3.csv,R=v.convertXsvToData),P(i,c).then(function(M){d.call(v,R.call(v,M,l))}).catch(function(M){throw M})},n.prototype.convertXsvToData=function(i){var a=i.columns,c=i;return c.length===0?{keys:a,rows:[a.reduce(function(l,d){var v;return Object.assign(l,(v={},v[d]=null,v))},{})]}:{keys:a,rows:[].concat(i)}},n.prototype.convertJsonToData=function(i,a){var c=this,l=[],d,v;return a?(a.x?(d=a.value.concat(a.x),c.config.data_x=a.x):d=a.value,l.push(d),i.forEach(function(S){var P=[];d.forEach(function(R){var M=c.findValueInJson(S,R);C(M)&&(M=null),P.push(M)}),l.push(P)}),v=c.convertRowsToData(l)):(Object.keys(i).forEach(function(S){l.push([S].concat(i[S]))}),v=c.convertColumnsToData(l)),v},n.prototype.findValueInJson=function(i,a){if(a in i)return i[a];a=a.replace(/\[(\w+)\]/g,".$1"),a=a.replace(/^\./,"");for(var c=a.split("."),l=0;l<c.length;++l){var d=c[l];if(d in i)i=i[d];else return}return i},n.prototype.convertRowsToData=function(i){for(var a=[],c=i[0],l=1;l<i.length;l++){for(var d={},v=0;v<i[l].length;v++){if(C(i[l][v]))throw new Error("Source data is missing a component at ("+l+","+v+")!");d[c[v]]=i[l][v]}a.push(d)}return{keys:c,rows:a}},n.prototype.convertColumnsToData=function(i){for(var a=[],c=[],l=0;l<i.length;l++){for(var d=i[l][0],v=1;v<i[l].length;v++){if(C(a[v-1])&&(a[v-1]={}),C(i[l][v]))throw new Error("Source data is missing a component at ("+l+","+v+")!");a[v-1][d]=i[l][v]}c.push(d)}return{keys:c,rows:a}},n.prototype.convertDataToTargets=function(i,a){var c=this,l=c.config,d,v,S,P,R;if(y(i)?P=Object.keys(i[0]):(P=i.keys,i=i.rows),S=P.filter(c.isX,c),!c.isStanfordGraphType())v=P.filter(c.isNotX,c);else if(R=P.filter(c.isEpochs,c),v=P.filter(c.isNotXAndNotEpochs,c),S.length!==1||R.length!==1||v.length!==1)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");return v.forEach(function(M){var N=c.getXKey(M);c.isCustomX()||c.isTimeSeries()?S.indexOf(N)>=0?c.data.xs[M]=(a&&c.data.xs[M]?c.data.xs[M]:[]).concat(i.map(function(D){return D[N]}).filter($).map(function(D,H){return c.generateTargetX(D,M,H)})):l.data_x?c.data.xs[M]=c.getOtherTargetXs():L(l.data_xs)&&(c.data.xs[M]=c.getXValuesOfXKey(N,c.data.targets)):c.data.xs[M]=i.map(function(D,H){return H})}),v.forEach(function(M){if(!c.data.xs[M])throw new Error('x is not defined for id = "'+M+'".')}),d=v.map(function(M,N){var D=l.data_idConverter(M);return{id:D,id_org:M,values:i.map(function(H,I){var W=c.getXKey(M),j=H[W],tt=H[M]!==null&&!isNaN(H[M])?+H[M]:null,Z,pt;return c.isCustomX()&&c.isCategorized()&&!C(j)?(N===0&&I===0&&(l.axis_x_categories=[]),Z=l.axis_x_categories.indexOf(j),Z===-1&&(Z=l.axis_x_categories.length,l.axis_x_categories.push(j))):Z=c.generateTargetX(j,M,I),(C(H[M])||c.data.xs[M].length<=I)&&(Z=void 0),pt={x:Z,value:tt,id:D},c.isStanfordGraphType()&&(pt.epochs=H[R]),pt}).filter(function(H){return m(H.x)})}}),d.forEach(function(M){var N;l.data_xSort&&(M.values=M.values.sort(function(D,H){var I=D.x||D.x===0?D.x:1/0,W=H.x||H.x===0?H.x:1/0;return I-W})),N=0,M.values.forEach(function(D){D.index=N++}),c.data.xs[M.id].sort(function(D,H){return D-H})}),c.hasNegativeValue=c.hasNegativeValueInTargets(d),c.hasPositiveValue=c.hasPositiveValueInTargets(d),l.data_type&&c.setTargetType(c.mapToIds(d).filter(function(M){return!(M in l.data_types)}),l.data_type),d.forEach(function(M){c.addCache(M.id_org,M)}),d},n.prototype.isEpochs=function(i){var a=this,c=a.config;return c.data_epochs&&i===c.data_epochs},n.prototype.isX=function(i){var a=this,c=a.config;return c.data_x&&i===c.data_x||L(c.data_xs)&&g(c.data_xs,i)},n.prototype.isNotX=function(i){return!this.isX(i)},n.prototype.isNotXAndNotEpochs=function(i){return!this.isX(i)&&!this.isEpochs(i)},n.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},n.prototype.isAxisNormalized=function(i){var a=this;return a.isStackNormalized()?a.data.targets.filter(function(c){return a.axis.getId(c.id)===i}).some(function(c){return a.isTargetNormalized(c.id)}):!1},n.prototype.isTargetNormalized=function(i){var a=this;return a.isStackNormalized()&&a.config.data_groups.some(function(c){return c.includes(i)})},n.prototype.getXKey=function(i){var a=this,c=a.config;return c.data_x?c.data_x:L(c.data_xs)?c.data_xs[i]:null},n.prototype.getTotalPerIndex=function(i){var a=this;if(!a.isStackNormalized())return null;var c=a.getFromCache("getTotalPerIndex");if(c!==void 0)return c[i];var l={y:[],y2:[]};return a.data.targets.filter(function(d){return a.isTargetNormalized(d.id)}).filter(function(d){return a.isTargetToShow(d.id)}).forEach(function(d){var v=l[a.axis.getId(d.id)];d.values.forEach(function(S,P){v[P]||(v[P]=0),v[P]+=b(S.value)?S.value:0})}),a.addToCache("getTotalPerIndex",l),l[i]},n.prototype.getTotalDataSum=function(){var i=this,a=i.getFromCache("getTotalDataSum");if(a!==void 0)return a;var c=V(i.data.targets.filter(function(l){return i.isTargetToShow(l.id)}).map(function(l){return l.values})).map(function(l){return l.value}).reduce(function(l,d){return l+d},0);return i.addToCache("getTotalDataSum",c),c},n.prototype.getXValuesOfXKey=function(i,a){var c=this,l,d=a&&L(a)?c.mapToIds(a):[];return d.forEach(function(v){c.getXKey(v)===i&&(l=c.data.xs[v])}),l},n.prototype.getXValue=function(i,a){var c=this;return i in c.data.xs&&c.data.xs[i]&&$(c.data.xs[i][a])?c.data.xs[i][a]:a},n.prototype.getOtherTargetXs=function(){var i=this,a=Object.keys(i.data.xs);return a.length?i.data.xs[a[0]]:null},n.prototype.getOtherTargetX=function(i){var a=this.getOtherTargetXs();return a&&i<a.length?a[i]:null},n.prototype.addXs=function(i){var a=this;Object.keys(i).forEach(function(c){a.config.data_xs[c]=i[c]})},n.prototype.addName=function(i){var a=this,c;return i&&(c=a.config.data_names[i.id],i.name=c!==void 0?c:i.id),i},n.prototype.getValueOnIndex=function(i,a){var c=i.filter(function(l){return l.index===a});return c.length?c[0]:null},n.prototype.updateTargetX=function(i,a){var c=this;i.forEach(function(l){l.values.forEach(function(d,v){d.x=c.generateTargetX(a[v],l.id,v)}),c.data.xs[l.id]=a})},n.prototype.updateTargetXs=function(i,a){var c=this;i.forEach(function(l){a[l.id]&&c.updateTargetX([l],a[l.id])})},n.prototype.generateTargetX=function(i,a,c){var l=this,d;return l.isTimeSeries()?d=i?l.parseDate(i):l.parseDate(l.getXValue(a,c)):l.isCustomX()&&!l.isCategorized()?d=$(i)?+i:l.getXValue(a,c):d=c,d},n.prototype.cloneTarget=function(i){return{id:i.id,id_org:i.id_org,values:i.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},n.prototype.getMaxDataCount=function(){var i=this;return i.d3.max(i.data.targets,function(a){return a.values.length})},n.prototype.mapToIds=function(i){return i.map(function(a){return a.id})},n.prototype.mapToTargetIds=function(i){var a=this;return i?[].concat(i):a.mapToIds(a.data.targets)},n.prototype.hasTarget=function(i,a){var c=this.mapToIds(i),l;for(l=0;l<c.length;l++)if(c[l]===a)return!0;return!1},n.prototype.isTargetToShow=function(i){return this.hiddenTargetIds.indexOf(i)<0},n.prototype.isLegendToShow=function(i){return this.hiddenLegendIds.indexOf(i)<0},n.prototype.getTargetsToShow=function(){var i=this;return i.filterTargetsToShow(i.data.targets)},n.prototype.filterTargetsToShow=function(i){var a=this;return i.filter(function(c){return a.isTargetToShow(c.id)})},n.prototype.getTargets=function(){var i=this;return i.data.targets},n.prototype.mapTargetsToUniqueXs=function(i){var a=this,c=a.d3.set(a.d3.merge(i.map(function(l){return l.values.map(function(d){return+d.x})}))).values();return c=a.isTimeSeries()?c.map(function(l){return new Date(+l)}):c.map(function(l){return+l}),c.sort(function(l,d){return l<d?-1:l>d?1:l>=d?0:NaN})},n.prototype.addHiddenTargetIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenTargetIds.indexOf(i[a])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(i[a]));this.resetCache()},n.prototype.removeHiddenTargetIds=function(i){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(a){return i.indexOf(a)<0}),this.resetCache()},n.prototype.addHiddenLegendIds=function(i){i=i instanceof Array?i:new Array(i);for(var a=0;a<i.length;a++)this.hiddenLegendIds.indexOf(i[a])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(i[a]))},n.prototype.removeHiddenLegendIds=function(i){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(a){return i.indexOf(a)<0})},n.prototype.getValuesAsIdKeyed=function(i){var a={};return i.forEach(function(c){a[c.id]=[],c.values.forEach(function(l){a[c.id].push(l.value)})}),a},n.prototype.checkValueInTargets=function(i,a){var c=Object.keys(i),l,d,v;for(l=0;l<c.length;l++)for(v=i[c[l]].values,d=0;d<v.length;d++)if(a(v[d].value))return!0;return!1},n.prototype.hasNegativeValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a<0})},n.prototype.hasPositiveValueInTargets=function(i){return this.checkValueInTargets(i,function(a){return a>0})},n.prototype.isOrderDesc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="desc"},n.prototype.isOrderAsc=function(){var i=this.config;return typeof i.data_order=="string"&&i.data_order.toLowerCase()==="asc"},n.prototype.getOrderFunction=function(){var i=this,a=i.config,c=i.isOrderAsc(),l=i.isOrderDesc();if(c||l){var d=function(S,P){return S+Math.abs(P.value)};return function(S,P){var R=S.values.reduce(d,0),M=P.values.reduce(d,0);return c?M-R:R-M}}else{if(w(a.data_order))return a.data_order;if(y(a.data_order)){var v=a.data_order;return function(S,P){return v.indexOf(S.id)-v.indexOf(P.id)}}}},n.prototype.orderTargets=function(i){var a=this.getOrderFunction();return a&&i.sort(a),i},n.prototype.filterByIndex=function(i,a){return this.d3.merge(i.map(function(c){return c.values.filter(function(l){return l.index===a})}))},n.prototype.filterByX=function(i,a){return this.d3.merge(i.map(function(c){return c.values})).filter(function(c){return c.x-a===0})},n.prototype.filterRemoveNull=function(i){return i.filter(function(a){return $(a.value)})},n.prototype.filterByXDomain=function(i,a){return i.map(function(c){return{id:c.id,id_org:c.id_org,values:c.values.filter(function(l){return a[0]<=l.x&&l.x<=a[1]})}})},n.prototype.hasDataLabel=function(){var i=this.config;return typeof i.data_labels=="boolean"&&i.data_labels?!0:!!(typeof i.data_labels=="object"&&L(i.data_labels))},n.prototype.getDataLabelLength=function(i,a,c){var l=this,d=[0,0],v=1.3;return l.selectChart.select("svg").selectAll(".dummy").data([i,a]).enter().append("text").text(function(S){return l.dataLabelFormat(S.id)(S)}).each(function(S,P){d[P]=p(this)[c]*v}).remove(),d},n.prototype.isNoneArc=function(i){return this.hasTarget(this.data.targets,i.id)},n.prototype.isArc=function(i){return"data"in i&&this.hasTarget(this.data.targets,i.data.id)},n.prototype.findClosestFromTargets=function(i,a){var c=this,l=i.map(function(d){return c.findClosest(d.values,a,c.config.tooltip_horizontal?c.horizontalDistance.bind(c):c.dist.bind(c),c.config.point_sensitivity)}).filter(function(d){return d});if(l.length!==0)return l.length===1?l[0]:c.findClosest(l,a,c.dist.bind(c))},n.prototype.findClosestFromTargetsByX=function(i,a){var c,l;return i.forEach(function(d){d.values.forEach(function(v){var S=Math.abs(a-v.x);(l===void 0||S<l)&&(c=v,l=S)})}),c},n.prototype.findClosest=function(i,a,c,l){l===void 0&&(l=1/0);var d=this,v;return i.filter(function(S){return S&&d.isBarType(S.id)}).forEach(function(S){if(!v){var P=d.main.select("."+T.bars+d.getTargetSelectorSuffix(S.id)+" ."+T.bar+"-"+S.index).node();d.isWithinBar(a,P)&&(v=S)}}),i.filter(function(S){return S&&!d.isBarType(S.id)}).forEach(function(S){var P=c(S,a);P<l&&(l=P,v=S)}),v},n.prototype.dist=function(i,a){var c=this,l=c.config,d=l.axis_rotated?1:0,v=l.axis_rotated?0:1,S=c.circleY(i,i.index),P=c.x(i.x);return Math.sqrt(Math.pow(P-a[d],2)+Math.pow(S-a[v],2))},n.prototype.horizontalDistance=function(i,a){var c=this,l=c.config,d=l.axis_rotated?1:0,v=c.x(i.x);return Math.abs(v-a[d])},n.prototype.convertValuesToStep=function(i){var a=[].concat(i),c;if(!this.isCategorized())return i;for(c=i.length+1;0<c;c--)a[c]=a[c-1];return a[0]={x:a[0].x-1,value:a[0].value,id:a[0].id},a[i.length+1]={x:a[i.length].x+1,value:a[i.length].value,id:a[i.length].id},a},n.prototype.getRatio=function(i,a,c){c===void 0&&(c=!1);var l=this,d=l.api,v=0;if(a&&d.data.shown.call(d).length){if(v=a.ratio||a.value,i==="arc")if(l.hasType("gauge"))v=(a.endAngle-a.startAngle)/(Math.PI*(l.config.gauge_fullCircle?2:1));else{var S=l.getTotalDataSum();v=a.value/S}else if(i==="index"){var S=l.getTotalPerIndex(l.axis.getId(a.id));a.ratio=b(a.value)&&S&&S[a.index]>0?a.value/S[a.index]:0,v=a.ratio}}return c&&v?v*100:v},n.prototype.updateDataAttributes=function(i,a){var c=this,l=c.config,d=l["data_"+i];return typeof a>"u"||(Object.keys(a).forEach(function(v){d[v]=a[v]}),c.redraw({withLegend:!0})),d},n.prototype.load=function(i,a){var c=this;i&&(a.filter&&(i=i.filter(a.filter)),(a.type||a.types)&&i.forEach(function(l){var d=a.types&&a.types[l.id]?a.types[l.id]:a.type;c.setTargetType(l.id,d)}),c.data.targets.forEach(function(l){for(var d=0;d<i.length;d++)if(l.id===i[d].id){l.values=i[d].values,i.splice(d,1);break}}),c.data.targets=c.data.targets.concat(i)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},n.prototype.loadFromArgs=function(i){var a=this;a.resetCache(),i.data?a.load(a.convertDataToTargets(i.data),i):i.url?a.convertUrlToData(i.url,i.mimeType,i.headers,i.keys,function(c){a.load(a.convertDataToTargets(c),i)}):i.json?a.load(a.convertDataToTargets(a.convertJsonToData(i.json,i.keys)),i):i.rows?a.load(a.convertDataToTargets(a.convertRowsToData(i.rows)),i):i.columns?a.load(a.convertDataToTargets(a.convertColumnsToData(i.columns)),i):a.load(null,i)},n.prototype.unload=function(i,a){var c=this;if(c.resetCache(),a||(a=function(){}),i=i.filter(function(l){return c.hasTarget(c.data.targets,l)}),!i||i.length===0){a();return}c.svg.selectAll(i.map(function(l){return c.selectorTarget(l)})).transition().style("opacity",0).remove().call(c.endall,a),i.forEach(function(l){c.withoutFadeIn[l]=!1,c.legend&&c.legend.selectAll("."+T.legendItem+c.getTargetSelectorSuffix(l)).remove(),c.data.targets=c.data.targets.filter(function(d){return d.id!==l})})},n.prototype.getYDomainMin=function(i){var a=this,c=a.config,l=a.mapToIds(i),d=a.getValuesAsIdKeyed(i),v,S,P,R,M,N;if(c.data_groups.length>0){for(N=a.hasNegativeValueInTargets(i),v=0;v<c.data_groups.length;v++)if(R=c.data_groups[v].filter(function(D){return l.indexOf(D)>=0}),R.length!==0)for(P=R[0],N&&d[P]&&d[P].forEach(function(D,H){d[P][H]=D<0?D:0}),S=1;S<R.length;S++)M=R[S],d[M]&&d[M].forEach(function(D,H){a.axis.getId(M)===a.axis.getId(P)&&d[P]&&!(N&&+D>0)&&(d[P][H]+=+D)})}return a.d3.min(Object.keys(d).map(function(D){return a.d3.min(d[D])}))},n.prototype.getYDomainMax=function(i){var a=this,c=a.config,l=a.mapToIds(i),d=a.getValuesAsIdKeyed(i),v,S,P,R,M,N;if(c.data_groups.length>0){for(N=a.hasPositiveValueInTargets(i),v=0;v<c.data_groups.length;v++)if(R=c.data_groups[v].filter(function(D){return l.indexOf(D)>=0}),R.length!==0)for(P=R[0],N&&d[P]&&d[P].forEach(function(D,H){d[P][H]=D>0?D:0}),S=1;S<R.length;S++)M=R[S],d[M]&&d[M].forEach(function(D,H){a.axis.getId(M)===a.axis.getId(P)&&d[P]&&!(N&&+D<0)&&(d[P][H]+=+D)})}return a.d3.max(Object.keys(d).map(function(D){return a.d3.max(d[D])}))},n.prototype.getYDomain=function(i,a,c){var l=this,d=l.config;if(l.isAxisNormalized(a))return[0,100];var v=i.filter(function(st){return l.axis.getId(st.id)===a}),S=c?l.filterByXDomain(v,c):v,P=a==="y2"?d.axis_y2_min:d.axis_y_min,R=a==="y2"?d.axis_y2_max:d.axis_y_max,M=l.getYDomainMin(S),N=l.getYDomainMax(S),D,H,I,W,j=a==="y2"?d.axis_y2_center:d.axis_y_center,tt,Z,pt,gt,wt,bt,St=l.hasType("bar",S)&&d.bar_zerobased||l.hasType("area",S)&&d.area_zerobased,ft=a==="y2"?d.axis_y2_inverted:d.axis_y_inverted,At=l.hasDataLabel()&&d.axis_rotated,_t=l.hasDataLabel()&&!d.axis_rotated;if(M=$(P)?P:$(R)?M<R?M:R-10:M,N=$(R)?R:$(P)?P<N?N:P+10:N,S.length===0)return a==="y2"?l.y2.domain():l.y.domain();if(isNaN(M)&&(M=0),isNaN(N)&&(N=M),M===N&&(M<0?N=0:M=0),wt=M>=0&&N>=0,bt=M<=0&&N<=0,($(P)&&wt||$(R)&&bt)&&(St=!1),St&&(wt&&(M=0),bt&&(N=0)),H=Math.abs(N-M),I=W=H*.1,typeof j<"u"&&(tt=Math.max(Math.abs(M),Math.abs(N)),N=j+tt,M=j-tt),At)Z=l.getDataLabelLength(M,N,"width"),pt=u(l.y.range()),gt=[Z[0]/pt,Z[1]/pt],I+=H*(gt[1]/(1-gt[0]-gt[1])),W+=H*(gt[0]/(1-gt[0]-gt[1]));else if(_t){Z=l.getDataLabelLength(M,N,"height");var vt=l.getY(d["axis_"+a+"_type"],[0,d.axis_rotated?l.width:l.height],[0,H]);I+=vt(Z[1]),W+=vt(Z[0])}return a==="y"&&L(d.axis_y_padding)&&(I=l.axis.getPadding(d.axis_y_padding,"top",I,H),W=l.axis.getPadding(d.axis_y_padding,"bottom",W,H)),a==="y2"&&L(d.axis_y2_padding)&&(I=l.axis.getPadding(d.axis_y2_padding,"top",I,H),W=l.axis.getPadding(d.axis_y2_padding,"bottom",W,H)),St&&(wt&&(W=M),bt&&(I=-N)),D=[M-W,N+I],ft?D.reverse():D},n.prototype.getXDomainMin=function(i){var a=this,c=a.config;return m(c.axis_x_min)?a.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:a.d3.min(i,function(l){return a.d3.min(l.values,function(d){return d.x})})},n.prototype.getXDomainMax=function(i){var a=this,c=a.config;return m(c.axis_x_max)?a.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:a.d3.max(i,function(l){return a.d3.max(l.values,function(d){return d.x})})},n.prototype.getXDomainPadding=function(i){var a=this,c=a.config,l=i[1]-i[0],d,v,S,P;return a.isCategorized()?v=0:a.hasType("bar")?(d=a.getMaxDataCount(),v=d>1?l/(d-1)/2:.5):v=l*.01,typeof c.axis_x_padding=="object"&&L(c.axis_x_padding)?(S=$(c.axis_x_padding.left)?c.axis_x_padding.left:v,P=$(c.axis_x_padding.right)?c.axis_x_padding.right:v):typeof c.axis_x_padding=="number"?S=P=c.axis_x_padding:S=P=v,{left:S,right:P}},n.prototype.getXDomain=function(i){var a=this,c=[a.getXDomainMin(i),a.getXDomainMax(i)],l=c[0],d=c[1],v=a.getXDomainPadding(c),S=0,P=0;return l-d===0&&!a.isCategorized()&&(a.isTimeSeries()?(l=new Date(l.getTime()*.5),d=new Date(d.getTime()*1.5)):(l=l===0?1:l*.5,d=d===0?-1:d*1.5)),(l||l===0)&&(S=a.isTimeSeries()?new Date(l.getTime()-v.left):l-v.left),(d||d===0)&&(P=a.isTimeSeries()?new Date(d.getTime()+v.right):d+v.right),[S,P]},n.prototype.updateXDomain=function(i,a,c,l,d){var v=this,S=v.config;return c&&(v.x.domain(d||v.d3.extent(v.getXDomain(i))),v.orgXDomain=v.x.domain(),S.zoom_enabled&&v.zoom.update(),v.subX.domain(v.x.domain()),v.brush&&v.brush.updateScale(v.subX)),a&&v.x.domain(d||(!v.brush||v.brush.empty()?v.orgXDomain:v.brush.selectionAsValue())),l&&v.x.domain(v.trimXDomain(v.x.orgDomain())),v.x.domain()},n.prototype.trimXDomain=function(i){var a=this.getZoomDomain(),c=a[0],l=a[1];return i[0]<=c&&(i[1]=+i[1]+(c-i[0]),i[0]=c),l<=i[1]&&(i[0]=+i[0]-(i[1]-l),i[1]=l),i},n.prototype.drag=function(i){var a=this,c=a.config,l=a.main,d=a.d3,v,S,P,R,M,N,D,H;a.hasArcType()||c.data_selection_enabled&&c.data_selection_multiple&&(v=a.dragStart[0],S=a.dragStart[1],P=i[0],R=i[1],M=Math.min(v,P),N=Math.max(v,P),D=c.data_selection_grouped?a.margin.top:Math.min(S,R),H=c.data_selection_grouped?a.height:Math.max(S,R),l.select("."+T.dragarea).attr("x",M).attr("y",D).attr("width",N-M).attr("height",H-D),l.selectAll("."+T.shapes).selectAll("."+T.shape).each(function(I,W){if(c.data_selection_isselectable(I)){var j=d.select(this),tt=j.classed(T.SELECTED),Z=j.classed(T.INCLUDED),pt,gt,wt,bt,St,ft=!1,At;if(j.classed(T.circle))pt=j.attr("cx")*1,gt=j.attr("cy")*1,St=a.togglePoint,ft=M<pt&&pt<N&&D<gt&&gt<H;else if(j.classed(T.bar))At=h(this),pt=At.x,gt=At.y,wt=At.width,bt=At.height,St=a.togglePath,ft=!(N<pt||pt+wt<M)&&!(H<gt||gt+bt<D);else return;ft^Z&&(j.classed(T.INCLUDED,!Z),j.classed(T.SELECTED,!tt),St.call(a,!tt,j,I,W))}}))},n.prototype.dragstart=function(i){var a=this,c=a.config;a.hasArcType()||c.data_selection_enabled&&(a.dragStart=i,a.main.select("."+T.chart).append("rect").attr("class",T.dragarea).style("opacity",.1),a.dragging=!0)},n.prototype.dragend=function(){var i=this,a=i.config;i.hasArcType()||a.data_selection_enabled&&(i.main.select("."+T.dragarea).transition().duration(100).style("opacity",0).remove(),i.main.selectAll("."+T.shape).classed(T.INCLUDED,!1),i.dragging=!1)},n.prototype.getYFormat=function(i){var a=this,c=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.yFormat,l=i&&!a.hasType("gauge")?a.defaultArcValueFormat:a.y2Format;return function(d,v,S){var P=a.axis.getId(S)==="y2"?l:c;return P.call(a,d,v)}},n.prototype.yFormat=function(i){var a=this,c=a.config,l=c.axis_y_tick_format?c.axis_y_tick_format:a.defaultValueFormat;return l(i)},n.prototype.y2Format=function(i){var a=this,c=a.config,l=c.axis_y2_tick_format?c.axis_y2_tick_format:a.defaultValueFormat;return l(i)},n.prototype.defaultValueFormat=function(i){return $(i)?+i:""},n.prototype.defaultArcValueFormat=function(i,a){return(a*100).toFixed(1)+"%"},n.prototype.dataLabelFormat=function(i){var a=this,c=a.config.data_labels,l,d=function(v){return $(v)?+v:""};return typeof c.format=="function"?l=c.format:typeof c.format=="object"?c.format[i]?l=c.format[i]===!0?d:c.format[i]:l=function(){return""}:l=d,l},n.prototype.initGrid=function(){var i=this,a=i.config,c=i.d3;i.grid=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",T.grid),a.grid_x_show&&i.grid.append("g").attr("class",T.xgrids),a.grid_y_show&&i.grid.append("g").attr("class",T.ygrids),a.grid_focus_show&&i.grid.append("g").attr("class",T.xgridFocus).append("line").attr("class",T.xgridFocus),i.xgrid=c.selectAll([]),a.grid_lines_front||i.initGridLines()},n.prototype.initGridLines=function(){var i=this,a=i.d3;i.gridLines=i.main.append("g").attr("clip-path",i.clipPathForGrid).attr("class",T.grid+" "+T.gridLines),i.gridLines.append("g").attr("class",T.xgridLines),i.gridLines.append("g").attr("class",T.ygridLines),i.xgridLines=a.selectAll([])},n.prototype.updateXGrid=function(i){var a=this,c=a.config,l=a.d3,d=a.generateGridData(c.grid_x_type,a.x),v=a.isCategorized()?a.xAxis.tickOffset():0;a.xgridAttr=c.axis_rotated?{x1:0,x2:a.width,y1:function(R){return a.x(R)-v},y2:function(R){return a.x(R)-v}}:{x1:function(R){return a.x(R)+v},x2:function(R){return a.x(R)+v},y1:0,y2:a.height},a.xgridAttr.opacity=function(){var R=+l.select(this).attr(c.axis_rotated?"y1":"x1");return R===(c.axis_rotated?a.height:0)?0:1};var S=a.main.select("."+T.xgrids).selectAll("."+T.xgrid).data(d),P=S.enter().append("line").attr("class",T.xgrid).attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",0);a.xgrid=P.merge(S),i||a.xgrid.attr("x1",a.xgridAttr.x1).attr("x2",a.xgridAttr.x2).attr("y1",a.xgridAttr.y1).attr("y2",a.xgridAttr.y2).style("opacity",a.xgridAttr.opacity),S.exit().remove()},n.prototype.updateYGrid=function(){var i=this,a=i.config,c=i.yAxis.tickValues()||i.y.ticks(a.grid_y_ticks),l=i.main.select("."+T.ygrids).selectAll("."+T.ygrid).data(c),d=l.enter().append("line").attr("class",T.ygrid);i.ygrid=d.merge(l),i.ygrid.attr("x1",a.axis_rotated?i.y:0).attr("x2",a.axis_rotated?i.y:i.width).attr("y1",a.axis_rotated?0:i.y).attr("y2",a.axis_rotated?i.height:i.y),l.exit().remove(),i.smoothLines(i.ygrid,"grid")},n.prototype.gridTextAnchor=function(i){return i.position?i.position:"end"},n.prototype.gridTextDx=function(i){return i.position==="start"?4:i.position==="middle"?0:-4},n.prototype.xGridTextX=function(i){return i.position==="start"?-this.height:i.position==="middle"?-this.height/2:0},n.prototype.yGridTextX=function(i){return i.position==="start"?0:i.position==="middle"?this.width/2:this.width},n.prototype.updateGrid=function(i){var a=this,c=a.main,l=a.config,d,v,S,P,R=a.xv.bind(a),M=a.yv.bind(a),N=a.xGridTextX.bind(a),D=a.yGridTextX.bind(a);a.grid.style("visibility",a.hasArcType()?"hidden":"visible"),c.select("line."+T.xgridFocus).style("visibility","hidden"),l.grid_x_show&&a.updateXGrid(),d=c.select("."+T.xgridLines).selectAll("."+T.xgridLine).data(l.grid_x_lines),v=d.enter().append("g").attr("class",function(H){return T.xgridLine+(H.class?" "+H.class:"")}),v.append("line").attr("x1",l.axis_rotated?0:R).attr("x2",l.axis_rotated?a.width:R).attr("y1",l.axis_rotated?R:0).attr("y2",l.axis_rotated?R:a.height).style("opacity",0),v.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",l.axis_rotated?"":"rotate(-90)").attr("x",l.axis_rotated?D:N).attr("y",R).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.xgridLines=v.merge(d),d.exit().transition().duration(i).style("opacity",0).remove(),l.grid_y_show&&a.updateYGrid(),S=c.select("."+T.ygridLines).selectAll("."+T.ygridLine).data(l.grid_y_lines),P=S.enter().append("g").attr("class",function(H){return T.ygridLine+(H.class?" "+H.class:"")}),P.append("line").attr("x1",l.axis_rotated?M:0).attr("x2",l.axis_rotated?M:a.width).attr("y1",l.axis_rotated?0:M).attr("y2",l.axis_rotated?a.height:M).style("opacity",0),P.append("text").attr("text-anchor",a.gridTextAnchor).attr("transform",l.axis_rotated?"rotate(-90)":"").attr("x",l.axis_rotated?N:D).attr("y",M).attr("dx",a.gridTextDx).attr("dy",-5).style("opacity",0),a.ygridLines=P.merge(S),a.ygridLines.select("line").transition().duration(i).attr("x1",l.axis_rotated?M:0).attr("x2",l.axis_rotated?M:a.width).attr("y1",l.axis_rotated?0:M).attr("y2",l.axis_rotated?a.height:M).style("opacity",1),a.ygridLines.select("text").transition().duration(i).attr("x",l.axis_rotated?a.xGridTextX.bind(a):a.yGridTextX.bind(a)).attr("y",M).text(function(H){return H.text}).style("opacity",1),S.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawGrid=function(i,a){var c=this,l=c.config,d=c.xv.bind(c),v=c.xgridLines.select("line"),S=c.xgridLines.select("text");return[(i?v.transition(a):v).attr("x1",l.axis_rotated?0:d).attr("x2",l.axis_rotated?c.width:d).attr("y1",l.axis_rotated?d:0).attr("y2",l.axis_rotated?d:c.height).style("opacity",1),(i?S.transition(a):S).attr("x",l.axis_rotated?c.yGridTextX.bind(c):c.xGridTextX.bind(c)).attr("y",d).text(function(P){return P.text}).style("opacity",1)]},n.prototype.showXGridFocus=function(i){var a=this,c=a.config,l=i.filter(function(S){return S&&$(S.value)}),d=a.main.selectAll("line."+T.xgridFocus),v=a.xx.bind(a);c.tooltip_show&&(a.hasType("stanford")||a.hasArcType()||(d.style("visibility","visible").data([l[0]]).attr(c.axis_rotated?"y1":"x1",v).attr(c.axis_rotated?"y2":"x2",v),a.smoothLines(d,"grid")))},n.prototype.hideXGridFocus=function(){this.main.select("line."+T.xgridFocus).style("visibility","hidden")},n.prototype.updateXgridFocus=function(){var i=this,a=i.config;i.main.select("line."+T.xgridFocus).attr("x1",a.axis_rotated?0:-10).attr("x2",a.axis_rotated?i.width:-10).attr("y1",a.axis_rotated?-10:0).attr("y2",a.axis_rotated?-10:i.height)},n.prototype.generateGridData=function(i,a){var c=this,l=[],d,v,S,P,R=c.main.select("."+T.axisX).selectAll(".tick").size();if(i==="year")for(d=c.getXDomain(),v=d[0].getFullYear(),S=d[1].getFullYear(),P=v;P<=S;P++)l.push(new Date(P+"-01-01 00:00:00"));else l=a.ticks(10),l.length>R&&(l=l.filter(function(M){return(""+M).indexOf(".")<0}));return l},n.prototype.getGridFilterToRemove=function(i){return i?function(a){var c=!1;return[].concat(i).forEach(function(l){("value"in l&&a.value===l.value||"class"in l&&a.class===l.class)&&(c=!0)}),c}:function(){return!0}},n.prototype.removeGridLines=function(i,a){var c=this,l=c.config,d=c.getGridFilterToRemove(i),v=function(R){return!d(R)},S=a?T.xgridLines:T.ygridLines,P=a?T.xgridLine:T.ygridLine;c.main.select("."+S).selectAll("."+P).filter(d).transition().duration(l.transition_duration).style("opacity",0).remove(),a?l.grid_x_lines=l.grid_x_lines.filter(v):l.grid_y_lines=l.grid_y_lines.filter(v)},n.prototype.initEventRect=function(){var i=this,a=i.config;i.main.select("."+T.chart).append("g").attr("class",T.eventRects).style("fill-opacity",0),i.eventRect=i.main.select("."+T.eventRects).append("rect").attr("class",T.eventRect),a.zoom_enabled&&i.zoom&&(i.eventRect.call(i.zoom).on("dblclick.zoom",null),a.zoom_initialRange&&i.eventRect.transition().duration(0).call(i.zoom.transform,i.zoomTransform(a.zoom_initialRange)))},n.prototype.redrawEventRect=function(){var i=this,a=i.d3,c=i.config;function l(){i.svg.select("."+T.eventRect).style("cursor",null),i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars()}var d=function(S,P){return P&&(i.isBarType(P.id)||i.dist(P,S)<c.point_sensitivity)},v=function(S){return S?i.addName(Object.assign({},S)):null};i.main.select("."+T.eventRects).style("cursor",c.zoom_enabled?c.axis_rotated?"ns-resize":"ew-resize":null),i.eventRect.attr("x",0).attr("y",0).attr("width",i.width).attr("height",i.height).on("mouseout",c.interaction_enabled?function(){c&&(i.hasArcType()||(i.mouseover&&(c.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),l()))}:null).on("mousemove",c.interaction_enabled?function(){if(!i.dragging){var S=i.getTargetsToShow();if(!i.hasArcType(S)){var P=a.mouse(this),R=v(i.findClosestFromTargets(S,P)),M=d(P,R);i.mouseover&&(!R||R.id!==i.mouseover.id||R.index!==i.mouseover.index)&&(c.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),R&&!i.mouseover&&(c.data_onmouseover.call(i.api,R),i.mouseover=R),i.svg.select("."+T.eventRect).style("cursor",M?"pointer":null);var N=!c.tooltip_grouped||i.hasType("stanford",S),D;if(N)R&&(D=[R]);else{var H=void 0;if(R)H=R;else{var I=c.axis_rotated?P[1]:P[0];H=i.findClosestFromTargetsByX(S,i.x.invert(I))}H&&(D=i.filterByX(S,H.x))}if(!D||D.length===0)return l();D=D.map(v),i.showTooltip(D,this),c.point_focus_expand_enabled&&(i.unexpandCircles(),D.forEach(function(W){i.expandCircles(W.index,W.id,!1)})),i.unexpandBars(),D.forEach(function(W){i.expandBars(W.index,W.id,!1)}),i.showXGridFocus(D)}}}:null).on("click",c.interaction_enabled?function(){var S=i.getTargetsToShow();if(!i.hasArcType(S)){var P=a.mouse(this),R=v(i.findClosestFromTargets(S,P));if(d(P,R)){var M;if(!c.data_selection_grouped||i.isStanfordType(R)?M=[R]:M=i.filterByX(S,R.x),M.forEach(function(D){i.main.selectAll("."+T.shapes+i.getTargetSelectorSuffix(D.id)).selectAll("."+T.shape+"-"+D.index).each(function(){(c.data_selection_grouped||i.isWithinShape(this,D))&&i.toggleShape(this,D,D.index)})}),R){var N=i.main.selectAll("."+T.shapes+i.getTargetSelectorSuffix(R.id)).select("."+T.shape+"-"+R.index);c.data_onclick.call(i.api,R,N.node())}}}}:null).call(c.interaction_enabled&&c.data_selection_draggable&&i.drag?a.drag().on("drag",function(){i.drag(a.mouse(this))}).on("start",function(){i.dragstart(a.mouse(this))}).on("end",function(){i.dragend()}):function(){})},n.prototype.getMousePosition=function(i){var a=this;return[a.x(i.x),a.getYScale(i.id)(i.value)]},n.prototype.dispatchEvent=function(i,a){var c=this,l="."+T.eventRect,d=c.main.select(l).node(),v=d.getBoundingClientRect(),S=v.left+(a?a[0]:0),P=v.top+(a?a[1]:0),R=document.createEvent("MouseEvents");R.initMouseEvent(i,!0,!0,window,0,S,P,S,P,!1,!1,!1,!1,0,null),d.dispatchEvent(R)},n.prototype.initLegend=function(){var i=this;if(i.legendItemTextBox={},i.legendHasRendered=!1,i.legend=i.svg.append("g").attr("transform",i.getTranslate("legend")),!i.config.legend_show){i.legend.style("visibility","hidden"),i.hiddenLegendIds=i.mapToIds(i.data.targets);return}i.updateLegendWithDefaults()},n.prototype.updateLegendWithDefaults=function(){var i=this;i.updateLegend(i.mapToIds(i.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},n.prototype.updateSizeForLegend=function(i,a){var c=this,l=c.config,d={top:c.isLegendTop?c.getCurrentPaddingTop()+l.legend_inset_y+5.5:c.currentHeight-i-c.getCurrentPaddingBottom()-l.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+l.legend_inset_x+.5:c.currentWidth-a-c.getCurrentPaddingRight()-l.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?d.top:c.currentHeight-i,right:NaN,bottom:0,left:c.isLegendRight?c.currentWidth-a:c.isLegendInset?d.left:0}},n.prototype.transformLegend=function(i){var a=this;(i?a.legend.transition():a.legend).attr("transform",a.getTranslate("legend"))},n.prototype.updateLegendStep=function(i){this.legendStep=i},n.prototype.updateLegendItemWidth=function(i){this.legendItemWidth=i},n.prototype.updateLegendItemHeight=function(i){this.legendItemHeight=i},n.prototype.getLegendWidth=function(){var i=this;return i.config.legend_show?i.isLegendRight||i.isLegendInset?i.legendItemWidth*(i.legendStep+1):i.currentWidth:0},n.prototype.getLegendHeight=function(){var i=this,a=0;return i.config.legend_show&&(i.isLegendRight?a=i.currentHeight:a=Math.max(20,i.legendItemHeight)*(i.legendStep+1)),a},n.prototype.opacityForLegend=function(i){return i.classed(T.legendItemHidden)?null:1},n.prototype.opacityForUnfocusedLegend=function(i){return i.classed(T.legendItemHidden)?null:.3},n.prototype.toggleFocusLegend=function(i,a){var c=this;i=c.mapToTargetIds(i),c.legend.selectAll("."+T.legendItem).filter(function(l){return i.indexOf(l)>=0}).classed(T.legendItemFocused,a).transition().duration(100).style("opacity",function(){var l=a?c.opacityForLegend:c.opacityForUnfocusedLegend;return l.call(c,c.d3.select(this))})},n.prototype.revertLegend=function(){var i=this,a=i.d3;i.legend.selectAll("."+T.legendItem).classed(T.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return i.opacityForLegend(a.select(this))})},n.prototype.showLegend=function(i){var a=this,c=a.config;c.legend_show||(c.legend_show=!0,a.legend.style("visibility","visible"),a.legendHasRendered||a.updateLegendWithDefaults()),a.removeHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("visibility","visible").transition().style("opacity",function(){return a.opacityForLegend(a.d3.select(this))})},n.prototype.hideLegend=function(i){var a=this,c=a.config;c.legend_show&&x(i)&&(c.legend_show=!1,a.legend.style("visibility","hidden")),a.addHiddenLegendIds(i),a.legend.selectAll(a.selectorLegends(i)).style("opacity",0).style("visibility","hidden")},n.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},n.prototype.updateLegend=function(i,a,c){var l=this,d=l.config,v,S,P,R,M,N,D,H,I,W=4,j=10,tt=0,Z=0,pt=10,gt=d.legend_item_tile_width+5,wt,bt=0,St={},ft={},At={},_t=[0],vt={},st=0,ht,It,te,Ft,re,Ht;i=i.filter(function(it){return!m(d.data_names[it])||d.data_names[it]!==null}),a=a||{},ht=f(a,"withTransition",!0),It=f(a,"withTransitionForTransform",!0);function Ut(it,xt){return l.legendItemTextBox[xt]||(l.legendItemTextBox[xt]=l.getTextRect(it.textContent,T.legendItem,it)),l.legendItemTextBox[xt]}function Ot(it,xt,Kt){var Sn=Kt===0,hr=Kt===i.length-1,Ge=Ut(it,xt),we=Ge.width+gt+(hr&&!(l.isLegendRight||l.isLegendInset)?0:j)+d.legend_padding,ae=Ge.height+W,_e=l.isLegendRight||l.isLegendInset?ae:we,Fe=l.isLegendRight||l.isLegendInset?l.getLegendHeight():l.getLegendWidth(),An,Xn;function dr(Qe,dc){dc||(An=(Fe-bt-_e)/2,An<pt&&(An=(Fe-_e)/2,bt=0,st++)),vt[Qe]=st,_t[st]=l.isLegendInset?10:An,St[Qe]=bt,bt+=_e}if(Sn&&(bt=0,st=0,tt=0,Z=0),d.legend_show&&!l.isLegendToShow(xt)){ft[xt]=At[xt]=vt[xt]=St[xt]=0;return}ft[xt]=we,At[xt]=ae,(!tt||we>=tt)&&(tt=we),(!Z||ae>=Z)&&(Z=ae),Xn=l.isLegendRight||l.isLegendInset?Z:tt,d.legend_equally?(Object.keys(ft).forEach(function(Qe){ft[Qe]=tt}),Object.keys(At).forEach(function(Qe){At[Qe]=Z}),An=(Fe-Xn*i.length)/2,An<pt?(bt=0,st=0,i.forEach(function(Qe){dr(Qe)})):dr(xt,!0)):dr(xt)}l.isLegendInset&&(st=d.legend_inset_step?d.legend_inset_step:i.length,l.updateLegendStep(st)),l.isLegendRight?(v=function(it){return tt*vt[it]},R=function(it){return _t[vt[it]]+St[it]}):l.isLegendInset?(v=function(it){return tt*vt[it]+10},R=function(it){return _t[vt[it]]+St[it]}):(v=function(it){return _t[vt[it]]+St[it]},R=function(it){return Z*vt[it]}),S=function(it,xt){return v(it,xt)+4+d.legend_item_tile_width},M=function(it,xt){return R(it,xt)+9},P=function(it,xt){return v(it,xt)},N=function(it,xt){return R(it,xt)-5},D=function(it,xt){return v(it,xt)-2},H=function(it,xt){return v(it,xt)-2+d.legend_item_tile_width},I=function(it,xt){return R(it,xt)+4},wt=l.legend.selectAll("."+T.legendItem).data(i).enter().append("g").attr("class",function(it){return l.generateClass(T.legendItem,it)}).style("visibility",function(it){return l.isLegendToShow(it)?"visible":"hidden"}).style("cursor",function(){return d.interaction_enabled?"pointer":"auto"}).on("click",d.interaction_enabled?function(it){d.legend_item_onclick?d.legend_item_onclick.call(l,it):l.d3.event.altKey?(l.api.hide(),l.api.show(it)):(l.api.toggle(it),l.isTargetToShow(it)?l.api.focus(it):l.api.revert())}:null).on("mouseover",d.interaction_enabled?function(it){d.legend_item_onmouseover?d.legend_item_onmouseover.call(l,it):(l.d3.select(this).classed(T.legendItemFocused,!0),!l.transiting&&l.isTargetToShow(it)&&l.api.focus(it))}:null).on("mouseout",d.interaction_enabled?function(it){d.legend_item_onmouseout?d.legend_item_onmouseout.call(l,it):(l.d3.select(this).classed(T.legendItemFocused,!1),l.api.revert())}:null),wt.append("text").text(function(it){return m(d.data_names[it])?d.data_names[it]:it}).each(function(it,xt){Ot(this,it,xt)}).style("pointer-events","none").attr("x",l.isLegendRight||l.isLegendInset?S:-200).attr("y",l.isLegendRight||l.isLegendInset?-200:M),wt.append("rect").attr("class",T.legendItemEvent).style("fill-opacity",0).attr("x",l.isLegendRight||l.isLegendInset?P:-200).attr("y",l.isLegendRight||l.isLegendInset?-200:N),wt.append("line").attr("class",T.legendItemTile).style("stroke",l.color).style("pointer-events","none").attr("x1",l.isLegendRight||l.isLegendInset?D:-200).attr("y1",l.isLegendRight||l.isLegendInset?-200:I).attr("x2",l.isLegendRight||l.isLegendInset?H:-200).attr("y2",l.isLegendRight||l.isLegendInset?-200:I).attr("stroke-width",d.legend_item_tile_height),Ht=l.legend.select("."+T.legendBackground+" rect"),l.isLegendInset&&tt>0&&Ht.size()===0&&(Ht=l.legend.insert("g","."+T.legendItem).attr("class",T.legendBackground).append("rect")),te=l.legend.selectAll("text").data(i).text(function(it){return m(d.data_names[it])?d.data_names[it]:it}).each(function(it,xt){Ot(this,it,xt)}),(ht?te.transition():te).attr("x",S).attr("y",M),Ft=l.legend.selectAll("rect."+T.legendItemEvent).data(i),(ht?Ft.transition():Ft).attr("width",function(it){return ft[it]}).attr("height",function(it){return At[it]}).attr("x",P).attr("y",N),re=l.legend.selectAll("line."+T.legendItemTile).data(i),(ht?re.transition():re).style("stroke",l.levelColor?function(it){return l.levelColor(l.cache[it].values.reduce(function(xt,Kt){return xt+Kt.value},0))}:l.color).attr("x1",D).attr("y1",I).attr("x2",H).attr("y2",I),Ht&&(ht?Ht.transition():Ht).attr("height",l.getLegendHeight()-12).attr("width",tt*(st+1)+10),l.legend.selectAll("."+T.legendItem).classed(T.legendItemHidden,function(it){return!l.isTargetToShow(it)}),l.updateLegendItemWidth(tt),l.updateLegendItemHeight(Z),l.updateLegendStep(st),l.updateSizes(),l.updateScales(),l.updateSvgSize(),l.transformAll(It,c),l.legendHasRendered=!0},n.prototype.initRegion=function(){var i=this;i.region=i.main.append("g").attr("clip-path",i.clipPath).attr("class",T.regions)},n.prototype.updateRegion=function(i){var a=this,c=a.config;a.region.style("visibility",a.hasArcType()?"hidden":"visible");var l=a.main.select("."+T.regions).selectAll("."+T.region).data(c.regions),d=l.enter().append("g");d.append("rect").attr("x",a.regionX.bind(a)).attr("y",a.regionY.bind(a)).attr("width",a.regionWidth.bind(a)).attr("height",a.regionHeight.bind(a)).style("fill-opacity",function(v){return $(v.opacity)?v.opacity:.1}),d.append("text").text(a.labelRegion.bind(a)),a.mainRegion=d.merge(l).attr("class",a.classRegion.bind(a)),l.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.redrawRegion=function(i,a){var c=this,l=c.mainRegion,d=c.mainRegion.selectAll("text");return[(i?l.transition(a):l).attr("x",c.regionX.bind(c)).attr("y",c.regionY.bind(c)).attr("width",c.regionWidth.bind(c)).attr("height",c.regionHeight.bind(c)).style("fill-opacity",function(v){return $(v.opacity)?v.opacity:.1}),(i?d.transition(a):d).attr("x",c.labelOffsetX.bind(c)).attr("y",c.labelOffsetY.bind(c)).attr("transform",c.labelTransform.bind(c)).attr("style","text-anchor: left;")]},n.prototype.regionX=function(i){var a=this,c=a.config,l,d=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?l=c.axis_rotated&&"start"in i?d(i.start):0:l=c.axis_rotated?0:"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,l},n.prototype.regionY=function(i){var a=this,c=a.config,l,d=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?l=c.axis_rotated?0:"end"in i?d(i.end):0:l=c.axis_rotated&&"start"in i?a.x(a.isTimeSeries()?a.parseDate(i.start):i.start):0,l},n.prototype.regionWidth=function(i){var a=this,c=a.config,l=a.regionX(i),d,v=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?d=c.axis_rotated&&"end"in i?v(i.end):a.width:d=c.axis_rotated?a.width:"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.width,d<l?0:d-l},n.prototype.regionHeight=function(i){var a=this,c=a.config,l=this.regionY(i),d,v=i.axis==="y"?a.y:a.y2;return i.axis==="y"||i.axis==="y2"?d=c.axis_rotated?a.height:"start"in i?v(i.start):a.height:d=c.axis_rotated&&"end"in i?a.x(a.isTimeSeries()?a.parseDate(i.end):i.end):a.height,d<l?0:d-l},n.prototype.isRegionOnX=function(i){return!i.axis||i.axis==="x"},n.prototype.labelRegion=function(i){return"label"in i?i.label:""},n.prototype.labelTransform=function(i){return"vertical"in i&&i.vertical?"rotate(90)":""},n.prototype.labelOffsetX=function(i){var a="paddingX"in i?i.paddingX:3,c="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?this.regionY(i)+c:this.regionX(i)+a},n.prototype.labelOffsetY=function(i){var a="paddingX"in i?i.paddingX:3,c="paddingY"in i?i.paddingY:3;return"vertical"in i&&i.vertical?-(this.regionX(i)+a):this.regionY(i)+10+c};function J(i,a,c){var l=[.01,10];a||(a=i.scaleLinear(),a.range(l)),c||(c=i.scaleLog(),c.domain(l),c.nice());function d(S,P,R){var M,N,D,H;if(arguments.length<3)R=10;else if(R===0)return[];N=R-1,H=(P-S)/N,M=new Array(R),D=S,M[0]=Math.pow(10,D);for(var I=1;I<N;I++)D+=H,M[I]=Math.pow(10,D);return M[N]=Math.pow(10,P),M}function v(S){return c(a(S))}return v.domain=function(S){return arguments.length?(a.domain(S),v):a.domain()},v.range=function(S){return arguments.length?(c.range(S),v):c.range()},v.ticks=function(S){return d(-2,1,S||10).map(function(P){return a.invert(P)})},v.copy=function(){return J(i,a.copy(),c.copy())},v}n.prototype.getScale=function(i,a,c){return(c?this.d3.scaleTime():this.d3.scaleLinear()).range([i,a])},n.prototype.getX=function(i,a,c,l){var d=this,v=d.getScale(i,a,d.isTimeSeries()),S=c?v.domain(c):v,P;d.isCategorized()?(l=l||function(){return 0},v=function(R,M){var N=S(R)+l(R);return M?N:Math.ceil(N)}):v=function(R,M){var N=S(R);return M?N:Math.ceil(N)};for(P in S)v[P]=S[P];return v.orgDomain=function(){return S.domain()},d.isCategorized()&&(v.domain=function(R){return arguments.length?(S.domain(R),v):(R=this.orgDomain(),[R[0],R[1]+1])}),v},n.prototype.getY=function(i,a,c){var l;if(i==="timeseries"||i==="time")l=this.d3.scaleTime();else if(i==="log")l=J(this.d3);else if(i==="linear"||i===void 0)l=this.d3.scaleLinear();else throw new Error('Invalid Y axis type: "'+i+'"');return a&&l.domain(a),c&&l.range(c),l},n.prototype.getYScale=function(i){return this.axis.getId(i)==="y2"?this.y2:this.y},n.prototype.getSubYScale=function(i){return this.axis.getId(i)==="y2"?this.subY2:this.subY},n.prototype.updateScales=function(){var i=this,a=i.config,c=!i.x;i.xMin=a.axis_rotated?1:0,i.xMax=a.axis_rotated?i.height:i.width,i.yMin=a.axis_rotated?0:i.height,i.yMax=a.axis_rotated?i.width:1,i.subXMin=i.xMin,i.subXMax=i.xMax,i.subYMin=a.axis_rotated?0:i.height2,i.subYMax=a.axis_rotated?i.width2:1,i.x=i.getX(i.xMin,i.xMax,c?void 0:i.x.orgDomain(),function(){return i.xAxis.tickOffset()}),i.y=i.getY(a.axis_y_type,c?a.axis_y_default:i.y.domain(),[i.yMin,i.yMax]),i.y2=i.getY(a.axis_y2_type,c?a.axis_y2_default:i.y2.domain(),[i.yMin,i.yMax]),i.subX=i.getX(i.xMin,i.xMax,i.orgXDomain,function(l){return l%1?0:i.subXAxis.tickOffset()}),i.subY=i.getY(a.axis_y_type,c?a.axis_y_default:i.subY.domain(),[i.subYMin,i.subYMax]),i.subY2=i.getY(a.axis_y2_type,c?a.axis_y2_default:i.subY2.domain(),[i.subYMin,i.subYMax]),i.xAxisTickFormat=i.axis.getXAxisTickFormat(),i.xAxisTickValues=i.axis.getXAxisTickValues(),i.yAxisTickValues=i.axis.getYAxisTickValues(),i.y2AxisTickValues=i.axis.getY2AxisTickValues(),i.xAxis=i.axis.getXAxis(i.x,i.xOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.subXAxis=i.axis.getXAxis(i.subX,i.subXOrient,i.xAxisTickFormat,i.xAxisTickValues,a.axis_x_tick_outer),i.yAxis=i.axis.getYAxis("y",i.y,i.yOrient,i.yAxisTickValues,a.axis_y_tick_outer),i.y2Axis=i.axis.getYAxis("y2",i.y2,i.y2Orient,i.y2AxisTickValues,a.axis_y2_tick_outer),c||i.brush&&i.brush.updateScale(i.subX),i.updateArc&&i.updateArc()},n.prototype.selectPoint=function(i,a,c){var l=this,d=l.config,v=(d.axis_rotated?l.circleY:l.circleX).bind(l),S=(d.axis_rotated?l.circleX:l.circleY).bind(l),P=l.pointSelectR.bind(l);d.data_onselected.call(l.api,a,i.node()),l.main.select("."+T.selectedCircles+l.getTargetSelectorSuffix(a.id)).selectAll("."+T.selectedCircle+"-"+c).data([a]).enter().append("circle").attr("class",function(){return l.generateClass(T.selectedCircle,c)}).attr("cx",v).attr("cy",S).attr("stroke",function(){return l.color(a)}).attr("r",function(R){return l.pointSelectR(R)*1.4}).transition().duration(100).attr("r",P)},n.prototype.unselectPoint=function(i,a,c){var l=this;l.config.data_onunselected.call(l.api,a,i.node()),l.main.select("."+T.selectedCircles+l.getTargetSelectorSuffix(a.id)).selectAll("."+T.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},n.prototype.togglePoint=function(i,a,c,l){i?this.selectPoint(a,c,l):this.unselectPoint(a,c,l)},n.prototype.selectPath=function(i,a){var c=this;c.config.data_onselected.call(c,a,i.node()),c.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(a)).brighter(.75)})},n.prototype.unselectPath=function(i,a){var c=this;c.config.data_onunselected.call(c,a,i.node()),c.config.interaction_brighten&&i.transition().duration(100).style("fill",function(){return c.color(a)})},n.prototype.togglePath=function(i,a,c,l){i?this.selectPath(a,c,l):this.unselectPath(a,c,l)},n.prototype.getToggle=function(i,a){var c=this,l;return i.nodeName==="circle"?c.isStepType(a)?l=function(){}:l=c.togglePoint:i.nodeName==="path"&&(l=c.togglePath),l},n.prototype.toggleShape=function(i,a,c){var l=this,d=l.d3,v=l.config,S=d.select(i),P=S.classed(T.SELECTED),R=l.getToggle(i,a).bind(l);v.data_selection_enabled&&v.data_selection_isselectable(a)&&(v.data_selection_multiple||l.main.selectAll("."+T.shapes+(v.data_selection_grouped?l.getTargetSelectorSuffix(a.id):"")).selectAll("."+T.shape).each(function(M,N){var D=d.select(this);D.classed(T.SELECTED)&&R(!1,D.classed(T.SELECTED,!1),M,N)}),S.classed(T.SELECTED,!P),R(!P,S,a,c))},n.prototype.initBar=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartBars)},n.prototype.updateTargetsForBar=function(i){var a=this,c=a.config,l,d,v=a.classChartBar.bind(a),S=a.classBars.bind(a),P=a.classFocus.bind(a);l=a.main.select("."+T.chartBars).selectAll("."+T.chartBar).data(i).attr("class",function(R){return v(R)+P(R)}),d=l.enter().append("g").attr("class",v).style("pointer-events","none"),d.append("g").attr("class",S).style("cursor",function(R){return c.data_selection_isselectable(R)?"pointer":null})},n.prototype.updateBar=function(i){var a=this,c=a.barData.bind(a),l=a.classBar.bind(a),d=a.initialOpacity.bind(a),v=function(R){return a.color(R.id)},S=a.main.selectAll("."+T.bars).selectAll("."+T.bar).data(c),P=S.enter().append("path").attr("class",l).style("stroke",v).style("fill",v);a.mainBar=P.merge(S).style("opacity",d),S.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawBar=function(i,a,c){var l=this;return[(a?this.mainBar.transition(c):this.mainBar).attr("d",i).style("stroke",this.color).style("fill",this.color).style("opacity",function(d){return l.isTargetToShow(d.id)?1:0})]},n.prototype.getBarW=function(i,a){var c=this,l=c.config,d=typeof l.bar_width=="number"?l.bar_width:a?i.tickInterval()*l.bar_width_ratio/a:0;return l.bar_width_max&&d>l.bar_width_max?l.bar_width_max:d},n.prototype.getBars=function(i,a){var c=this;return(a?c.main.selectAll("."+T.bars+c.getTargetSelectorSuffix(a)):c.main).selectAll("."+T.bar+($(i)?"-"+i:""))},n.prototype.expandBars=function(i,a,c){var l=this;c&&l.unexpandBars(),l.getBars(i,a).classed(T.EXPANDED,!0)},n.prototype.unexpandBars=function(i){var a=this;a.getBars(i).classed(T.EXPANDED,!1)},n.prototype.generateDrawBar=function(i,a){var c=this,l=c.config,d=c.generateGetBarPoints(i,a);return function(v,S){var P=d(v,S),R=l.axis_rotated?1:0,M=l.axis_rotated?0:1,N="M "+P[0][R]+","+P[0][M]+" L"+P[1][R]+","+P[1][M]+" L"+P[2][R]+","+P[2][M]+" L"+P[3][R]+","+P[3][M]+" z";return N}},n.prototype.generateGetBarPoints=function(i,a){var c=this,l=a?c.subXAxis:c.xAxis,d=i.__max__+1,v=c.getBarW(l,d),S=c.getShapeX(v,d,i,!!a),P=c.getShapeY(!!a),R=c.getShapeOffset(c.isBarType,i,!!a),M=v*(c.config.bar_space/2),N=a?c.getSubYScale:c.getYScale;return function(D,H){var I=N.call(c,D.id)(0),W=R(D,H)||I,j=S(D),tt=P(D);return c.config.axis_rotated&&(0<D.value&&tt<I||D.value<0&&I<tt)&&(tt=I),tt-=I-W,[[j+M,W],[j+M,tt],[j+v-M,tt],[j+v-M,W]]}},n.prototype.isWithinBar=function(i,a){return B(i,p(a),2)},n.prototype.getShapeIndices=function(i){var a=this,c=a.config,l={},d=0,v,S;return a.filterTargetsToShow(a.data.targets.filter(i,a)).forEach(function(P){for(v=0;v<c.data_groups.length;v++)if(!(c.data_groups[v].indexOf(P.id)<0)){for(S=0;S<c.data_groups[v].length;S++)if(c.data_groups[v][S]in l){l[P.id]=l[c.data_groups[v][S]];break}}C(l[P.id])&&(l[P.id]=d++)}),l.__max__=d-1,l},n.prototype.getShapeX=function(i,a,c,l){var d=this,v=l?d.subX:d.x;return function(S){var P=S.id in c?c[S.id]:0;return S.x||S.x===0?v(S.x)-i*(a/2-P):0}},n.prototype.getShapeY=function(i){var a=this;return function(c){var l=i?a.getSubYScale(c.id):a.getYScale(c.id);return l(a.isTargetNormalized(c.id)?a.getRatio("index",c,!0):c.value)}},n.prototype.getShapeOffset=function(i,a,c){var l=this,d=l.orderTargets(l.filterTargetsToShow(l.data.targets.filter(i,l))),v=d.map(function(S){return S.id});return function(S,P){var R=c?l.getSubYScale(S.id):l.getYScale(S.id),M=R(0),N=M;return d.forEach(function(D){var H=l.isStepType(S)?l.convertValuesToStep(D.values):D.values,I=l.isTargetNormalized(S.id),W=H.map(function(j){return I?l.getRatio("index",j,!0):j.value});D.id===S.id||a[D.id]!==a[S.id]||v.indexOf(D.id)<v.indexOf(S.id)&&((C(H[P])||+H[P].x!=+S.x)&&(P=-1,H.forEach(function(j,tt){var Z=j.x.constructor===Date?+j.x:j.x,pt=S.x.constructor===Date?+S.x:S.x;Z===pt&&(P=tt)})),P in H&&H[P].value*S.value>=0&&(N+=R(W[P])-M))}),N}},n.prototype.isWithinShape=function(i,a){var c=this,l=c.d3.select(i),d;return c.isTargetToShow(a.id)?i.nodeName==="circle"?d=c.isStepType(a)?c.isWithinStep(i,c.getYScale(a.id)(a.value)):c.isWithinCircle(i,c.pointSelectR(a)*1.5):i.nodeName==="path"&&(d=l.classed(T.bar)?c.isWithinBar(c.d3.mouse(i),i):!0):d=!1,d},n.prototype.getInterpolate=function(i){var a=this,c=a.d3,l={linear:c.curveLinear,"linear-closed":c.curveLinearClosed,basis:c.curveBasis,"basis-open":c.curveBasisOpen,"basis-closed":c.curveBasisClosed,bundle:c.curveBundle,cardinal:c.curveCardinal,"cardinal-open":c.curveCardinalOpen,"cardinal-closed":c.curveCardinalClosed,monotone:c.curveMonotoneX,step:c.curveStep,"step-before":c.curveStepBefore,"step-after":c.curveStepAfter},d;return a.isSplineType(i)?d=l[a.config.spline_interpolation_type]||l.cardinal:a.isStepType(i)?d=l[a.config.line_step_type]:d=l.linear,d},n.prototype.initLine=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartLines)},n.prototype.updateTargetsForLine=function(i){var a=this,c=a.config,l,d,v=a.classChartLine.bind(a),S=a.classLines.bind(a),P=a.classAreas.bind(a),R=a.classCircles.bind(a),M=a.classFocus.bind(a);l=a.main.select("."+T.chartLines).selectAll("."+T.chartLine).data(i).attr("class",function(N){return v(N)+M(N)}),d=l.enter().append("g").attr("class",v).style("opacity",0).style("pointer-events","none"),d.append("g").attr("class",S),d.append("g").attr("class",P),d.append("g").attr("class",function(N){return a.generateClass(T.selectedCircles,N.id)}),d.append("g").attr("class",R).style("cursor",function(N){return c.data_selection_isselectable(N)?"pointer":null}),i.forEach(function(N){a.main.selectAll("."+T.selectedCircles+a.getTargetSelectorSuffix(N.id)).selectAll("."+T.selectedCircle).each(function(D){D.value=N.values[D.index].value})})},n.prototype.updateLine=function(i){var a=this,c=a.main.selectAll("."+T.lines).selectAll("."+T.line).data(a.lineData.bind(a)),l=c.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);a.mainLine=l.merge(c).style("opacity",a.initialOpacity.bind(a)).style("shape-rendering",function(d){return a.isStepType(d)?"crispEdges":""}).attr("transform",null),c.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawLine=function(i,a,c){return[(a?this.mainLine.transition(c):this.mainLine).attr("d",i).style("stroke",this.color).style("opacity",1)]},n.prototype.generateDrawLine=function(i,a){var c=this,l=c.config,d=c.d3.line(),v=c.generateGetLinePoints(i,a),S=a?c.getSubYScale:c.getYScale,P=function(M){return(a?c.subxx:c.xx).call(c,M)},R=function(M,N){return l.data_groups.length>0?v(M,N)[0][1]:S.call(c,M.id)(M.value)};return d=l.axis_rotated?d.x(R).y(P):d.x(P).y(R),l.line_connectNull||(d=d.defined(function(M){return M.value!=null})),function(M){var N=l.line_connectNull?c.filterRemoveNull(M.values):M.values,D=a?c.subX:c.x,H=S.call(c,M.id),I=0,W=0,j;return c.isLineType(M)?l.data_regions[M.id]?j=c.lineWithRegions(N,D,H,l.data_regions[M.id]):(c.isStepType(M)&&(N=c.convertValuesToStep(N)),j=d.curve(c.getInterpolate(M))(N)):(N[0]&&(I=D(N[0].x),W=H(N[0].value)),j=l.axis_rotated?"M "+W+" "+I:"M "+I+" "+W),j||"M 0 0"}},n.prototype.generateGetLinePoints=function(i,a){var c=this,l=c.config,d=i.__max__+1,v=c.getShapeX(0,d,i,!!a),S=c.getShapeY(!!a),P=c.getShapeOffset(c.isLineType,i,!!a),R=a?c.getSubYScale:c.getYScale;return function(M,N){var D=R.call(c,M.id)(0),H=P(M,N)||D,I=v(M),W=S(M);return l.axis_rotated&&(0<M.value&&W<D||M.value<0&&D<W)&&(W=D),[[I,W-(D-H)],[I,W-(D-H)],[I,W-(D-H)],[I,W-(D-H)]]}},n.prototype.lineWithRegions=function(i,a,c,l){var d=this,v=d.config,S,P,R="M",M,N,D,H,I,W,j,tt,Z=d.isCategorized()?.5:0,pt,gt,wt=[];function bt(ft,At){var _t;for(_t=0;_t<At.length;_t++)if(At[_t].start<ft&&ft<=At[_t].end)return!0;return!1}if(m(l))for(S=0;S<l.length;S++)wt[S]={},C(l[S].start)?wt[S].start=i[0].x:wt[S].start=d.isTimeSeries()?d.parseDate(l[S].start):l[S].start,C(l[S].end)?wt[S].end=i[i.length-1].x:wt[S].end=d.isTimeSeries()?d.parseDate(l[S].end):l[S].end;pt=v.axis_rotated?function(ft){return c(ft.value)}:function(ft){return a(ft.x)},gt=v.axis_rotated?function(ft){return a(ft.x)}:function(ft){return c(ft.value)};function St(ft){return"M"+ft[0][0]+" "+ft[0][1]+" "+ft[1][0]+" "+ft[1][1]}for(d.isTimeSeries()?M=function(ft,At,_t,vt){var st=ft.x.getTime(),ht=At.x-ft.x,It=new Date(st+ht*_t),te=new Date(st+ht*(_t+vt)),Ft;return v.axis_rotated?Ft=[[c(D(_t)),a(It)],[c(D(_t+vt)),a(te)]]:Ft=[[a(It),c(D(_t))],[a(te),c(D(_t+vt))]],St(Ft)}:M=function(ft,At,_t,vt){var st;return v.axis_rotated?st=[[c(D(_t),!0),a(N(_t))],[c(D(_t+vt),!0),a(N(_t+vt))]]:st=[[a(N(_t),!0),c(D(_t))],[a(N(_t+vt),!0),c(D(_t+vt))]],St(st)},S=0;S<i.length;S++){if(C(wt)||!bt(i[S].x,wt))R+=" "+pt(i[S])+" "+gt(i[S]);else for(N=d.getScale(i[S-1].x+Z,i[S].x+Z,d.isTimeSeries()),D=d.getScale(i[S-1].value,i[S].value),H=a(i[S].x)-a(i[S-1].x),I=c(i[S].value)-c(i[S-1].value),W=Math.sqrt(Math.pow(H,2)+Math.pow(I,2)),j=2/W,tt=j*2,P=j;P<=1;P+=tt)R+=M(i[S-1],i[S],P,j);i[S].x}return R},n.prototype.updateArea=function(i){var a=this,c=a.d3,l=a.main.selectAll("."+T.areas).selectAll("."+T.area).data(a.lineData.bind(a)),d=l.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+c.select(this).style("opacity"),0});a.mainArea=d.merge(l).style("opacity",a.orgAreaOpacity),l.exit().transition().duration(i).style("opacity",0)},n.prototype.redrawArea=function(i,a,c){return[(a?this.mainArea.transition(c):this.mainArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},n.prototype.generateDrawArea=function(i,a){var c=this,l=c.config,d=c.d3.area(),v=c.generateGetAreaPoints(i,a),S=a?c.getSubYScale:c.getYScale,P=function(N){return(a?c.subxx:c.xx).call(c,N)},R=function(N,D){return l.data_groups.length>0?v(N,D)[0][1]:S.call(c,N.id)(c.getAreaBaseValue(N.id))},M=function(N,D){return l.data_groups.length>0?v(N,D)[1][1]:S.call(c,N.id)(N.value)};return d=l.axis_rotated?d.x0(R).x1(M).y(P):d.x(P).y0(l.area_above?0:R).y1(M),l.line_connectNull||(d=d.defined(function(N){return N.value!==null})),function(N){var D=l.line_connectNull?c.filterRemoveNull(N.values):N.values,H=0,I=0,W;return c.isAreaType(N)?(c.isStepType(N)&&(D=c.convertValuesToStep(D)),W=d.curve(c.getInterpolate(N))(D)):(D[0]&&(H=c.x(D[0].x),I=c.getYScale(N.id)(D[0].value)),W=l.axis_rotated?"M "+I+" "+H:"M "+H+" "+I),W||"M 0 0"}},n.prototype.getAreaBaseValue=function(){return 0},n.prototype.generateGetAreaPoints=function(i,a){var c=this,l=c.config,d=i.__max__+1,v=c.getShapeX(0,d,i,!!a),S=c.getShapeY(!!a),P=c.getShapeOffset(c.isAreaType,i,!!a),R=a?c.getSubYScale:c.getYScale;return function(M,N){var D=R.call(c,M.id)(0),H=P(M,N)||D,I=v(M),W=S(M);return l.axis_rotated&&(0<M.value&&W<D||M.value<0&&D<W)&&(W=D),[[I,H],[I,W-(D-H)],[I,W-(D-H)],[I,H]]}},n.prototype.updateCircle=function(i,a){var c=this,l=c.main.selectAll("."+T.circles).selectAll("."+T.circle).data(c.lineOrScatterOrStanfordData.bind(c)),d=l.enter().append("circle").attr("shape-rendering",c.isStanfordGraphType()?"crispEdges":"").attr("class",c.classCircle.bind(c)).attr("cx",i).attr("cy",a).attr("r",c.pointR.bind(c)).style("color",c.isStanfordGraphType()?c.getStanfordPointColor.bind(c):c.color);c.mainCircle=d.merge(l).style("opacity",c.isStanfordGraphType()?1:c.initialOpacityForCircle.bind(c)),l.exit().style("opacity",0)},n.prototype.redrawCircle=function(i,a,c,l){var d=this,v=d.main.selectAll("."+T.selectedCircle);return[(c?d.mainCircle.transition(l):d.mainCircle).style("opacity",this.opacityForCircle.bind(d)).style("color",d.isStanfordGraphType()?d.getStanfordPointColor.bind(d):d.color).attr("cx",i).attr("cy",a),(c?v.transition(l):v).attr("cx",i).attr("cy",a)]},n.prototype.circleX=function(i){return i.x||i.x===0?this.x(i.x):null},n.prototype.updateCircleY=function(){var i=this,a,c;i.config.data_groups.length>0?(a=i.getShapeIndices(i.isLineType),c=i.generateGetLinePoints(a),i.circleY=function(l,d){return c(l,d)[0][1]}):i.circleY=function(l){return i.getYScale(l.id)(l.value)}},n.prototype.getCircles=function(i,a){var c=this;return(a?c.main.selectAll("."+T.circles+c.getTargetSelectorSuffix(a)):c.main).selectAll("."+T.circle+($(i)?"-"+i:""))},n.prototype.expandCircles=function(i,a,c){var l=this,d=l.pointExpandedR.bind(l);c&&l.unexpandCircles(),l.getCircles(i,a).classed(T.EXPANDED,!0).attr("r",d)},n.prototype.unexpandCircles=function(i){var a=this,c=a.pointR.bind(a);a.getCircles(i).filter(function(){return a.d3.select(this).classed(T.EXPANDED)}).classed(T.EXPANDED,!1).attr("r",c)},n.prototype.pointR=function(i){var a=this,c=a.config;return a.isStepType(i)?0:w(c.point_r)?c.point_r(i):c.point_r},n.prototype.pointExpandedR=function(i){var a=this,c=a.config;return c.point_focus_expand_enabled?w(c.point_focus_expand_r)?c.point_focus_expand_r(i):c.point_focus_expand_r?c.point_focus_expand_r:a.pointR(i)*1.75:a.pointR(i)},n.prototype.pointSelectR=function(i){var a=this,c=a.config;return w(c.point_select_r)?c.point_select_r(i):c.point_select_r?c.point_select_r:a.pointR(i)*4},n.prototype.isWithinCircle=function(i,a){var c=this.d3,l=c.mouse(i),d=c.select(i),v=+d.attr("cx"),S=+d.attr("cy");return Math.sqrt(Math.pow(v-l[0],2)+Math.pow(S-l[1],2))<a},n.prototype.isWithinStep=function(i,a){return Math.abs(a-this.d3.mouse(i)[1])<30},n.prototype.getCurrentWidth=function(){var i=this,a=i.config;return a.size_width?a.size_width:i.getParentWidth()},n.prototype.getCurrentHeight=function(){var i=this,a=i.config,c=a.size_height?a.size_height:i.getParentHeight();return c>0?c:320/(i.hasType("gauge")&&!a.gauge_fullCircle?2:1)},n.prototype.getCurrentPaddingTop=function(){var i=this,a=i.config,c=$(a.padding_top)?a.padding_top:0;return i.title&&i.title.node()&&(c+=i.getTitlePadding()),c},n.prototype.getCurrentPaddingBottom=function(){var i=this.config;return $(i.padding_bottom)?i.padding_bottom:0},n.prototype.getCurrentPaddingLeft=function(i){var a=this,c=a.config;return $(c.padding_left)?c.padding_left:c.axis_rotated?!c.axis_x_show||c.axis_x_inner?1:Math.max(s(a.getAxisWidthByAxisId("x",i)),40):!c.axis_y_show||c.axis_y_inner?a.axis.getYAxisLabelPosition().isOuter?30:1:s(a.getAxisWidthByAxisId("y",i))},n.prototype.getCurrentPaddingRight=function(){var i=this,a=i.config,c=0,l=10,d=i.isLegendRight?i.getLegendWidth()+20:0;return $(a.padding_right)?c=a.padding_right+1:a.axis_rotated?c=l+d:!a.axis_y2_show||a.axis_y2_inner?c=2+d+(i.axis.getY2AxisLabelPosition().isOuter?20:0):c=s(i.getAxisWidthByAxisId("y2"))+d,i.colorScale&&i.colorScale.node()&&(c+=i.getColorScalePadding()),c},n.prototype.getParentRectValue=function(i){for(var a=this.selectChart.node(),c;a&&a.tagName!=="BODY";){try{c=a.getBoundingClientRect()[i]}catch{i==="width"&&(c=a.offsetWidth)}if(c)break;a=a.parentNode}return c},n.prototype.getParentWidth=function(){return this.getParentRectValue("width")},n.prototype.getParentHeight=function(){var i=this.selectChart.style("height");return i.indexOf("px")>0?+i.replace("px",""):0},n.prototype.getSvgLeft=function(i){var a=this,c=a.config,l=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,d=c.axis_rotated?T.axisX:T.axisY,v=a.main.select("."+d).node(),S=v&&l?v.getBoundingClientRect():{right:0},P=a.selectChart.node().getBoundingClientRect(),R=a.hasArcType(),M=S.right-P.left-(R?0:a.getCurrentPaddingLeft(i));return M>0?M:0},n.prototype.getAxisWidthByAxisId=function(i,a){var c=this,l=c.axis.getLabelPositionById(i);return c.axis.getMaxTickWidth(i,a)+(l.isInner?20:40)},n.prototype.getHorizontalAxisHeight=function(i,a){var c=this,l=c.config,d=30;return i==="x"&&!(m(a)&&a?l.subchart_axis_x_show:l.axis_x_show)?8:i==="x"&&l.axis_x_height?l.axis_x_height:i==="y"&&!l.axis_y_show?l.legend_show&&!c.isLegendRight&&!c.isLegendInset?10:1:i==="y2"&&!l.axis_y2_show?c.rotated_padding_top:(i==="x"&&!l.axis_rotated&&l.axis_x_tick_rotate&&(d=30+c.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(l.axis_x_tick_rotate))/180)),i==="y"&&l.axis_rotated&&l.axis_y_tick_rotate&&(d=30+c.axis.getMaxTickWidth(i)*Math.cos(Math.PI*(90-Math.abs(l.axis_y_tick_rotate))/180)),d+(c.axis.getLabelPositionById(i).isInner?0:10)+(i==="y2"?-10:0))},n.prototype.initBrush=function(i){var a=this,c=a.d3;return a.brush=(a.config.axis_rotated?c.brushY():c.brushX()).on("brush",function(){var l=c.event.sourceEvent;l&&l.type==="zoom"||a.redrawForBrush()}).on("end",function(){var l=c.event.sourceEvent;l&&l.type==="zoom"||a.brush.empty()&&l&&l.type!=="end"&&a.brush.clear()}),a.brush.updateExtent=function(){var l=this.scale.range(),d;return a.config.axis_rotated?d=[[0,l[0]],[a.width2,l[1]]]:d=[[l[0],0],[l[1],a.height2]],this.extent(d),this},a.brush.updateScale=function(l){return this.scale=l,this},a.brush.update=function(l){this.updateScale(l||a.subX).updateExtent(),a.context.select("."+T.brush).call(this)},a.brush.clear=function(){a.context.select("."+T.brush).call(a.brush.move,null)},a.brush.selection=function(){return c.brushSelection(a.context.select("."+T.brush).node())},a.brush.selectionAsValue=function(l,d){var v,S;return l?(a.context&&(v=[this.scale(l[0]),this.scale(l[1])],S=a.context.select("."+T.brush),d&&(S=S.transition()),a.brush.move(S,v)),[]):(v=a.brush.selection()||[0,0],[this.scale.invert(v[0]),this.scale.invert(v[1])])},a.brush.empty=function(){var l=a.brush.selection();return!l||l[0]===l[1]},a.brush.updateScale(i)},n.prototype.initSubchart=function(){var i=this,a=i.config,c=i.context=i.svg.append("g").attr("transform",i.getTranslate("context"));c.style("visibility","visible"),c.append("g").attr("clip-path",i.clipPathForSubchart).attr("class",T.chart),c.select("."+T.chart).append("g").attr("class",T.chartBars),c.select("."+T.chart).append("g").attr("class",T.chartLines),c.append("g").attr("clip-path",i.clipPath).attr("class",T.brush),i.axes.subx=c.append("g").attr("class",T.axisX).attr("transform",i.getTranslate("subx")).attr("clip-path",a.axis_rotated?"":i.clipPathForXAxis).style("visibility",a.subchart_axis_x_show?"visible":"hidden")},n.prototype.initSubchartBrush=function(){var i=this;i.initBrush(i.subX).updateExtent(),i.context.select("."+T.brush).call(i.brush)},n.prototype.updateTargetsForSubchart=function(i){var a=this,c=a.context,l=a.config,d,v,S,P,R=a.classChartBar.bind(a),M=a.classBars.bind(a),N=a.classChartLine.bind(a),D=a.classLines.bind(a),H=a.classAreas.bind(a);P=c.select("."+T.chartBars).selectAll("."+T.chartBar).data(i),S=P.enter().append("g").style("opacity",0),S.merge(P).attr("class",R),S.append("g").attr("class",M),v=c.select("."+T.chartLines).selectAll("."+T.chartLine).data(i),d=v.enter().append("g").style("opacity",0),d.merge(v).attr("class",N),d.append("g").attr("class",D),d.append("g").attr("class",H),c.selectAll("."+T.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?a.width2:a.height2)},n.prototype.updateBarForSubchart=function(i){var a=this,c=a.context.selectAll("."+T.bars).selectAll("."+T.bar).data(a.barData.bind(a)),l=c.enter().append("path").attr("class",a.classBar.bind(a)).style("stroke","none").style("fill",a.color);c.exit().transition().duration(i).style("opacity",0).remove(),a.contextBar=l.merge(c).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawBarForSubchart=function(i,a,c){(a?this.contextBar.transition(Math.random().toString()).duration(c):this.contextBar).attr("d",i).style("opacity",1)},n.prototype.updateLineForSubchart=function(i){var a=this,c=a.context.selectAll("."+T.lines).selectAll("."+T.line).data(a.lineData.bind(a)),l=c.enter().append("path").attr("class",a.classLine.bind(a)).style("stroke",a.color);c.exit().transition().duration(i).style("opacity",0).remove(),a.contextLine=l.merge(c).style("opacity",a.initialOpacity.bind(a))},n.prototype.redrawLineForSubchart=function(i,a,c){(a?this.contextLine.transition(Math.random().toString()).duration(c):this.contextLine).attr("d",i).style("opacity",1)},n.prototype.updateAreaForSubchart=function(i){var a=this,c=a.d3,l=a.context.selectAll("."+T.areas).selectAll("."+T.area).data(a.lineData.bind(a)),d=l.enter().append("path").attr("class",a.classArea.bind(a)).style("fill",a.color).style("opacity",function(){return a.orgAreaOpacity=+c.select(this).style("opacity"),0});l.exit().transition().duration(i).style("opacity",0).remove(),a.contextArea=d.merge(l).style("opacity",0)},n.prototype.redrawAreaForSubchart=function(i,a,c){(a?this.contextArea.transition(Math.random().toString()).duration(c):this.contextArea).attr("d",i).style("fill",this.color).style("opacity",this.orgAreaOpacity)},n.prototype.redrawSubchart=function(i,a,c,l,d,v,S){var P=this,R=P.d3,M,N,D;R.event&&R.event.type==="zoom"&&P.brush.selectionAsValue(P.x.orgDomain()),i&&(P.brush.empty()||P.brush.selectionAsValue(P.x.orgDomain()),M=P.generateDrawArea(d,!0),N=P.generateDrawBar(v,!0),D=P.generateDrawLine(S,!0),P.updateBarForSubchart(c),P.updateLineForSubchart(c),P.updateAreaForSubchart(c),P.redrawBarForSubchart(N,c,c),P.redrawLineForSubchart(D,c,c),P.redrawAreaForSubchart(M,c,c))},n.prototype.redrawForBrush=function(){var i=this,a=i.x,c=i.d3,l;i.redraw({withTransition:!1,withY:i.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),l=c.event.selection||i.brush.scale.range(),i.main.select("."+T.eventRect).call(i.zoom.transform,c.zoomIdentity.scale(i.width/(l[1]-l[0])).translate(-l[0],0)),i.config.subchart_onbrush.call(i.api,a.orgDomain())},n.prototype.transformContext=function(i,a){var c=this,l;a&&a.axisSubX?l=a.axisSubX:(l=c.context.select("."+T.axisX),i&&(l=l.transition())),c.context.attr("transform",c.getTranslate("context")),l.attr("transform",c.getTranslate("subx"))},n.prototype.getDefaultSelection=function(){var i=this,a=i.config,c=w(a.axis_x_selection)?a.axis_x_selection(i.getXDomain(i.data.targets)):a.axis_x_selection;return i.isTimeSeries()&&(c=[i.parseDate(c[0]),i.parseDate(c[1])]),c},n.prototype.removeSubchart=function(){var i=this;i.brush=null,i.context.remove(),i.context=null},n.prototype.initText=function(){var i=this;i.main.select("."+T.chart).append("g").attr("class",T.chartTexts),i.mainText=i.d3.selectAll([])},n.prototype.updateTargetsForText=function(i){var a=this,c=a.classChartText.bind(a),l=a.classTexts.bind(a),d=a.classFocus.bind(a),v=a.main.select("."+T.chartTexts).selectAll("."+T.chartText).data(i),S=v.enter().append("g").attr("class",c).style("opacity",0).style("pointer-events","none");S.append("g").attr("class",l),S.merge(v).attr("class",function(P){return c(P)+d(P)})},n.prototype.updateText=function(i,a,c){var l=this,d=l.config,v=l.barOrLineData.bind(l),S=l.classText.bind(l),P=l.main.selectAll("."+T.texts).selectAll("."+T.text).data(v),R=P.enter().append("text").attr("class",S).attr("text-anchor",function(M){return d.axis_rotated?M.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",i).attr("y",a).style("fill",function(M){return l.color(M)}).style("fill-opacity",0);l.mainText=R.merge(P).text(function(M,N,D){return l.dataLabelFormat(M.id)(M.value,M.id,N,D)}),P.exit().transition().duration(c).style("fill-opacity",0).remove()},n.prototype.redrawText=function(i,a,c,l,d){return[(l?this.mainText.transition(d):this.mainText).attr("x",i).attr("y",a).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},n.prototype.getTextRect=function(i,a,c){var l=this.d3.select("body").append("div").classed("c3",!0),d=l.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),v=this.d3.select(c).style("font"),S;return d.selectAll(".dummy").data([i]).enter().append("text").classed(a||"",!0).style("font",v).text(i).each(function(){S=p(this)}),l.remove(),S},n.prototype.generateXYForText=function(i,a,c,l){var d=this,v=d.generateGetAreaPoints(i,!1),S=d.generateGetBarPoints(a,!1),P=d.generateGetLinePoints(c,!1),R=l?d.getXForText:d.getYForText;return function(M,N){var D=d.isAreaType(M)?v:d.isBarType(M)?S:P;return R.call(d,D(M,N),M,this)}},n.prototype.getXForText=function(i,a,c){var l=this,d=p(c),v,S;return l.config.axis_rotated?(S=l.isBarType(a)?4:6,v=i[2][1]+S*(a.value<0?-1:1)):v=l.hasType("bar")?(i[2][0]+i[0][0])/2:i[0][0],a.value===null&&(v>l.width?v=l.width-d.width:v<0&&(v=4)),v},n.prototype.getYForText=function(i,a,c){var l=this,d=p(c),v;return l.config.axis_rotated?v=(i[0][0]+i[2][0]+d.height*.6)/2:(v=i[2][1],a.value<0||a.value===0&&!l.hasPositiveValue?(v+=d.height,l.isBarType(a)&&l.isSafari()?v-=3:!l.isBarType(a)&&l.isChrome()&&(v+=3)):v+=l.isBarType(a)?-3:-6),a.value===null&&!l.config.axis_rotated&&(v<d.height?v=d.height:v>this.height&&(v=this.height-4)),v},n.prototype.initTitle=function(){var i=this;i.title=i.svg.append("text").text(i.config.title_text).attr("class",i.CLASS.title)},n.prototype.redrawTitle=function(){var i=this;i.title.attr("x",i.xForTitle.bind(i)).attr("y",i.yForTitle.bind(i))},n.prototype.xForTitle=function(){var i=this,a=i.config,c=a.title_position||"left",l;return c.indexOf("right")>=0?l=i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width-a.title_padding.right:c.indexOf("center")>=0?l=Math.max((i.currentWidth-i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).width)/2,0):l=a.title_padding.left,l},n.prototype.yForTitle=function(){var i=this;return i.config.title_padding.top+i.getTextRect(i.title.node().textContent,i.CLASS.title,i.title.node()).height},n.prototype.getTitlePadding=function(){var i=this;return i.yForTitle()+i.config.title_padding.bottom};function U(i){return i/Math.pow(10,Math.ceil(Math.log(i)/Math.LN10-1e-12))===1}n.prototype.drawColorScale=function(){var i=this,a=i.d3,c=i.config,l=i.data.targets[0],d,v,S,P,R,M,N,D;if(d=isNaN(c.stanford_scaleWidth)?20:c.stanford_scaleWidth,v=5,v<0||d<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");D=i.height-c.stanford_padding.bottom-c.stanford_padding.top,P=a.range(c.stanford_padding.bottom,D,v),N=a.scaleSequential(l.colors).domain([P[P.length-1],P[0]]),i.colorScale&&i.colorScale.remove(),i.colorScale=i.svg.append("g").attr("width",50).attr("height",D).attr("class",T.colorScale),i.colorScale.append("g").attr("transform","translate(0, "+c.stanford_padding.top+")").selectAll("bars").data(P).enter().append("rect").attr("y",function(H,I){return I*v}).attr("x",0).attr("width",d).attr("height",v).attr("fill",function(H){return N(H)}),M=a.scaleLog().domain([l.minEpochs,l.maxEpochs]).range([P[0]+c.stanford_padding.top+P[P.length-1]+v-1,P[0]+c.stanford_padding.top]),R=a.axisRight(M),c.stanford_scaleFormat==="pow10"?R.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):w(c.stanford_scaleFormat)?R.tickFormat(c.stanford_scaleFormat):R.tickFormat(a.format("d")),w(c.stanford_scaleValues)&&R.tickValues(c.stanford_scaleValues(l.minEpochs,l.maxEpochs)),S=i.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+d+",0)").call(R),c.stanford_scaleFormat==="pow10"&&S.selectAll(".tick text").text(null).filter(U).text(10).append("tspan").attr("dy","-.7em").text(function(H){return Math.round(Math.log(H)/Math.LN10)}),i.colorScale.attr("transform","translate("+(i.currentWidth-i.xForColorScale())+", 0)")},n.prototype.xForColorScale=function(){var i=this;return i.config.stanford_padding.right+p(i.colorScale.node()).width},n.prototype.getColorScalePadding=function(){var i=this;return i.xForColorScale()+i.config.stanford_padding.left+20},n.prototype.isStanfordGraphType=function(){var i=this;return i.config.data_type==="stanford"},n.prototype.initStanfordData=function(){var i=this,a=i.d3,c=i.config,l=i.data.targets[0],d,v,S;if(l.values.sort(ot),d=l.values.map(function(P){return P.epochs}),S=isNaN(c.stanford_scaleMin)?a.min(d):c.stanford_scaleMin,v=isNaN(c.stanford_scaleMax)?a.max(d):c.stanford_scaleMax,S>v)throw Error("Number of minEpochs has to be smaller than maxEpochs");l.colors=w(c.stanford_colors)?c.stanford_colors:a.interpolateHslLong(a.hsl(250,1,.5),a.hsl(0,1,.5)),l.colorscale=a.scaleSequentialLog(l.colors).domain([S,v]),l.minEpochs=S,l.maxEpochs=v},n.prototype.getStanfordPointColor=function(i){var a=this,c=a.data.targets[0];return c.colorscale(i.epochs)},n.prototype.getCentroid=function(i){var a=K(i),c=0,l=0,d,v,S,P,R;for(d=0,v=i.length-1;d<i.length;v=d,d+=1)P=i[d],R=i[v],S=P.x*R.y-R.x*P.y,c+=(P.x+R.x)*S,l+=(P.y+R.y)*S;return S=a*6,{x:c/S,y:l/S}},n.prototype.getStanfordTooltipTitle=function(i){var a=this,c=a.axis.getLabelText("x"),l=a.axis.getLabelText("y");return`
      <tr><th>`+(c?O(c):"x")+"</th><th class='value'>"+i.x+`</th></tr>
      <tr><th>`+(l?O(l):"y")+"</th><th class='value'>"+i.value+`</th></tr>
    `},n.prototype.countEpochsInRegion=function(i){var a=this,c=a.data.targets[0],l,d;return l=c.values.reduce(function(v,S){return v+Number(S.epochs)},0),d=c.values.reduce(function(v,S){return rt(S,i)?v+Number(S.epochs):v},0),{value:d,percentage:d!==0?(d/l*100).toFixed(1):0}};var K=function(i){var a=0,c,l,d,v;for(c=0,l=i.length-1;c<i.length;l=c,c+=1)d=i[c],v=i[l],a+=d.x*v.y,a-=d.y*v.x;return a/=2,a},rt=function(i,a){for(var c,l,d,v,S,P=i.x,R=i.value,M=!1,N=0,D=a.length-1;N<a.length;D=N++)c=a[N].x,l=a[N].y,v=a[D].x,d=a[D].y,S=l>R!=d>R&&P<(v-c)*(R-l)/(d-l)+c,S&&(M=!M);return M},ot=function(i,a){return i.epochs<a.epochs?-1:i.epochs>a.epochs?1:0};return n.prototype.initStanfordElements=function(){var i=this;i.stanfordElements=i.main.select("."+T.chart).append("g").attr("class",T.stanfordElements),i.stanfordElements.append("g").attr("class",T.stanfordLines),i.stanfordElements.append("g").attr("class",T.stanfordTexts),i.stanfordElements.append("g").attr("class",T.stanfordRegions)},n.prototype.updateStanfordElements=function(i){var a=this,c=a.main,l=a.config,d,v,S,P,R,M,N=a.xvCustom.bind(a),D=a.yvCustom.bind(a),H=a.countEpochsInRegion.bind(a);d=c.select("."+T.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+T.stanfordLine).data(l.stanford_lines),v=d.enter().append("g").attr("class",function(I){return T.stanfordLine+(I.class?" "+I.class:"")}),v.append("line").attr("x1",function(I){return l.axis_rotated?D(I,"value_y1"):N(I,"value_x1")}).attr("x2",function(I){return l.axis_rotated?D(I,"value_y2"):N(I,"value_x2")}).attr("y1",function(I){return l.axis_rotated?N(I,"value_x1"):D(I,"value_y1")}).attr("y2",function(I){return l.axis_rotated?N(I,"value_x2"):D(I,"value_y2")}).style("opacity",0),a.stanfordLines=v.merge(d),a.stanfordLines.select("line").transition().duration(i).attr("x1",function(I){return l.axis_rotated?D(I,"value_y1"):N(I,"value_x1")}).attr("x2",function(I){return l.axis_rotated?D(I,"value_y2"):N(I,"value_x2")}).attr("y1",function(I){return l.axis_rotated?N(I,"value_x1"):D(I,"value_y1")}).attr("y2",function(I){return l.axis_rotated?N(I,"value_x2"):D(I,"value_y2")}).style("opacity",1),d.exit().transition().duration(i).style("opacity",0).remove(),R=c.select("."+T.stanfordTexts).selectAll("."+T.stanfordText).data(l.stanford_texts),M=R.enter().append("g").attr("class",function(I){return T.stanfordText+(I.class?" "+I.class:"")}),M.append("text").attr("x",function(I){return l.axis_rotated?D(I,"y"):N(I,"x")}).attr("y",function(I){return l.axis_rotated?N(I,"x"):D(I,"y")}).style("opacity",0),a.stanfordTexts=M.merge(R),a.stanfordTexts.select("text").transition().duration(i).attr("x",function(I){return l.axis_rotated?D(I,"y"):N(I,"x")}).attr("y",function(I){return l.axis_rotated?N(I,"x"):D(I,"y")}).text(function(I){return I.content}).style("opacity",1),R.exit().transition().duration(i).style("opacity",0).remove(),S=c.select("."+T.stanfordRegions).selectAll("."+T.stanfordRegion).data(l.stanford_regions),P=S.enter().append("g").attr("class",function(I){return T.stanfordRegion+(I.class?" "+I.class:"")}),P.append("polygon").attr("points",function(I){return I.points.map(function(W){return[l.axis_rotated?D(W,"y"):N(W,"x"),l.axis_rotated?N(W,"x"):D(W,"y")].join(",")}).join(" ")}).style("opacity",0),P.append("text").attr("x",function(I){return a.getCentroid(I.points).x}).attr("y",function(I){return a.getCentroid(I.points).y}).style("opacity",0),a.stanfordRegions=P.merge(S),a.stanfordRegions.select("polygon").transition().duration(i).attr("points",function(I){return I.points.map(function(W){return[l.axis_rotated?D(W,"y"):N(W,"x"),l.axis_rotated?N(W,"x"):D(W,"y")].join(",")}).join(" ")}).style("opacity",function(I){return I.opacity?I.opacity:.2}),a.stanfordRegions.select("text").transition().duration(i).attr("x",function(I){return l.axis_rotated?D(a.getCentroid(I.points),"y"):N(a.getCentroid(I.points),"x")}).attr("y",function(I){return l.axis_rotated?N(a.getCentroid(I.points),"x"):D(a.getCentroid(I.points),"y")}).text(function(I){if(I.text){var W,j,tt;return a.isStanfordGraphType()&&(tt=H(I.points),W=tt.value,j=tt.percentage),I.text(W,j)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),S.exit().transition().duration(i).style("opacity",0).remove()},n.prototype.initTooltip=function(){var i=this,a=i.config,c;if(i.tooltip=i.selectChart.style("position","relative").append("div").attr("class",T.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),a.tooltip_init_show){if(i.isTimeSeries()&&A(a.tooltip_init_x)){for(a.tooltip_init_x=i.parseDate(a.tooltip_init_x),c=0;c<i.data.targets[0].values.length&&i.data.targets[0].values[c].x-a.tooltip_init_x!==0;c++);a.tooltip_init_x=c}i.tooltip.html(a.tooltip_contents.call(i,i.data.targets.map(function(l){return i.addName(l.values[a.tooltip_init_x])}),i.axis.getXAxisTickFormat(),i.getYFormat(i.hasArcType()),i.color)),i.tooltip.style("top",a.tooltip_init_position.top).style("left",a.tooltip_init_position.left).style("display","block")}},n.prototype.getTooltipSortFunction=function(){var i=this,a=i.config;if(a.data_groups.length===0||a.tooltip_order!==void 0){var c=a.tooltip_order;c===void 0&&(c=a.data_order);var l=function(S){return S?S.value:null};if(A(c)&&c.toLowerCase()==="asc")return function(S,P){return l(S)-l(P)};if(A(c)&&c.toLowerCase()==="desc")return function(S,P){return l(P)-l(S)};if(w(c)){var d=c;return a.tooltip_order===void 0&&(d=function(S,P){return c(S?{id:S.id,values:[S]}:null,P?{id:P.id,values:[P]}:null)}),d}else if(y(c))return function(S,P){return c.indexOf(S.id)-c.indexOf(P.id)}}else{var v=i.orderTargets(i.data.targets).map(function(S){return S.id});return(i.isOrderAsc()||i.isOrderDesc())&&(v=v.reverse()),function(S,P){return v.indexOf(S.id)-v.indexOf(P.id)}}},n.prototype.getTooltipContent=function(i,a,c,l){var d=this,v=d.config,S=v.tooltip_format_title||a,P=v.tooltip_format_name||function(tt){return tt},R,M,N,D,H,I,W=v.tooltip_format_value;W||(W=d.isTargetNormalized(i.id)?function(tt,Z){return(Z*100).toFixed(2)+"%"}:c);var j=this.getTooltipSortFunction();for(j&&i.sort(j),M=0;M<i.length;M++)if(i[M]&&(i[M].value||i[M].value===0)){if(d.isStanfordGraphType())R||(N=d.getStanfordTooltipTitle(i[M]),R="<table class='"+d.CLASS.tooltip+"'>"+N),I=d.getStanfordPointColor(i[M]),H=O(v.data_epochs),D=i[M].epochs;else if(R||(N=O(S?S(i[M].x,i[M].index):i[M].x),R="<table class='"+d.CLASS.tooltip+"'>"+(N||N===0?"<tr><th colspan='2'>"+N+"</th></tr>":"")),D=O(W(i[M].value,i[M].ratio,i[M].id,i[M].index,i)),D!==void 0){if(i[M].name===null)continue;H=O(P(i[M].name,i[M].ratio,i[M].id,i[M].index)),I=d.levelColor?d.levelColor(i[M].value):l(i[M].id)}D!==void 0&&(R+="<tr class='"+d.CLASS.tooltipName+"-"+d.getTargetSelectorSuffix(i[M].id)+"'>",R+="<td class='name'><span style='background-color:"+I+"'></span>"+H+"</td>",R+="<td class='value'>"+D+"</td>",R+="</tr>")}return R+"</table>"},n.prototype.tooltipPosition=function(i,a,c,l){var d=this,v=d.config,S=d.d3,P,R,M,N,D,H=d.hasArcType(),I=S.mouse(l);return H?(R=(d.width-(d.isLegendRight?d.getLegendWidth():0))/2+I[0],N=(d.hasType("gauge")?d.height:d.height/2)+I[1]+20):(P=d.getSvgLeft(!0),v.axis_rotated?(R=P+I[0]+100,M=R+a,D=d.currentWidth-d.getCurrentPaddingRight(),N=d.x(i[0].x)+20):(R=P+d.getCurrentPaddingLeft(!0)+d.x(i[0].x)+20,M=R+a,D=P+d.currentWidth-d.getCurrentPaddingRight(),N=I[1]+15),M>D&&(R-=M-D+20),N+c>d.currentHeight&&(N-=c+30)),N<0&&(N=0),{top:N,left:R}},n.prototype.showTooltip=function(i,a){var c=this,l=c.config,d,v,S,P=c.hasArcType(),R=i.filter(function(N){return N&&$(N.value)}),M=l.tooltip_position||n.prototype.tooltipPosition;if(R.length===0||!l.tooltip_show){c.hideTooltip();return}c.tooltip.html(l.tooltip_contents.call(c,i,c.axis.getXAxisTickFormat(),c.getYFormat(P),c.color)).style("display","block"),d=c.tooltip.property("offsetWidth"),v=c.tooltip.property("offsetHeight"),S=M.call(this,R,d,v,a),c.tooltip.style("top",S.top+"px").style("left",S.left+"px")},n.prototype.hideTooltip=function(){this.tooltip.style("display","none")},n.prototype.setTargetType=function(i,a){var c=this,l=c.config;c.mapToTargetIds(i).forEach(function(d){c.withoutFadeIn[d]=a===l.data_types[d],l.data_types[d]=a}),i||(l.data_type=a)},n.prototype.hasType=function(i,a){var c=this,l=c.config.data_types,d=!1;return a=a||c.data.targets,a&&a.length?a.forEach(function(v){var S=l[v.id];(S&&S.indexOf(i)>=0||!S&&i==="line")&&(d=!0)}):Object.keys(l).length?Object.keys(l).forEach(function(v){l[v]===i&&(d=!0)}):d=c.config.data_type===i,d},n.prototype.hasArcType=function(i){return this.hasType("pie",i)||this.hasType("donut",i)||this.hasType("gauge",i)},n.prototype.isLineType=function(i){var a=this.config,c=A(i)?i:i.id;return!a.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(a.data_types[c])>=0},n.prototype.isStepType=function(i){var a=A(i)?i:i.id;return["step","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isSplineType=function(i){var a=A(i)?i:i.id;return["spline","area-spline"].indexOf(this.config.data_types[a])>=0},n.prototype.isAreaType=function(i){var a=A(i)?i:i.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[a])>=0},n.prototype.isBarType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="bar"},n.prototype.isScatterType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="scatter"},n.prototype.isStanfordType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="stanford"},n.prototype.isPieType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="pie"},n.prototype.isGaugeType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="gauge"},n.prototype.isDonutType=function(i){var a=A(i)?i:i.id;return this.config.data_types[a]==="donut"},n.prototype.isArcType=function(i){return this.isPieType(i)||this.isDonutType(i)||this.isGaugeType(i)},n.prototype.lineData=function(i){return this.isLineType(i)?[i]:[]},n.prototype.arcData=function(i){return this.isArcType(i.data)?[i]:[]},n.prototype.barData=function(i){return this.isBarType(i)?i.values:[]},n.prototype.lineOrScatterOrStanfordData=function(i){return this.isLineType(i)||this.isScatterType(i)||this.isStanfordType(i)?i.values:[]},n.prototype.barOrLineData=function(i){return this.isBarType(i)||this.isLineType(i)?i.values:[]},n.prototype.isSafari=function(){var i=window.navigator.userAgent;return i.indexOf("Safari")>=0&&i.indexOf("Chrome")<0},n.prototype.isChrome=function(){var i=window.navigator.userAgent;return i.indexOf("Chrome")>=0},n.prototype.initZoom=function(){var i=this,a=i.d3,c=i.config,l;return i.zoom=a.zoom().on("start",function(){if(c.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||(l=d,c.zoom_onzoomstart.call(i.api,d))}}).on("zoom",function(){if(c.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||(i.redrawForZoom(),c.zoom_onzoom.call(i.api,i.x.orgDomain()))}}).on("end",function(){if(c.zoom_type==="scroll"){var d=a.event.sourceEvent;d&&d.type==="brush"||d&&l.clientX===d.clientX&&l.clientY===d.clientY||c.zoom_onzoomend.call(i.api,i.x.orgDomain())}}),i.zoom.updateDomain=function(){return a.event&&a.event.transform&&(c.axis_rotated&&c.zoom_type==="scroll"&&a.event.sourceEvent.type==="mousemove"?i.x.domain(a.event.transform.rescaleY(i.subX).domain()):i.x.domain(a.event.transform.rescaleX(i.subX).domain())),this},i.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[i.width,i.height]]).extent([[0,0],[i.width,i.height]]),this},i.zoom.update=function(){return this.updateExtent().updateDomain()},i.zoom.updateExtent()},n.prototype.zoomTransform=function(i){var a=this,c=[a.x(i[0]),a.x(i[1])];return a.d3.zoomIdentity.scale(a.width/(c[1]-c[0])).translate(-c[0],0)},n.prototype.initDragZoom=function(){var i=this,a=i.d3,c=i.config,l=i.context=i.svg,d=i.margin.left+20.5,v=i.margin.top+.5;if(c.zoom_type==="drag"&&c.zoom_enabled){var S=function(R){return R&&R.map(function(M){return i.x.invert(M)})},P=i.dragZoomBrush=a.brushX().on("start",function(){i.api.unzoom(),i.svg.select("."+T.dragZoom).classed("disabled",!1),c.zoom_onzoomstart.call(i.api,a.event.sourceEvent)}).on("brush",function(){c.zoom_onzoom.call(i.api,S(a.event.selection))}).on("end",function(){if(a.event.selection!=null){var R=S(a.event.selection);c.zoom_disableDefaultBehavior||i.api.zoom(R),i.svg.select("."+T.dragZoom).classed("disabled",!0),c.zoom_onzoomend.call(i.api,R)}});l.append("g").classed(T.dragZoom,!0).attr("clip-path",i.clipPath).attr("transform","translate("+d+","+v+")").call(P)}},n.prototype.getZoomDomain=function(){var i=this,a=i.config,c=i.d3,l=c.min([i.orgXDomain[0],a.zoom_x_min]),d=c.max([i.orgXDomain[1],a.zoom_x_max]);return[l,d]},n.prototype.redrawForZoom=function(){var i=this,a=i.d3,c=i.config,l=i.zoom,d=i.x;c.zoom_enabled&&i.filterTargetsToShow(i.data.targets).length!==0&&(l.update(),!c.zoom_disableDefaultBehavior&&(i.isCategorized()&&d.orgDomain()[0]===i.orgXDomain[0]&&d.domain([i.orgXDomain[0]-1e-10,d.orgDomain()[1]]),i.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),a.event.sourceEvent&&a.event.sourceEvent.type==="mousemove"&&(i.cancelClick=!0)))},Y})})(Sb);function Ur(t,e,n){this.k=t,this.x=e,this.y=n}Ur.prototype={constructor:Ur,scale:function(t){return t===1?this:new Ur(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ur(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ur.prototype;_u.generate({bindto:"#chart",data:{type:"pie",columns:[["Louvre 雙人床架",1],["Antony 雙人床架",2],["Anty 雙人床架",3],["其他",4]],colors:{"Louvre 雙人床架":"#DACBFF","Antony 雙人床架":"#9D7FEA","Anty 雙人床架":"#5434A7",其他:"#301E5F"}}});document.querySelector(".js-orderList");
